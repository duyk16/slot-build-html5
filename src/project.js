window.__require=function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+s+"'")}}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return o(e[s][1][t]||t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof __require&&__require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){"use strict";n.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},n.toByteArray=function(t){for(var e,n=u(t),r=n[0],s=n[1],a=new i(function(t,e,n){return 3*(e+n)/4-n}(0,r,s)),c=0,l=s>0?r-4:r,h=0;h<l;h+=4)e=o[t.charCodeAt(h)]<<18|o[t.charCodeAt(h+1)]<<12|o[t.charCodeAt(h+2)]<<6|o[t.charCodeAt(h+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;2===s&&(e=o[t.charCodeAt(h)]<<2|o[t.charCodeAt(h+1)]>>4,a[c++]=255&e);1===s&&(e=o[t.charCodeAt(h)]<<10|o[t.charCodeAt(h+1)]<<4|o[t.charCodeAt(h+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e);return a},n.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],s=0,a=n-o;s<a;s+=16383)i.push(h(t,s,s+16383>a?a:s+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],o[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function h(t,e,n){for(var r,o=[],i=e;i<n;i+=3)r=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(l(r));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(t,e,n){(function(e){"use strict";var r=t("base64-js"),o=t("ieee754"),i=t("isarray");function s(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),o=(t=a(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):f(t,e);if("Buffer"===e.type&&i(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=a(t,e<0?0:0|p(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return j(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,o);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,o){var i,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var l=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var h=!0,f=0;f<c;f++)if(u(t,i+f)!==u(e,f)){h=!1;break}if(h)return i}return-1}function v(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function _(t,e,n,r){return Y(j(e,t.length-n),t,n,r)}function b(t,e,n,r){return Y(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return b(t,e,n,r)}function S(t,e,n,r){return Y(G(e),t,n,r)}function E(t,e,n,r){return Y(function(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function B(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,s,a,c,u=t[o],l=null,h=u>239?4:u>223?3:u>191?2:1;if(o+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(c=(15&u)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=h}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=A));return n}(r)}n.Buffer=c,n.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=s(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var s=t[n];if(!c.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?B(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return B(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,s=n-e,a=Math.min(i,s),u=this.slice(r,o),l=t.slice(e,n),h=0;h<a;++h)if(u[h]!==l[h]){i=u[h],s=l[h];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function I(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=M(t[i]);return o}function k(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function U(t,e,n,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function P(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function L(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function N(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(t,e,n,r,i){return i||N(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function F(t,e,n,r,i){return i||N(t,0,n,8),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var o=e-t;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},c.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||U(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||U(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);U(this,t,e,n,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);U(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||U(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return O(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return O(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return F(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return F(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=c.isBuffer(t)?t:j(new c(t,r).toString()),a=s.length;for(i=0;i<n-e;++i)this[i+e]=s[i%a]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function M(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],4:[function(t,e,n){n.read=function(t,e,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?o-1:0,f=n?-1:1,p=t[e+h];for(h+=f,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+t[e+h],h+=f,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=u}return(p?-1:1)*s*Math.pow(2,i-r)},n.write=function(t,e,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,h=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,o),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;t[n+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+p]=255&s,p+=d,s/=256,u-=8);t[n+p-d]|=128*m}},{}],5:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,i){e=e||"&",n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var h,f,p,d,m=t[l].replace(a,"%20"),g=m.indexOf(n);g>=0?(h=m.substr(0,g),f=m.substr(g+1)):(h=m,f=""),p=decodeURIComponent(h),d=decodeURIComponent(f),r(s,p)?o(s[p])?s[p].push(d):s[p]=[s[p],d]:s[p]=d}return s};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],6:[function(t,e,n){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,a){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?i(s(t),function(s){var a=encodeURIComponent(r(s))+n;return o(t[s])?i(t[s],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[s]))}).join(e):a?encodeURIComponent(r(a))+n+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],7:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":5,"./encode":6}],8:[function(t,e,n){arguments[4][1][0].apply(n,arguments)},{dup:1}],9:[function(t,e,n){"use strict";var r=t("base64-js"),o=t("ieee754");n.Buffer=a,n.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function s(t){if(t>i)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=a.prototype,e}function a(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|p(t,e),r=s(n),o=r.write(t,e);o!==n&&(r=r.slice(0,o));return r}(t,e);if(ArrayBuffer.isView(t))return h(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(j(t,ArrayBuffer)||t&&j(t.buffer,ArrayBuffer))return function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n);return r.__proto__=a.prototype,r}(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return a.from(r,e,n);var o=function(t){if(a.isBuffer(t)){var e=0|f(t.length),n=s(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}if(void 0!==t.length)return"number"!=typeof t.length||G(t.length)?s(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return u(t),s(t<0?0:0|f(t))}function h(t){for(var e=t.length<0?0:0|f(t.length),n=s(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t){if(t>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|t}function p(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||j(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return D(t).length;default:if(o)return r?-1:F(t).length;e=(""+e).toLowerCase(),o=!0}}function d(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),G(n=+n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,o){var i,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(o){var l=-1;for(i=n;i<a;i++)if(u(t,i)===u(e,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*s}else-1!==l&&(i-=i-l),l=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){for(var h=!0,f=0;f<c;f++)if(u(t,i+f)!==u(e,f)){h=!1;break}if(h)return i}return-1}function y(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(G(a))return s;t[n+s]=a}return s}function v(t,e,n,r){return M(F(e,t.length-n),t,n,r)}function _(t,e,n,r){return M(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function b(t,e,n,r){return _(t,e,n,r)}function w(t,e,n,r){return M(D(e),t,n,r)}function S(t,e,n,r){return M(function(t,e){for(var n,r,o,i=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,s,a,c,u=t[o],l=null,h=u>239?4:u>223?3:u>191?2:1;if(o+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&(c=(15&u)<<12|(63&i)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=t[o+1],s=t[o+2],a=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=h}return function(t){var e=t.length;if(e<=B)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=B));return n}(r)}n.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(t,e,n){return c(t,e,n)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},a.allocUnsafe=function(t){return l(t)},a.allocUnsafeSlow=function(t){return l(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(j(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),j(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var i=t[n];if(j(i,Uint8Array)&&(i=a.from(i)),!a.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,r,o){if(j(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,o>>>=0,this===t)return 0;for(var i=o-r,s=n-e,c=Math.min(i,s),u=this.slice(r,o),l=t.slice(e,n),h=0;h<c;++h)if(u[h]!==l[h]){i=u[h],s=l[h];break}return i<s?-1:s<i?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return _(this,t,e,n);case"latin1":case"binary":return b(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var B=4096;function A(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=O(t[i]);return o}function I(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function k(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function x(t,e,n,r,o,i){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function U(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(t,e,n,r,i){return e=+e,n>>>=0,i||U(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function L(t,e,n,r,i){return e=+e,n>>>=0,i||U(t,0,n,8),o.write(t,e,n,r,52,8),n+8}a.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=a.prototype,r},a.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||k(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},a.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||k(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},a.prototype.readUInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||k(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||k(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},a.prototype.readInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){t>>>=0,e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||k(t,4,this.length),o.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||k(t,4,this.length),o.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||k(t,8,this.length),o.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||k(t,8,this.length),o.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||x(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||x(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var o=Math.pow(2,8*n-1);x(this,t,e,n,o-1,-o)}var i=0,s=1,a=0;for(this[e]=255&t;++i<n&&(s*=256);)t<0&&0===a&&0!==this[e+i-1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var o=Math.pow(2,8*n-1);x(this,t,e,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===a&&0!==this[e+i+1]&&(a=1),this[e+i]=(t/s>>0)-a&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,n){return P(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return P(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return L(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return L(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o=r-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var i=o-1;i>=0;--i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return o},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var o=t.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(t=o)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var s=a.isBuffer(t)?t:a.from(t,r),c=s.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=s[i%c]}return this};var N=/[^+/0-9A-Za-z-_]/g;function O(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function D(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function M(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}function j(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function G(t){return t!=t}},{"base64-js":8,ieee754:13}],10:[function(t,e,n){(function(t){var n=function(){"use strict";function e(t,e){return null!=e&&t instanceof e}var n,r,o;try{n=Map}catch(t){n=function(){}}try{r=Set}catch(t){r=function(){}}try{o=Promise}catch(t){o=function(){}}function i(s,c,u,l,h){"object"==typeof c&&(u=c.depth,l=c.prototype,h=c.includeNonEnumerable,c=c.circular);var f=[],p=[],d=void 0!==t;return void 0===c&&(c=!0),void 0===u&&(u=1/0),function s(u,m){if(null===u)return null;if(0===m)return u;var g,y;if("object"!=typeof u)return u;if(e(u,n))g=new n;else if(e(u,r))g=new r;else if(e(u,o))g=new o(function(t,e){u.then(function(e){t(s(e,m-1))},function(t){e(s(t,m-1))})});else if(i.__isArray(u))g=[];else if(i.__isRegExp(u))g=new RegExp(u.source,a(u)),u.lastIndex&&(g.lastIndex=u.lastIndex);else if(i.__isDate(u))g=new Date(u.getTime());else{if(d&&t.isBuffer(u))return g=new t(u.length),u.copy(g),g;e(u,Error)?g=Object.create(u):void 0===l?(y=Object.getPrototypeOf(u),g=Object.create(y)):(g=Object.create(l),y=l)}if(c){var v=f.indexOf(u);if(-1!=v)return p[v];f.push(u),p.push(g)}for(var _ in e(u,n)&&u.forEach(function(t,e){var n=s(e,m-1),r=s(t,m-1);g.set(n,r)}),e(u,r)&&u.forEach(function(t){var e=s(t,m-1);g.add(e)}),u){var b;y&&(b=Object.getOwnPropertyDescriptor(y,_)),b&&null==b.set||(g[_]=s(u[_],m-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(u);for(_=0;_<w.length;_++){var S=w[_];(!(C=Object.getOwnPropertyDescriptor(u,S))||C.enumerable||h)&&(g[S]=s(u[S],m-1),C.enumerable||Object.defineProperty(g,S,{enumerable:!1}))}}if(h){var E=Object.getOwnPropertyNames(u);for(_=0;_<E.length;_++){var C,B=E[_];(C=Object.getOwnPropertyDescriptor(u,B))&&C.enumerable||(g[B]=s(u[B],m-1),Object.defineProperty(g,B,{enumerable:!1}))}}return g}(s,u)}function s(t){return Object.prototype.toString.call(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return i.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},i.__objToStr=s,i.__isDate=function(t){return"object"==typeof t&&"[object Date]"===s(t)},i.__isArray=function(t){return"object"==typeof t&&"[object Array]"===s(t)},i.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===s(t)},i.__getRegExpFlags=a,i}();"object"==typeof e&&e.exports&&(e.exports=n)}).call(this,t("buffer").Buffer)},{buffer:2}],11:[function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}void 0!==e&&(e.exports=r),r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],12:[function(t,e,n){(function(t){void 0!==e&&(e.exports=t);var n="listeners",r={on:function(t,e){return s(this,t).push(e),this},once:function(t,e){var n=this;return r.originalListener=e,s(n,t).push(r),n;function r(){i.call(n,t,r),e.apply(this,arguments)}},off:i,emit:function(t,e){var n=this,r=s(n,t,!0);if(!r)return!1;var o=arguments.length;if(1===o)r.forEach(function(t){t.call(n)});else if(2===o)r.forEach(function(t){t.call(n,e)});else{var i=Array.prototype.slice.call(arguments,1);r.forEach(function(t){t.apply(n,i)})}return!!r.length}};function o(t){for(var e in r)t[e]=r[e];return t}function i(t,e){var r;if(arguments.length){if(e){if(r=s(this,t,!0)){if(!(r=r.filter(function(t){return t!==e&&t.originalListener!==e})).length)return i.call(this,t);this[n][t]=r}}else if((r=this[n])&&(delete r[t],!Object.keys(r).length))return i.call(this)}else delete this[n];return this}function s(t,e,r){if(!r||t[n]){var o=t[n]||(t[n]={});return o[e]||(o[e]=[])}}o(t.prototype),t.mixin=o})(function t(){if(!(this instanceof t))return new t})},{}],13:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],14:[function(t,e,n){(function(t){!function(e){var n,r="undefined",o=r!==typeof t&&t,i=r!==typeof Uint8Array&&Uint8Array,s=r!==typeof ArrayBuffer&&ArrayBuffer,a=[0,0,0,0,0,0,0,0],c=Array.isArray||function(t){return!!t&&"[object Array]"==Object.prototype.toString.call(t)},u=4294967296,l=16777216;function h(t,c,h){var S=c?0:4,E=c?4:0,C=c?0:3,B=c?1:2,A=c?2:1,T=c?3:0,R=c?v:b,I=c?_:w,k=P.prototype,x="is"+t,U="_"+x;return k.buffer=void 0,k.offset=0,k[U]=!0,k.toNumber=L,k.toString=function(t){var e=this.buffer,n=this.offset,r=O(e,n+S),o=O(e,n+E),i="",s=!h&&2147483648&r;s&&(r=~r,o=u-o);t=t||10;for(;;){var a=r%t*u+o;if(r=Math.floor(r/t),o=Math.floor(a/t),i=(a%t).toString(t)+i,!r&&!o)break}s&&(i="-"+i);return i},k.toJSON=L,k.toArray=f,o&&(k.toBuffer=p),i&&(k.toArrayBuffer=d),P[x]=function(t){return!(!t||!t[U])},e[t]=P,P;function P(t,e,o,c){return this instanceof P?function(t,e,o,c,l){i&&s&&(e instanceof s&&(e=new i(e)),c instanceof s&&(c=new i(c)));if(!(e||o||c||n))return void(t.buffer=y(a,0));if(!m(e,o)){var h=n||Array;l=o,c=e,o=0,e=new h(8)}if(t.buffer=e,t.offset=o|=0,r===typeof c)return;"string"==typeof c?function(t,e,n,r){var o=0,i=n.length,s=0,a=0;"-"===n[0]&&o++;var c=o;for(;o<i;){var l=parseInt(n[o++],r);if(!(l>=0))break;a=a*r+l,s=s*r+Math.floor(a/u),a%=u}c&&(s=~s,a?a=u-a:s++);N(t,e+S,s),N(t,e+E,a)}(e,o,c,l||10):m(c,l)?g(e,o,c,l):"number"==typeof l?(N(e,o+S,c),N(e,o+E,l)):c>0?R(e,o,c):c<0?I(e,o,c):g(e,o,a,0)}(this,t,e,o,c):new P(t,e,o,c)}function L(){var t=this.buffer,e=this.offset,n=O(t,e+S),r=O(t,e+E);return h||(n|=0),n?n*u+r:r}function N(t,e,n){t[e+T]=255&n,n>>=8,t[e+A]=255&n,n>>=8,t[e+B]=255&n,n>>=8,t[e+C]=255&n}function O(t,e){return t[e+C]*l+(t[e+B]<<16)+(t[e+A]<<8)+t[e+T]}}function f(t){var e=this.buffer,r=this.offset;return n=null,!1!==t&&0===r&&8===e.length&&c(e)?e:y(e,r)}function p(e){var r=this.buffer,i=this.offset;if(n=o,!1!==e&&0===i&&8===r.length&&t.isBuffer(r))return r;var s=new o(8);return g(s,0,r,i),s}function d(t){var e=this.buffer,r=this.offset,o=e.buffer;if(n=i,!1!==t&&0===r&&o instanceof s&&8===o.byteLength)return o;var a=new i(8);return g(a,0,e,r),a.buffer}function m(t,e){var n=t&&t.length;return e|=0,n&&e+8<=n&&"string"!=typeof t[e]}function g(t,e,n,r){e|=0,r|=0;for(var o=0;o<8;o++)t[e++]=255&n[r++]}function y(t,e){return Array.prototype.slice.call(t,e,e+8)}function v(t,e,n){for(var r=e+8;r>e;)t[--r]=255&n,n/=256}function _(t,e,n){var r=e+8;for(n++;r>e;)t[--r]=255&-n^255,n/=256}function b(t,e,n){for(var r=e+8;e<r;)t[e++]=255&n,n/=256}function w(t,e,n){var r=e+8;for(n++;e<r;)t[e++]=255&-n^255,n/=256}h("Uint64BE",!0,!0),h("Int64BE",!0,!1),h("Uint64LE",!1,!0),h("Int64LE",!1,!1)}("object"==typeof n&&"string"!=typeof n.nodeName?n:this||{})}).call(this,t("buffer").Buffer)},{buffer:2}],15:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],16:[function(t,e,n){"use strict";var r,o;function i(){if(arguments.length)return i.from(arguments)}function s(){}r="An argument without append, prepend, or detach methods was given to `List",o=i.prototype,i.of=function(){return i.from.call(this,arguments)},i.from=function(t){var e,n,r,o=new this;if(t&&(e=t.length))for(n=-1;++n<e;)null!==(r=t[n])&&void 0!==r&&o.append(r);return o},o.head=null,o.tail=null,o.toArray=function(){for(var t=this.head,e=[];t;)e.push(t),t=t.next;return e},o.prepend=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(r+"#prepend`.");var e;return this,(e=this.head)?e.prepend(t):(t.detach(),t.list=this,this.head=t,t)},o.append=function(t){if(!t)return!1;if(!t.append||!t.prepend||!t.detach)throw new Error(r+"#append`.");var e,n;return this,(n=this.tail)?n.append(t):(e=this.head)?e.append(t):(t.detach(),t.list=this,this.head=t,t)},i.Item=s;var a=s.prototype;a.next=null,a.prev=null,a.list=null,a.detach=function(){var t=this.list,e=this.prev,n=this.next;return t?(t.tail===this&&(t.tail=e),t.head===this&&(t.head=n),t.tail===t.head&&(t.tail=null),e&&(e.next=n),n&&(n.prev=e),this.prev=this.next=this.list=null,this):this},a.prepend=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(r+"Item#prepend`.");var e=this.list,n=this.prev;return!!e&&(t.detach(),n&&(t.prev=n,n.next=t),t.next=this,t.list=e,this.prev=t,this===e.head&&(e.head=t),e.tail||(e.tail=this),t)},a.append=function(t){if(!(t&&t.append&&t.prepend&&t.detach))throw new Error(r+"Item#append`.");var e=this.list,n=this.next;return!!e&&(t.detach(),n&&(t.next=n,n.prev=t),t.prev=this,t.list=e,this.next=t,this!==e.tail&&e.tail||(e.tail=t),t)},e.exports=i},{}],17:[function(t,e,n){"use strict";e.exports=t("./_source/linked-list.js")},{"./_source/linked-list.js":16}],18:[function(t,e,n){n.encode=t("./encode").encode,n.decode=t("./decode").decode,n.Encoder=t("./encoder").Encoder,n.Decoder=t("./decoder").Decoder,n.createCodec=t("./ext").createCodec,n.codec=t("./codec").codec},{"./codec":27,"./decode":29,"./decoder":30,"./encode":32,"./encoder":33,"./ext":37}],19:[function(t,e,n){(function(t){function n(t){return t&&t.isBuffer&&t}e.exports=n(void 0!==t&&t)||n(this.Buffer)||n("undefined"!=typeof window&&window.Buffer)||this.Buffer}).call(this,t("buffer").Buffer)},{buffer:2}],20:[function(t,e,n){n.copy=function(t,e,n,r){var o;n||(n=0);r||0===r||(r=this.length);e||(e=0);var i=r-n;if(t===this&&n<e&&e<r)for(o=i-1;o>=0;o--)t[o+e]=this[o+n];else for(o=0;o<i;o++)t[o+e]=this[o+n];return i},n.toString=function(t,e,n){var r=0|e;n||(n=this.length);var o="",i=0;for(;r<n;)(i=this[r++])<128?o+=String.fromCharCode(i):(192==(224&i)?i=(31&i)<<6|63&this[r++]:224==(240&i)?i=(15&i)<<12|(63&this[r++])<<6|63&this[r++]:240==(248&i)&&(i=(7&i)<<18|(63&this[r++])<<12|(63&this[r++])<<6|63&this[r++]),i>=65536?(i-=65536,o+=String.fromCharCode(55296+(i>>>10),56320+(1023&i))):o+=String.fromCharCode(i));return o},n.write=function(t,e){var n=e||(e|=0),r=t.length,o=0,i=0;for(;i<r;)(o=t.charCodeAt(i++))<128?this[n++]=o:o<2048?(this[n++]=192|o>>>6,this[n++]=128|63&o):o<55296||o>57343?(this[n++]=224|o>>>12,this[n++]=128|o>>>6&63,this[n++]=128|63&o):(o=65536+(o-55296<<10|t.charCodeAt(i++)-56320),this[n++]=240|o>>>18,this[n++]=128|o>>>12&63,this[n++]=128|o>>>6&63,this[n++]=128|63&o);return n-e}},{}],21:[function(t,e,n){var r=t("./bufferish");function o(t){return new Array(t)}(n=e.exports=o(0)).alloc=o,n.concat=r.concat,n.from=function(t){if(!r.isBuffer(t)&&r.isView(t))t=r.Uint8Array.from(t);else if(r.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return r.from.call(n,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(t)}},{"./bufferish":25}],22:[function(t,e,n){var r=t("./bufferish"),o=r.global;function i(t){return new o(t)}(n=e.exports=r.hasBuffer?i(0):[]).alloc=r.hasBuffer&&o.alloc||i,n.concat=r.concat,n.from=function(t){if(!r.isBuffer(t)&&r.isView(t))t=r.Uint8Array.from(t);else if(r.isArrayBuffer(t))t=new Uint8Array(t);else{if("string"==typeof t)return r.from.call(n,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return o.from&&1!==o.from.length?o.from(t):new o(t)}},{"./bufferish":25}],23:[function(t,e,n){var r=t("./buffer-lite");n.copy=c,n.slice=u,n.toString=function(t,e,n){return(!s&&o.isBuffer(this)?this.toString:r.toString).apply(this,arguments)},n.write=function(t){return function(){return(this[t]||r[t]).apply(this,arguments)}}("write");var o=t("./bufferish"),i=o.global,s=o.hasBuffer&&"TYPED_ARRAY_SUPPORT"in i,a=s&&!i.TYPED_ARRAY_SUPPORT;function c(t,e,n,i){var s=o.isBuffer(this),c=o.isBuffer(t);if(s&&c)return this.copy(t,e,n,i);if(a||s||c||!o.isView(this)||!o.isView(t))return r.copy.call(this,t,e,n,i);var l=n||null!=i?u.call(this,n,i):this;return t.set(l,e),l.length}function u(t,e){var n=this.slice||!a&&this.subarray;if(n)return n.call(this,t,e);var r=o.alloc.call(this,e-t);return c.call(this,r,0,t,e),r}},{"./buffer-lite":20,"./bufferish":25}],24:[function(t,e,n){var r=t("./bufferish");function o(t){return new Uint8Array(t)}(n=e.exports=r.hasArrayBuffer?o(0):[]).alloc=o,n.concat=r.concat,n.from=function(t){if(r.isView(t)){var e=t.byteOffset,o=t.byteLength;(t=t.buffer).byteLength!==o&&(t.slice?t=t.slice(e,e+o):(t=new Uint8Array(t)).byteLength!==o&&(t=Array.prototype.slice.call(t,e,e+o)))}else{if("string"==typeof t)return r.from.call(n,t);if("number"==typeof t)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(t)}},{"./bufferish":25}],25:[function(t,e,n){var r=n.global=t("./buffer-global"),o=n.hasBuffer=r&&!!r.isBuffer,i=n.hasArrayBuffer="undefined"!=typeof ArrayBuffer,s=n.isArray=t("isarray");n.isArrayBuffer=i?function(t){return t instanceof ArrayBuffer||d(t)}:g;var a=n.isBuffer=o?r.isBuffer:g,c=n.isView=i?ArrayBuffer.isView||y("ArrayBuffer","buffer"):g;n.alloc=p,n.concat=function(t,e){e||(e=0,Array.prototype.forEach.call(t,function(t){e+=t.length}));var r=this!==n&&this||t[0],o=p.call(r,e),i=0;return Array.prototype.forEach.call(t,function(t){i+=f.copy.call(t,o,i)}),o},n.from=function(t){return"string"==typeof t?function(t){var e=3*t.length,n=p.call(this,e),r=f.write.call(n,t);e!==r&&(n=f.slice.call(n,0,r));return n}.call(this,t):m(this).from(t)};var u=n.Array=t("./bufferish-array"),l=n.Buffer=t("./bufferish-buffer"),h=n.Uint8Array=t("./bufferish-uint8array"),f=n.prototype=t("./bufferish-proto");function p(t){return m(this).alloc(t)}var d=y("ArrayBuffer");function m(t){return a(t)?l:c(t)?h:s(t)?u:o?l:i?h:u}function g(){return!1}function y(t,e){return t="[object "+t+"]",function(n){return null!=n&&{}.toString.call(e?n[e]:n)===t}}},{"./buffer-global":19,"./bufferish-array":21,"./bufferish-buffer":22,"./bufferish-proto":23,"./bufferish-uint8array":24,isarray:15}],26:[function(t,e,n){var r=t("isarray");n.createCodec=a,n.install=function(t){for(var e in t)i.prototype[e]=s(i.prototype[e],t[e])},n.filter=function(t){return r(t)?function(t){return t=t.slice(),function(n){return t.reduce(e,n)};function e(t,e){return e(t)}}(t):t};var o=t("./bufferish");function i(t){if(!(this instanceof i))return new i(t);this.options=t,this.init()}function s(t,e){return t&&e?function(){return t.apply(this,arguments),e.apply(this,arguments)}:t||e}function a(t){return new i(t)}i.prototype.init=function(){var t=this.options;return t&&t.uint8array&&(this.bufferish=o.Uint8Array),this},n.preset=a({preset:!0})},{"./bufferish":25,isarray:15}],27:[function(t,e,n){t("./read-core"),t("./write-core"),n.codec={preset:t("./codec-base").preset}},{"./codec-base":26,"./read-core":39,"./write-core":42}],28:[function(t,e,n){n.DecodeBuffer=o;var r=t("./read-core").preset;function o(t){if(!(this instanceof o))return new o(t);if(t&&(this.options=t,t.codec)){var e=this.codec=t.codec;e.bufferish&&(this.bufferish=e.bufferish)}}t("./flex-buffer").FlexDecoder.mixin(o.prototype),o.prototype.codec=r,o.prototype.fetch=function(){return this.codec.decode(this)}},{"./flex-buffer":38,"./read-core":39}],29:[function(t,e,n){n.decode=function(t,e){var n=new r(e);return n.write(t),n.read()};var r=t("./decode-buffer").DecodeBuffer},{"./decode-buffer":28}],30:[function(t,e,n){n.Decoder=i;var r=t("event-lite"),o=t("./decode-buffer").DecodeBuffer;function i(t){if(!(this instanceof i))return new i(t);o.call(this,t)}i.prototype=new o,r.mixin(i.prototype),i.prototype.decode=function(t){arguments.length&&this.write(t),this.flush()},i.prototype.push=function(t){this.emit("data",t)},i.prototype.end=function(t){this.decode(t),this.emit("end")}},{"./decode-buffer":28,"event-lite":12}],31:[function(t,e,n){n.EncodeBuffer=o;var r=t("./write-core").preset;function o(t){if(!(this instanceof o))return new o(t);if(t&&(this.options=t,t.codec)){var e=this.codec=t.codec;e.bufferish&&(this.bufferish=e.bufferish)}}t("./flex-buffer").FlexEncoder.mixin(o.prototype),o.prototype.codec=r,o.prototype.write=function(t){this.codec.encode(this,t)}},{"./flex-buffer":38,"./write-core":42}],32:[function(t,e,n){n.encode=function(t,e){var n=new r(e);return n.write(t),n.read()};var r=t("./encode-buffer").EncodeBuffer},{"./encode-buffer":31}],33:[function(t,e,n){n.Encoder=i;var r=t("event-lite"),o=t("./encode-buffer").EncodeBuffer;function i(t){if(!(this instanceof i))return new i(t);o.call(this,t)}i.prototype=new o,r.mixin(i.prototype),i.prototype.encode=function(t){this.write(t),this.emit("data",this.read())},i.prototype.end=function(t){arguments.length&&this.encode(t),this.flush(),this.emit("end")}},{"./encode-buffer":31,"event-lite":12}],34:[function(t,e,n){n.ExtBuffer=function t(e,n){if(!(this instanceof t))return new t(e,n);this.buffer=r.from(e);this.type=n};var r=t("./bufferish")},{"./bufferish":25}],35:[function(t,e,n){n.setExtPackers=function(t){t.addExtPacker(14,Error,[h,c]),t.addExtPacker(1,EvalError,[h,c]),t.addExtPacker(2,RangeError,[h,c]),t.addExtPacker(3,ReferenceError,[h,c]),t.addExtPacker(4,SyntaxError,[h,c]),t.addExtPacker(5,TypeError,[h,c]),t.addExtPacker(6,URIError,[h,c]),t.addExtPacker(10,RegExp,[l,c]),t.addExtPacker(11,Boolean,[u,c]),t.addExtPacker(12,String,[u,c]),t.addExtPacker(13,Date,[Number,c]),t.addExtPacker(15,Number,[u,c]),"undefined"!=typeof Uint8Array&&(t.addExtPacker(17,Int8Array,s),t.addExtPacker(18,Uint8Array,s),t.addExtPacker(19,Int16Array,s),t.addExtPacker(20,Uint16Array,s),t.addExtPacker(21,Int32Array,s),t.addExtPacker(22,Uint32Array,s),t.addExtPacker(23,Float32Array,s),"undefined"!=typeof Float64Array&&t.addExtPacker(24,Float64Array,s),"undefined"!=typeof Uint8ClampedArray&&t.addExtPacker(25,Uint8ClampedArray,s),t.addExtPacker(26,ArrayBuffer,s),t.addExtPacker(29,DataView,s));o.hasBuffer&&t.addExtPacker(27,i,o.from)};var r,o=t("./bufferish"),i=o.global,s=o.Uint8Array.from,a={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function c(e){return r||(r=t("./encode").encode),r(e)}function u(t){return t.valueOf()}function l(t){(t=RegExp.prototype.toString.call(t).split("/")).shift();var e=[t.pop()];return e.unshift(t.join("/")),e}function h(t){var e={};for(var n in a)e[n]=t[n];return e}},{"./bufferish":25,"./encode":32}],36:[function(t,e,n){n.setExtUnpackers=function(t){t.addExtUnpacker(14,[a,u(Error)]),t.addExtUnpacker(1,[a,u(EvalError)]),t.addExtUnpacker(2,[a,u(RangeError)]),t.addExtUnpacker(3,[a,u(ReferenceError)]),t.addExtUnpacker(4,[a,u(SyntaxError)]),t.addExtUnpacker(5,[a,u(TypeError)]),t.addExtUnpacker(6,[a,u(URIError)]),t.addExtUnpacker(10,[a,c]),t.addExtUnpacker(11,[a,l(Boolean)]),t.addExtUnpacker(12,[a,l(String)]),t.addExtUnpacker(13,[a,l(Date)]),t.addExtUnpacker(15,[a,l(Number)]),"undefined"!=typeof Uint8Array&&(t.addExtUnpacker(17,l(Int8Array)),t.addExtUnpacker(18,l(Uint8Array)),t.addExtUnpacker(19,[h,l(Int16Array)]),t.addExtUnpacker(20,[h,l(Uint16Array)]),t.addExtUnpacker(21,[h,l(Int32Array)]),t.addExtUnpacker(22,[h,l(Uint32Array)]),t.addExtUnpacker(23,[h,l(Float32Array)]),"undefined"!=typeof Float64Array&&t.addExtUnpacker(24,[h,l(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&t.addExtUnpacker(25,l(Uint8ClampedArray)),t.addExtUnpacker(26,h),t.addExtUnpacker(29,[h,l(DataView)]));o.hasBuffer&&t.addExtUnpacker(27,l(i))};var r,o=t("./bufferish"),i=o.global,s={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function a(e){return r||(r=t("./decode").decode),r(e)}function c(t){return RegExp.apply(null,t)}function u(t){return function(e){var n=new t;for(var r in s)n[r]=e[r];return n}}function l(t){return function(e){return new t(e)}}function h(t){return new Uint8Array(t).buffer}},{"./bufferish":25,"./decode":29}],37:[function(t,e,n){t("./read-core"),t("./write-core"),n.createCodec=t("./codec-base").createCodec},{"./codec-base":26,"./read-core":39,"./write-core":42}],38:[function(t,e,n){n.FlexDecoder=a,n.FlexEncoder=c;var r=t("./bufferish"),o=2048,i=65536,s="BUFFER_SHORTAGE";function a(){if(!(this instanceof a))return new a}function c(){if(!(this instanceof c))return new c}function u(){throw new Error("method not implemented: write()")}function l(){throw new Error("method not implemented: fetch()")}function h(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function f(t){(this.buffers||(this.buffers=[])).push(t)}function p(){return(this.buffers||(this.buffers=[])).shift()}function d(t){return function(e){for(var n in t)e[n]=t[n];return e}}a.mixin=d(function(){return{bufferish:r,write:function(t){var e=this.offset?r.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=e?t?this.bufferish.concat([e,t]):e:t,this.offset=0},fetch:l,flush:function(){for(;this.offset<this.buffer.length;){var t,e=this.offset;try{t=this.fetch()}catch(t){if(t&&t.message!=s)throw t;this.offset=e;break}this.push(t)}},push:f,pull:p,read:h,reserve:function(t){var e=this.offset,n=e+t;if(n>this.buffer.length)throw new Error(s);return this.offset=n,e},offset:0}}()),a.mixin(a.prototype),c.mixin=d(function(){return{bufferish:r,write:u,fetch:function(){var t=this.start;if(t<this.offset){var e=this.start=this.offset;return r.prototype.slice.call(this.buffer,t,e)}},flush:function(){for(;this.start<this.offset;){var t=this.fetch();t&&this.push(t)}},push:f,pull:function(){var t=this.buffers||(this.buffers=[]),e=t.length>1?this.bufferish.concat(t):t[0];return t.length=0,e},read:h,reserve:function(t){var e=0|t;if(this.buffer){var n=this.buffer.length,r=0|this.offset,o=r+e;if(o<n)return this.offset=o,r;this.flush(),t=Math.max(t,Math.min(2*n,this.maxBufferSize))}return t=Math.max(t,this.minBufferSize),this.buffer=this.bufferish.alloc(t),this.start=0,this.offset=e,0},send:function(t){var e=t.length;if(e>this.minBufferSize)this.flush(),this.push(t);else{var n=this.reserve(e);r.prototype.copy.call(t,this.buffer,n)}},maxBufferSize:i,minBufferSize:o,offset:0,start:0}}()),c.mixin(c.prototype)},{"./bufferish":25}],39:[function(t,e,n){var r=t("./ext-buffer").ExtBuffer,o=t("./ext-unpacker"),i=t("./read-format").readUint8,s=t("./read-token"),a=t("./codec-base");function c(){var t=this.options;return this.decode=function(t){var e=s.getReadToken(t);return function(t){var n=i(t),r=e[n];if(!r)throw new Error("Invalid type: "+(n?"0x"+n.toString(16):n));return r(t)}}(t),t&&t.preset&&o.setExtUnpackers(this),this}a.install({addExtUnpacker:function(t,e){(this.extUnpackers||(this.extUnpackers=[]))[t]=a.filter(e)},getExtUnpacker:function(t){return(this.extUnpackers||(this.extUnpackers=[]))[t]||function(e){return new r(e,t)}},init:c}),n.preset=c.call(a.preset)},{"./codec-base":26,"./ext-buffer":34,"./ext-unpacker":36,"./read-format":40,"./read-token":41}],40:[function(t,e,n){var r=t("ieee754"),o=t("int64-buffer"),i=o.Uint64BE,s=o.Int64BE;n.getReadFormat=function(t){var e=a.hasArrayBuffer&&t&&t.binarraybuffer,n=t&&t.int64;return{map:u&&t&&t.usemap?f:h,array:p,str:d,bin:e?g:m,ext:y,uint8:v,uint16:b,uint32:S,uint64:C(8,n?T:B),int8:_,int16:w,int32:E,int64:C(8,n?R:A),float32:C(4,I),float64:C(8,k)}},n.readUint8=v;var a=t("./bufferish"),c=t("./bufferish-proto"),u="undefined"!=typeof Map,l=!0;function h(t,e){var n,r={},o=new Array(e),i=new Array(e),s=t.codec.decode;for(n=0;n<e;n++)o[n]=s(t),i[n]=s(t);for(n=0;n<e;n++)r[o[n]]=i[n];return r}function f(t,e){var n,r=new Map,o=new Array(e),i=new Array(e),s=t.codec.decode;for(n=0;n<e;n++)o[n]=s(t),i[n]=s(t);for(n=0;n<e;n++)r.set(o[n],i[n]);return r}function p(t,e){for(var n=new Array(e),r=t.codec.decode,o=0;o<e;o++)n[o]=r(t);return n}function d(t,e){var n=t.reserve(e),r=n+e;return c.toString.call(t.buffer,"utf-8",n,r)}function m(t,e){var n=t.reserve(e),r=n+e,o=c.slice.call(t.buffer,n,r);return a.from(o)}function g(t,e){var n=t.reserve(e),r=n+e,o=c.slice.call(t.buffer,n,r);return a.Uint8Array.from(o).buffer}function y(t,e){var n=t.reserve(e+1),r=t.buffer[n++],o=n+e,i=t.codec.getExtUnpacker(r);if(!i)throw new Error("Invalid ext type: "+(r?"0x"+r.toString(16):r));return i(c.slice.call(t.buffer,n,o))}function v(t){var e=t.reserve(1);return t.buffer[e]}function _(t){var e=t.reserve(1),n=t.buffer[e];return 128&n?n-256:n}function b(t){var e=t.reserve(2),n=t.buffer;return n[e++]<<8|n[e]}function w(t){var e=t.reserve(2),n=t.buffer,r=n[e++]<<8|n[e];return 32768&r?r-65536:r}function S(t){var e=t.reserve(4),n=t.buffer;return 16777216*n[e++]+(n[e++]<<16)+(n[e++]<<8)+n[e]}function E(t){var e=t.reserve(4),n=t.buffer;return n[e++]<<24|n[e++]<<16|n[e++]<<8|n[e]}function C(t,e){return function(n){var r=n.reserve(t);return e.call(n.buffer,r,l)}}function B(t){return new i(this,t).toNumber()}function A(t){return new s(this,t).toNumber()}function T(t){return new i(this,t)}function R(t){return new s(this,t)}function I(t){return r.read(this,t,!1,23,4)}function k(t){return r.read(this,t,!1,52,8)}},{"./bufferish":25,"./bufferish-proto":23,ieee754:13,"int64-buffer":14}],41:[function(t,e,n){var r=t("./read-format");function o(t){var e,n=new Array(256);for(e=0;e<=127;e++)n[e]=i(e);for(e=128;e<=143;e++)n[e]=a(e-128,t.map);for(e=144;e<=159;e++)n[e]=a(e-144,t.array);for(e=160;e<=191;e++)n[e]=a(e-160,t.str);for(n[192]=i(null),n[193]=null,n[194]=i(!1),n[195]=i(!0),n[196]=s(t.uint8,t.bin),n[197]=s(t.uint16,t.bin),n[198]=s(t.uint32,t.bin),n[199]=s(t.uint8,t.ext),n[200]=s(t.uint16,t.ext),n[201]=s(t.uint32,t.ext),n[202]=t.float32,n[203]=t.float64,n[204]=t.uint8,n[205]=t.uint16,n[206]=t.uint32,n[207]=t.uint64,n[208]=t.int8,n[209]=t.int16,n[210]=t.int32,n[211]=t.int64,n[212]=a(1,t.ext),n[213]=a(2,t.ext),n[214]=a(4,t.ext),n[215]=a(8,t.ext),n[216]=a(16,t.ext),n[217]=s(t.uint8,t.str),n[218]=s(t.uint16,t.str),n[219]=s(t.uint32,t.str),n[220]=s(t.uint16,t.array),n[221]=s(t.uint32,t.array),n[222]=s(t.uint16,t.map),n[223]=s(t.uint32,t.map),e=224;e<=255;e++)n[e]=i(e-256);return n}function i(t){return function(){return t}}function s(t,e){return function(n){var r=t(n);return e(n,r)}}function a(t,e){return function(n){return e(n,t)}}n.getReadToken=function(t){var e=r.getReadFormat(t);return t&&t.useraw?function(t){var e,n=o(t).slice();for(n[217]=n[196],n[218]=n[197],n[219]=n[198],e=160;e<=191;e++)n[e]=a(e-160,t.bin);return n}(e):o(e)}},{"./read-format":40}],42:[function(t,e,n){var r=t("./ext-buffer").ExtBuffer,o=t("./ext-packer"),i=t("./write-type"),s=t("./codec-base");function a(){var t=this.options;return this.encode=function(t){var e=i.getWriteType(t);return function(t,n){var r=e[typeof n];if(!r)throw new Error('Unsupported type "'+typeof n+'": '+n);r(t,n)}}(t),t&&t.preset&&o.setExtPackers(this),this}s.install({addExtPacker:function(t,e,n){n=s.filter(n);var o=e.name;if(o&&"Object"!==o){var i=this.extPackers||(this.extPackers={});i[o]=c}else{var a=this.extEncoderList||(this.extEncoderList=[]);a.unshift([e,c])}function c(e){return n&&(e=n(e)),new r(e,t)}},getExtPacker:function(t){var e=this.extPackers||(this.extPackers={}),n=t.constructor,r=n&&n.name&&e[n.name];if(r)return r;for(var o=this.extEncoderList||(this.extEncoderList=[]),i=o.length,s=0;s<i;s++){var a=o[s];if(n===a[0])return a[1]}},init:a}),n.preset=a.call(s.preset)},{"./codec-base":26,"./ext-buffer":34,"./ext-packer":35,"./write-type":44}],43:[function(t,e,n){var r=t("ieee754"),o=t("int64-buffer"),i=o.Uint64BE,s=o.Int64BE,a=t("./write-uint8").uint8,c=t("./bufferish"),u=c.global,l=c.hasBuffer&&"TYPED_ARRAY_SUPPORT"in u&&!u.TYPED_ARRAY_SUPPORT,h=c.hasBuffer&&u.prototype||{};function f(){var t=a.slice();return t[196]=p(196),t[197]=d(197),t[198]=m(198),t[199]=p(199),t[200]=d(200),t[201]=m(201),t[202]=g(202,4,h.writeFloatBE||_,!0),t[203]=g(203,8,h.writeDoubleBE||b,!0),t[204]=p(204),t[205]=d(205),t[206]=m(206),t[207]=g(207,8,y),t[208]=p(208),t[209]=d(209),t[210]=m(210),t[211]=g(211,8,v),t[217]=p(217),t[218]=d(218),t[219]=m(219),t[220]=d(220),t[221]=m(221),t[222]=d(222),t[223]=m(223),t}function p(t){return function(e,n){var r=e.reserve(2),o=e.buffer;o[r++]=t,o[r]=n}}function d(t){return function(e,n){var r=e.reserve(3),o=e.buffer;o[r++]=t,o[r++]=n>>>8,o[r]=n}}function m(t){return function(e,n){var r=e.reserve(5),o=e.buffer;o[r++]=t,o[r++]=n>>>24,o[r++]=n>>>16,o[r++]=n>>>8,o[r]=n}}function g(t,e,n,r){return function(o,i){var s=o.reserve(e+1);o.buffer[s++]=t,n.call(o.buffer,i,s,r)}}function y(t,e){new i(this,e,t)}function v(t,e){new s(this,e,t)}function _(t,e){r.write(this,t,e,!1,23,4)}function b(t,e){r.write(this,t,e,!1,52,8)}n.getWriteToken=function(t){return t&&t.uint8array?function(){var t=f();return t[202]=g(202,4,_),t[203]=g(203,8,b),t}():l||c.hasBuffer&&t&&t.safe?function(){var t=a.slice();return t[196]=g(196,1,u.prototype.writeUInt8),t[197]=g(197,2,u.prototype.writeUInt16BE),t[198]=g(198,4,u.prototype.writeUInt32BE),t[199]=g(199,1,u.prototype.writeUInt8),t[200]=g(200,2,u.prototype.writeUInt16BE),t[201]=g(201,4,u.prototype.writeUInt32BE),t[202]=g(202,4,u.prototype.writeFloatBE),t[203]=g(203,8,u.prototype.writeDoubleBE),t[204]=g(204,1,u.prototype.writeUInt8),t[205]=g(205,2,u.prototype.writeUInt16BE),t[206]=g(206,4,u.prototype.writeUInt32BE),t[207]=g(207,8,y),t[208]=g(208,1,u.prototype.writeInt8),t[209]=g(209,2,u.prototype.writeInt16BE),t[210]=g(210,4,u.prototype.writeInt32BE),t[211]=g(211,8,v),t[217]=g(217,1,u.prototype.writeUInt8),t[218]=g(218,2,u.prototype.writeUInt16BE),t[219]=g(219,4,u.prototype.writeUInt32BE),t[220]=g(220,2,u.prototype.writeUInt16BE),t[221]=g(221,4,u.prototype.writeUInt32BE),t[222]=g(222,2,u.prototype.writeUInt16BE),t[223]=g(223,4,u.prototype.writeUInt32BE),t}():f()}},{"./bufferish":25,"./write-uint8":45,ieee754:13,"int64-buffer":14}],44:[function(t,e,n){var r=t("isarray"),o=t("int64-buffer"),i=o.Uint64BE,s=o.Int64BE,a=t("./bufferish"),c=t("./bufferish-proto"),u=t("./write-token"),l=t("./write-uint8").uint8,h=t("./ext-buffer").ExtBuffer,f="undefined"!=typeof Uint8Array,p="undefined"!=typeof Map,d=[];d[1]=212,d[2]=213,d[4]=214,d[8]=215,d[16]=216,n.getWriteType=function(t){var e=u.getWriteToken(t),n=t&&t.useraw,o=f&&t&&t.binarraybuffer,m=o?a.isArrayBuffer:a.isBuffer,g=o?function(t,e){b(t,new Uint8Array(e))}:b,y=p&&t&&t.usemap?function(t,n){if(!(n instanceof Map))return w(t,n);var r=n.size;e[r<16?128+r:r<=65535?222:223](t,r);var o=t.codec.encode;n.forEach(function(e,n,r){o(t,n),o(t,e)})}:w;return{boolean:function(t,n){e[n?195:194](t,n)},function:_,number:function(t,n){var r,o=0|n;if(n!==o)return void e[r=203](t,n);r=-32<=o&&o<=127?255&o:0<=o?o<=255?204:o<=65535?205:206:-128<=o?208:-32768<=o?209:210;e[r](t,o)},object:n?function(t,n){if(m(n))return function(t,n){var r=n.length;e[r<32?160+r:r<=65535?218:219](t,r),t.send(n)}(t,n);v(t,n)}:v,string:function(t){return function(n,r){var o=r.length,i=5+3*o;n.offset=n.reserve(i);var s=n.buffer,a=t(o),u=n.offset+a;o=c.write.call(s,r,u);var l=t(o);if(a!==l){var h=u+l-a,f=u+o;c.copy.call(s,s,h,u,f)}e[1===l?160+o:l<=3?215+l:219](n,o),n.offset+=o}}(n?function(t){return t<32?1:t<=65535?3:5}:function(t){return t<32?1:t<=255?2:t<=65535?3:5}),symbol:_,undefined:_};function v(t,n){if(null===n)return _(t,n);if(m(n))return g(t,n);if(r(n))return function(t,n){var r=n.length;e[r<16?144+r:r<=65535?220:221](t,r);for(var o=t.codec.encode,i=0;i<r;i++)o(t,n[i])}(t,n);if(i.isUint64BE(n))return function(t,n){e[207](t,n.toArray())}(t,n);if(s.isInt64BE(n))return function(t,n){e[211](t,n.toArray())}(t,n);var o=t.codec.getExtPacker(n);if(o&&(n=o(n)),n instanceof h)return function(t,n){var r=n.buffer,o=r.length,i=d[o]||(o<255?199:o<=65535?200:201);e[i](t,o),l[n.type](t),t.send(r)}(t,n);y(t,n)}function _(t,n){e[192](t,n)}function b(t,n){var r=n.length,o=r<255?196:r<=65535?197:198;e[o](t,r),t.send(n)}function w(t,n){var r=Object.keys(n),o=r.length,i=o<16?128+o:o<=65535?222:223;e[i](t,o);var s=t.codec.encode;r.forEach(function(e){s(t,e),s(t,n[e])})}}},{"./bufferish":25,"./bufferish-proto":23,"./ext-buffer":34,"./write-token":43,"./write-uint8":45,"int64-buffer":14,isarray:15}],45:[function(t,e,n){for(var r=n.uint8=new Array(256),o=0;o<=255;o++)r[o]=i(o);function i(t){return function(e){var n=e.reserve(1);e.buffer[n]=t}}},{}],46:[function(t,e,n){var r=t("component-emitter"),o=function(t,e,n){r.call(this),this.PENDING="pending",this.SUBSCRIBED="subscribed",this.UNSUBSCRIBED="unsubscribed",this.name=t,this.state=this.UNSUBSCRIBED,this.client=e,this.options=n||{},this.setOptions(this.options)};(o.prototype=Object.create(r.prototype)).setOptions=function(t){t||(t={}),this.waitForAuth=t.waitForAuth||!1,this.batch=t.batch||!1,void 0!==t.data&&(this.data=t.data)},o.prototype.getState=function(){return this.state},o.prototype.subscribe=function(t){this.client.subscribe(this.name,t)},o.prototype.unsubscribe=function(){this.client.unsubscribe(this.name)},o.prototype.isSubscribed=function(t){return this.client.isSubscribed(this.name,t)},o.prototype.publish=function(t,e){this.client.publish(this.name,t,e)},o.prototype.watch=function(t){this.client.watch(this.name,t)},o.prototype.unwatch=function(t){this.client.unwatch(this.name,t)},o.prototype.watchers=function(){return this.client.watchers(this.name)},o.prototype.destroy=function(){this.client.destroyChannel(this.name)},e.exports.SCChannel=o},{"component-emitter":11}],47:[function(t,e,n){e.exports=function(t){var e=[],n=[];return function t(r,o){var i,s,a;if(!("object"!=typeof r||null===r||r instanceof Boolean||r instanceof Date||r instanceof Number||r instanceof RegExp||r instanceof String)){for(i=0;i<e.length;i+=1)if(e[i]===r)return{$ref:n[i]};if(e.push(r),n.push(o),"[object Array]"===Object.prototype.toString.apply(r))for(a=[],i=0;i<r.length;i+=1)a[i]=t(r[i],o+"["+i+"]");else for(s in a={},r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=t(r[s],o+"["+JSON.stringify(s)+"]"));return a}return r}(t,"$")}},{}],48:[function(t,e,n){var r=t("./decycle"),o=function(){return!this}();function i(t,e){this.name="AuthTokenExpiredError",this.message=t,this.expiry=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function s(t){this.name="AuthTokenInvalidError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function a(t,e){this.name="AuthTokenNotBeforeError",this.message=t,this.date=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function c(t){this.name="AuthTokenError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function u(t,e){this.name="SilentMiddlewareBlockedError",this.message=t,this.type=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function l(t){this.name="InvalidActionError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function h(t){this.name="InvalidArgumentsError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function f(t){this.name="InvalidOptionsError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function p(t){this.name="InvalidMessageError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function d(t,e){this.name="SocketProtocolError",this.message=t,this.code=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function m(t){this.name="ServerProtocolError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function g(t){this.name="HTTPServerError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function y(t){this.name="ResourceLimitError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function v(t){this.name="TimeoutError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function _(t,e){this.name="BadConnectionError",this.message=t,this.type=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function b(t){this.name="BrokerError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function w(t,e){this.name="ProcessExitError",this.message=t,this.code=e,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}function S(t){this.name="UnknownError",this.message=t,Error.captureStackTrace&&!o?Error.captureStackTrace(this,arguments.callee):this.stack=(new Error).stack}i.prototype=Object.create(Error.prototype),s.prototype=Object.create(Error.prototype),a.prototype=Object.create(Error.prototype),c.prototype=Object.create(Error.prototype),u.prototype=Object.create(Error.prototype),l.prototype=Object.create(Error.prototype),h.prototype=Object.create(Error.prototype),f.prototype=Object.create(Error.prototype),p.prototype=Object.create(Error.prototype),d.prototype=Object.create(Error.prototype),m.prototype=Object.create(Error.prototype),g.prototype=Object.create(Error.prototype),y.prototype=Object.create(Error.prototype),v.prototype=Object.create(Error.prototype),_.prototype=Object.create(Error.prototype),b.prototype=Object.create(Error.prototype),w.prototype=Object.create(Error.prototype),S.prototype=Object.create(Error.prototype),e.exports={AuthTokenExpiredError:i,AuthTokenInvalidError:s,AuthTokenNotBeforeError:a,AuthTokenError:c,SilentMiddlewareBlockedError:u,InvalidActionError:l,InvalidArgumentsError:h,InvalidOptionsError:f,InvalidMessageError:p,SocketProtocolError:d,ServerProtocolError:m,HTTPServerError:g,ResourceLimitError:y,TimeoutError:v,BadConnectionError:_,BrokerError:b,ProcessExitError:w,UnknownError:S},e.exports.socketProtocolErrorStatuses={1001:"Socket was disconnected",1002:"A WebSocket protocol error was encountered",1003:"Server terminated socket because it received invalid data",1005:"Socket closed without status code",1006:"Socket hung up",1007:"Message format was incorrect",1008:"Encountered a policy violation",1009:"Message was too big to process",1010:"Client ended the connection because the server did not comply with extension requirements",1011:"Server encountered an unexpected fatal condition",4000:"Server ping timed out",4001:"Client pong timed out",4002:"Server failed to sign auth token",4003:"Failed to complete handshake",4004:"Client failed to save auth token",4005:"Did not receive #handshake from client before timeout",4006:"Failed to bind socket to message broker",4007:"Client connection establishment timed out",4008:"Server rejected handshake from client"},e.exports.socketProtocolIgnoreStatuses={1000:"Socket closed normally",1001:"Socket hung up"};var E={domain:1,domainEmitter:1,domainThrown:1};e.exports.dehydrateError=function(t,e){var n;if(t&&"object"==typeof t)for(var o in n={message:t.message},e&&(n.stack=t.stack),t)E[o]||(n[o]=t[o]);else n="function"==typeof t?"[function "+(t.name||"anonymous")+"]":t;return r(n)},e.exports.hydrateError=function(t){var e=null;if(null!=t)if("object"==typeof t)for(var n in e=new Error(t.message),t)t.hasOwnProperty(n)&&(e[n]=t[n]);else e=t;return e},e.exports.decycle=r},{"./decycle":47}],49:[function(t,e,n){(function(t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=/^[ \n\r\t]*[{\[]/,o=function(e,r){if(t.ArrayBuffer&&r instanceof t.ArrayBuffer)return{base64:!0,data:function(t){for(var e=new Uint8Array(t),r=e.length,o="",i=0;i<r;i+=3)o+=n[e[i]>>2],o+=n[(3&e[i])<<4|e[i+1]>>4],o+=n[(15&e[i+1])<<2|e[i+2]>>6],o+=n[63&e[i+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o}(r)};if(t.Buffer){if(r instanceof t.Buffer)return{base64:!0,data:r.toString("base64")};if(r&&"Buffer"===r.type&&Array.isArray(r.data))return{base64:!0,data:(t.Buffer.from?t.Buffer.from(r.data):new t.Buffer(r.data)).toString("base64")}}return r};e.exports.decode=function(t){if(null==t)return null;if("#1"===t||"#2"===t)return t;var e=t.toString();if(!r.test(e))return e;try{return JSON.parse(e)}catch(t){}return e},e.exports.encode=function(t){return"#1"===t||"#2"===t?t:JSON.stringify(t,o)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],50:[function(t,e,n){var r=t("./lib/scclientsocket"),o=t("./lib/factory");e.exports.factory=o,e.exports.SCClientSocket=r,e.exports.Emitter=t("component-emitter"),e.exports.create=function(t){return o.create(t)},e.exports.connect=e.exports.create,e.exports.destroy=function(t){return o.destroy(t)},e.exports.clients=o.clients,e.exports.version="14.2.2"},{"./lib/factory":52,"./lib/scclientsocket":54,"component-emitter":11}],51:[function(t,e,n){(function(t){var n=function(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()};n.prototype._checkLocalStorageEnabled=function(){var e;try{t.localStorage,t.localStorage.setItem("__scLocalStorageTest",1),t.localStorage.removeItem("__scLocalStorageTest")}catch(t){e=t}return!e},n.prototype.saveToken=function(e,n,r,o){this.isLocalStorageEnabled&&t.localStorage?t.localStorage.setItem(e,n):this._internalStorage[e]=n,o&&o(null,n)},n.prototype.removeToken=function(e,n){var r;this.loadToken(e,function(t,e){r=e}),this.isLocalStorageEnabled&&t.localStorage?t.localStorage.removeItem(e):delete this._internalStorage[e],n&&n(null,r)},n.prototype.loadToken=function(e,n){n(null,this.isLocalStorageEnabled&&t.localStorage?t.localStorage.getItem(e):this._internalStorage[e]||null)},e.exports.AuthEngine=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(t,e,n){(function(n){var r=t("./scclientsocket"),o=t("sc-errors"),i=t("uuid"),s=o.InvalidArgumentsError,a={};e.exports={create:function(t){if((t=t||{}).host&&!t.host.match(/[^:]+:\d{2,5}/))throw new s('The host option should include both the hostname and the port number in the format "hostname:port"');if(t.host&&t.hostname)throw new s('The host option should already include the hostname and the port number in the format "hostname:port" - Because of this, you should never use host and hostname options together');if(t.host&&t.port)throw new s('The host option should already include the hostname and the port number in the format "hostname:port" - Because of this, you should never use host and port options together');var e=n.location&&"https:"===location.protocol,o={port:function(t,e){var r=null==t.secure?e:t.secure;return t.port||(n.location&&location.port?location.port:r?443:80)}(t,e),hostname:n.location&&location.hostname||"localhost",path:"/socketcluster/",secure:e,autoConnect:!0,autoReconnect:!0,autoSubscribeOnConnect:!0,connectTimeout:2e4,ackTimeout:1e4,timestampRequests:!1,timestampParam:"t",authEngine:null,authTokenName:"socketCluster.authToken",binaryType:"arraybuffer",multiplex:!0,pubSubBatchDuration:null,cloneData:!1};for(var c in t)t.hasOwnProperty(c)&&(o[c]=t[c]);if(o.clientMap=a,!1===o.multiplex){o.clientId=i.v4();var u=new r(o);return a[o.clientId]=u,u}return o.clientId=function(t){var e=t.secure?"https://":"http://",n="";if(t.query)if("string"==typeof t.query)n=t.query;else{var r=[],o=t.query;for(var i in o)o.hasOwnProperty(i)&&r.push(i+"="+o[i]);r.length&&(n="?"+r.join("&"))}return e+(t.host?t.host:t.hostname+":"+t.port)+t.path+n}(o),a[o.clientId]?o.autoConnect&&a[o.clientId].connect():a[o.clientId]=new r(o),a[o.clientId]},destroy:function(t){t.destroy()},clients:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./scclientsocket":54,"sc-errors":48,uuid:57}],53:[function(t,e,n){var r=t("sc-errors"),o=r.InvalidActionError,i=function(t,e){this.socket=t,this.id=e,this.sent=!1};i.prototype._respond=function(t){if(this.sent)throw new o("Response "+this.id+" has already been sent");this.sent=!0,this.socket.send(this.socket.encode(t))},i.prototype.end=function(t){if(this.id){var e={rid:this.id};void 0!==t&&(e.data=t),this._respond(e)}},i.prototype.error=function(t,e){if(this.id){var n=r.dehydrateError(t),o={rid:this.id,error:n};void 0!==e&&(o.data=e),this._respond(o)}},i.prototype.callback=function(t,e){t?this.error(t,e):this.end(e)},e.exports.Response=i},{"sc-errors":48}],54:[function(t,e,n){(function(n){var r=t("component-emitter"),o=t("sc-channel").SCChannel,i=(t("./response").Response,t("./auth").AuthEngine),s=t("sc-formatter"),a=t("./sctransport").SCTransport,c=t("querystring"),u=t("linked-list"),l=t("buffer/").Buffer,h=t("clone"),f=t("sc-errors"),p=f.InvalidArgumentsError,d=f.InvalidMessageError,m=f.InvalidActionError,g=f.SocketProtocolError,y=f.TimeoutError,v=f.BadConnectionError,_="undefined"!=typeof window,b=function(t){var e=this;r.call(this),this.id=null,this.state=this.CLOSED,this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null,this.pendingReconnect=!1,this.pendingReconnectTimeout=null,this.preparingPendingSubscriptions=!1,this.clientId=t.clientId,this.connectTimeout=t.connectTimeout,this.ackTimeout=t.ackTimeout,this.channelPrefix=t.channelPrefix||null,this.disconnectOnUnload=null==t.disconnectOnUnload||t.disconnectOnUnload,this.authTokenName=t.authTokenName,this.pingTimeout=this.ackTimeout,this.pingTimeoutDisabled=!!t.pingTimeoutDisabled,this.active=!0,this._clientMap=t.clientMap||{};var o=Math.pow(2,31)-1,a=function(t){if(e[t]>o)throw new p("The "+t+" value provided exceeded the maximum amount allowed")};if(a("connectTimeout"),a("ackTimeout"),this._localEvents={connect:1,connectAbort:1,close:1,disconnect:1,message:1,error:1,raw:1,kickOut:1,subscribe:1,unsubscribe:1,subscribeStateChange:1,authStateChange:1,authenticate:1,deauthenticate:1,removeAuthToken:1,subscribeRequest:1},this.connectAttempts=0,this._emitBuffer=new u,this.channels={},this.options=t,this._cid=1,this.options.callIdGenerator=function(){return e._cid++},this.options.autoReconnect){null==this.options.autoReconnectOptions&&(this.options.autoReconnectOptions={});var l=this.options.autoReconnectOptions;null==l.initialDelay&&(l.initialDelay=1e4),null==l.randomness&&(l.randomness=1e4),null==l.multiplier&&(l.multiplier=1.5),null==l.maxDelay&&(l.maxDelay=6e4)}if(null==this.options.subscriptionRetryOptions&&(this.options.subscriptionRetryOptions={}),this.options.authEngine?this.auth=this.options.authEngine:this.auth=new i,this.options.codecEngine?this.codec=this.options.codecEngine:this.codec=s,this.options.protocol){var h=new p('The "protocol" option does not affect socketcluster-client. If you want to utilize SSL/TLS - use "secure" option instead');this._onSCError(h)}this.options.path=this.options.path.replace(/\/$/,"")+"/",this.options.query=t.query||{},"string"==typeof this.options.query&&(this.options.query=c.parse(this.options.query)),this._channelEmitter=new r,this._unloadHandler=function(){e.disconnect()},_&&this.disconnectOnUnload&&n.addEventListener&&n.addEventListener("beforeunload",this._unloadHandler,!1),this._clientMap[this.clientId]=this,this.options.autoConnect&&this.connect()};b.prototype=Object.create(r.prototype),b.CONNECTING=b.prototype.CONNECTING=a.prototype.CONNECTING,b.OPEN=b.prototype.OPEN=a.prototype.OPEN,b.CLOSED=b.prototype.CLOSED=a.prototype.CLOSED,b.AUTHENTICATED=b.prototype.AUTHENTICATED="authenticated",b.UNAUTHENTICATED=b.prototype.UNAUTHENTICATED="unauthenticated",b.PENDING=b.prototype.PENDING="pending",b.ignoreStatuses=f.socketProtocolIgnoreStatuses,b.errorStatuses=f.socketProtocolErrorStatuses,b.prototype._privateEventHandlerMap={"#publish":function(t){var e=this._undecorateChannelName(t.channel);this.isSubscribed(e,!0)&&this._channelEmitter.emit(e,t.data)},"#kickOut":function(t){var e=this._undecorateChannelName(t.channel),n=this.channels[e];n&&(r.prototype.emit.call(this,"kickOut",t.message,e),n.emit("kickOut",t.message,e),this._triggerChannelUnsubscribe(n))},"#setAuthToken":function(t,e){var n=this;if(t){this.auth.saveToken(this.authTokenName,t.token,{},function(r){r?(e.error(r),n._onSCError(r)):(n._changeToAuthenticatedState(t.token),e.end())})}else e.error(new d("No token data provided by #setAuthToken event"))},"#removeAuthToken":function(t,e){var n=this;this.auth.removeToken(this.authTokenName,function(t,o){t?(e.error(t),n._onSCError(t)):(r.prototype.emit.call(n,"removeAuthToken",o),n._changeToUnauthenticatedStateAndClearTokens(),e.end())})},"#disconnect":function(t){this.transport.close(t.code,t.data)}},b.prototype.getState=function(){return this.state},b.prototype.getBytesReceived=function(){return this.transport.getBytesReceived()},b.prototype.deauthenticate=function(t){var e=this;this.auth.removeToken(this.authTokenName,function(n,o){n?e._onSCError(n):(r.prototype.emit.call(e,"removeAuthToken",o),e.state!==e.CLOSED&&e.emit("#removeAuthToken"),e._changeToUnauthenticatedStateAndClearTokens()),t&&t(n)})},b.prototype.connect=b.prototype.open=function(){var t=this;if(this.active)this.state===this.CLOSED&&(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this.state=this.CONNECTING,r.prototype.emit.call(this,"connecting"),this.transport&&this.transport.off(),this.transport=new a(this.auth,this.codec,this.options),this.transport.on("open",function(e){t.state=t.OPEN,t._onSCOpen(e)}),this.transport.on("error",function(e){t._onSCError(e)}),this.transport.on("close",function(e,n){t.state=t.CLOSED,t._onSCClose(e,n)}),this.transport.on("openAbort",function(e,n){t.state=t.CLOSED,t._onSCClose(e,n,!0)}),this.transport.on("event",function(e,n,r){t._onSCEvent(e,n,r)}));else{var e=new m("Cannot connect a destroyed client");this._onSCError(e)}},b.prototype.reconnect=function(t,e){this.disconnect(t,e),this.connect()},b.prototype.disconnect=function(t,e){if("number"!=typeof(t=t||1e3))throw new p("If specified, the code argument must be a number");this.state===this.OPEN||this.state===this.CONNECTING?this.transport.close(t,e):(this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef))},b.prototype.destroy=function(t,e){_&&n.removeEventListener&&n.removeEventListener("beforeunload",this._unloadHandler,!1),this.active=!1,this.disconnect(t,e),delete this._clientMap[this.clientId]},b.prototype._changeToUnauthenticatedStateAndClearTokens=function(){if(this.authState!==this.UNAUTHENTICATED){var t=this.authState,e=this.signedAuthToken;this.authState=this.UNAUTHENTICATED,this.signedAuthToken=null,this.authToken=null;var n={oldState:t,newState:this.authState};r.prototype.emit.call(this,"authStateChange",n),r.prototype.emit.call(this,"deauthenticate",e)}},b.prototype._changeToAuthenticatedState=function(t){if(this.signedAuthToken=t,this.authToken=this._extractAuthTokenData(t),this.authState!==this.AUTHENTICATED){var e=this.authState;this.authState=this.AUTHENTICATED;var n={oldState:e,newState:this.authState,signedAuthToken:t,authToken:this.authToken};this.preparingPendingSubscriptions||this.processPendingSubscriptions(),r.prototype.emit.call(this,"authStateChange",n)}r.prototype.emit.call(this,"authenticate",t)},b.prototype.decodeBase64=function(t){return l.from(t,"base64").toString("utf8")},b.prototype.encodeBase64=function(t){return l.from(t,"utf8").toString("base64")},b.prototype._extractAuthTokenData=function(t){var e=(t||"").split(".")[1];if(null!=e){var n=e;try{return n=this.decodeBase64(n),JSON.parse(n)}catch(t){return n}}return null},b.prototype.getAuthToken=function(){return this.authToken},b.prototype.getSignedAuthToken=function(){return this.signedAuthToken},b.prototype.authenticate=function(t,e){var n=this;this.emit("#authenticate",t,function(r,o){o&&null!=o.isAuthenticated?o.authError&&(o.authError=f.hydrateError(o.authError)):o={isAuthenticated:n.authState,authError:null},r?("BadConnectionError"!==r.name&&"TimeoutError"!==r.name&&n._changeToUnauthenticatedStateAndClearTokens(),e&&e(r,o)):n.auth.saveToken(n.authTokenName,t,{},function(r){r&&n._onSCError(r),o.isAuthenticated?n._changeToAuthenticatedState(t):n._changeToUnauthenticatedStateAndClearTokens(),e&&e(r,o)})})},b.prototype._tryReconnect=function(t){var e,n=this,r=this.connectAttempts++,o=this.options.autoReconnectOptions;if(null==t||r>0){var i=Math.round(o.initialDelay+(o.randomness||0)*Math.random());e=Math.round(i*Math.pow(o.multiplier,r))}else e=t;e>o.maxDelay&&(e=o.maxDelay),clearTimeout(this._reconnectTimeoutRef),this.pendingReconnect=!0,this.pendingReconnectTimeout=e,this._reconnectTimeoutRef=setTimeout(function(){n.connect()},e)},b.prototype._onSCOpen=function(t){var e=this;this.preparingPendingSubscriptions=!0,t?(this.id=t.id,this.pingTimeout=t.pingTimeout,this.transport.pingTimeout=this.pingTimeout,t.isAuthenticated?this._changeToAuthenticatedState(t.authToken):this._changeToUnauthenticatedStateAndClearTokens()):this._changeToUnauthenticatedStateAndClearTokens(),this.connectAttempts=0,this.options.autoSubscribeOnConnect&&this.processPendingSubscriptions(),r.prototype.emit.call(this,"connect",t,function(){e.processPendingSubscriptions()}),this.state===this.OPEN&&this._flushEmitBuffer()},b.prototype._onSCError=function(t){var e=this;setTimeout(function(){if(e.listeners("error").length<1)throw t;r.prototype.emit.call(e,"error",t)},0)},b.prototype._suspendSubscriptions=function(){var t,e;for(var n in this.channels)this.channels.hasOwnProperty(n)&&(e=(t=this.channels[n]).state===t.SUBSCRIBED||t.state===t.PENDING?t.PENDING:t.UNSUBSCRIBED,this._triggerChannelUnsubscribe(t,e))},b.prototype._abortAllPendingEventsDueToBadConnection=function(t){for(var e,n=this._emitBuffer.head;n;){e=n.next;var r=n.data;clearTimeout(r.timeout),delete r.timeout,n.detach(),n=e;var o=r.callback;if(o){delete r.callback;var i="Event '"+r.event+"' was aborted due to a bad connection",s=new v(i,t);o.call(r,s,r)}r.cid&&this.transport.cancelPendingResponse(r.cid)}},b.prototype._onSCClose=function(t,e,n){if(this.id=null,this.transport&&this.transport.off(),this.pendingReconnect=!1,this.pendingReconnectTimeout=null,clearTimeout(this._reconnectTimeoutRef),this._suspendSubscriptions(),this._abortAllPendingEventsDueToBadConnection(n?"connectAbort":"disconnect"),this.options.autoReconnect&&(4e3===t||4001===t||1005===t?this._tryReconnect(0):1e3!==t&&t<4500&&this._tryReconnect()),n?r.prototype.emit.call(this,"connectAbort",t,e):r.prototype.emit.call(this,"disconnect",t,e),r.prototype.emit.call(this,"close",t,e),!b.ignoreStatuses[t]){var o;o=e?"Socket connection closed with status code "+t+" and reason: "+e:"Socket connection closed with status code "+t;var i=new g(b.errorStatuses[t]||o,t);this._onSCError(i)}},b.prototype._onSCEvent=function(t,e,n){var o=this._privateEventHandlerMap[t];o?o.call(this,e,n):r.prototype.emit.call(this,t,e,function(){n&&n.callback.apply(n,arguments)})},b.prototype.decode=function(t){return this.transport.decode(t)},b.prototype.encode=function(t){return this.transport.encode(t)},b.prototype._flushEmitBuffer=function(){for(var t,e=this._emitBuffer.head;e;){t=e.next;var n=e.data;e.detach(),this.transport.emitObject(n),e=t}},b.prototype._handleEventAckTimeout=function(t,e){e&&e.detach(),delete t.timeout;var n=t.callback;if(n){delete t.callback;var r=new y("Event response for '"+t.event+"' timed out");n.call(t,r,t)}t.cid&&this.transport.cancelPendingResponse(t.cid)},b.prototype._emit=function(t,e,n){var r=this;this.state===this.CLOSED&&this.connect();var o={event:t,callback:n},i=new u.Item;this.options.cloneData?o.data=h(e):o.data=e,i.data=o,o.timeout=setTimeout(function(){r._handleEventAckTimeout(o,i)},this.ackTimeout),this._emitBuffer.append(i),this.state===this.OPEN&&this._flushEmitBuffer()},b.prototype.send=function(t){this.transport.send(t)},b.prototype.emit=function(t,e,n){if(null==this._localEvents[t])this._emit(t,e,n);else if("error"===t)r.prototype.emit.call(this,t,e);else{var o=new m('The "'+t+'" event is reserved and cannot be emitted on a client socket');this._onSCError(o)}},b.prototype.publish=function(t,e,n){var r={channel:this._decorateChannelName(t),data:e};this.emit("#publish",r,n)},b.prototype._triggerChannelSubscribe=function(t,e){var n=t.name;if(t.state!==t.SUBSCRIBED){var o=t.state;t.state=t.SUBSCRIBED;var i={channel:n,oldState:o,newState:t.state,subscriptionOptions:e};t.emit("subscribeStateChange",i),t.emit("subscribe",n,e),r.prototype.emit.call(this,"subscribeStateChange",i),r.prototype.emit.call(this,"subscribe",n,e)}},b.prototype._triggerChannelSubscribeFail=function(t,e,n){var o=e.name,i=!e.waitForAuth||this.authState===this.AUTHENTICATED;e.state!==e.UNSUBSCRIBED&&i&&(e.state=e.UNSUBSCRIBED,e.emit("subscribeFail",t,o,n),r.prototype.emit.call(this,"subscribeFail",t,o,n))},b.prototype._cancelPendingSubscribeCallback=function(t){null!=t._pendingSubscriptionCid&&(this.transport.cancelPendingResponse(t._pendingSubscriptionCid),delete t._pendingSubscriptionCid)},b.prototype._decorateChannelName=function(t){return this.channelPrefix&&(t=this.channelPrefix+t),t},b.prototype._undecorateChannelName=function(t){return this.channelPrefix&&0===t.indexOf(this.channelPrefix)?t.replace(this.channelPrefix,""):t},b.prototype._trySubscribe=function(t){var e=this,n=!t.waitForAuth||this.authState===this.AUTHENTICATED;if(this.state===this.OPEN&&!this.preparingPendingSubscriptions&&null==t._pendingSubscriptionCid&&n){var o={noTimeout:!0},i={channel:this._decorateChannelName(t.name)};t.waitForAuth&&(o.waitForAuth=!0,i.waitForAuth=o.waitForAuth),t.data&&(i.data=t.data),t.batch&&(o.batch=!0,i.batch=!0),t._pendingSubscriptionCid=this.transport.emit("#subscribe",i,o,function(n){delete t._pendingSubscriptionCid,n?e._triggerChannelSubscribeFail(n,t,i):e._triggerChannelSubscribe(t,i)}),r.prototype.emit.call(this,"subscribeRequest",t.name,i)}},b.prototype.subscribe=function(t,e){var n=this.channels[t];return n?e&&n.setOptions(e):(n=new o(t,this,e),this.channels[t]=n),n.state===n.UNSUBSCRIBED&&(n.state=n.PENDING,this._trySubscribe(n)),n},b.prototype._triggerChannelUnsubscribe=function(t,e){var n=t.name,o=t.state;if(t.state=e||t.UNSUBSCRIBED,this._cancelPendingSubscribeCallback(t),o===t.SUBSCRIBED){var i={channel:n,oldState:o,newState:t.state};t.emit("subscribeStateChange",i),t.emit("unsubscribe",n),r.prototype.emit.call(this,"subscribeStateChange",i),r.prototype.emit.call(this,"unsubscribe",n)}},b.prototype._tryUnsubscribe=function(t){if(this.state===this.OPEN){var e={noTimeout:!0};t.batch&&(e.batch=!0),this._cancelPendingSubscribeCallback(t);var n=this._decorateChannelName(t.name);this.transport.emit("#unsubscribe",n,e)}},b.prototype.unsubscribe=function(t){var e=this.channels[t];e&&e.state!==e.UNSUBSCRIBED&&(this._triggerChannelUnsubscribe(e),this._tryUnsubscribe(e))},b.prototype.channel=function(t,e){var n=this.channels[t];return n||(n=new o(t,this,e),this.channels[t]=n),n},b.prototype.destroyChannel=function(t){var e=this.channels[t];e&&(e.unwatch(),e.unsubscribe(),delete this.channels[t])},b.prototype.subscriptions=function(t){var e,n=[];for(var r in this.channels)this.channels.hasOwnProperty(r)&&(e=this.channels[r],(t?e&&(e.state===e.SUBSCRIBED||e.state===e.PENDING):e&&e.state===e.SUBSCRIBED)&&n.push(r));return n},b.prototype.isSubscribed=function(t,e){var n=this.channels[t];return e?!!n&&(n.state===n.SUBSCRIBED||n.state===n.PENDING):!!n&&n.state===n.SUBSCRIBED},b.prototype.processPendingSubscriptions=function(){var t=this;this.preparingPendingSubscriptions=!1;var e=[];for(var n in this.channels)if(this.channels.hasOwnProperty(n)){var r=this.channels[n];r.state===r.PENDING&&e.push(r)}e.sort(function(t,e){var n=t.priority||0,r=e.priority||0;return n>r?-1:n<r?1:0}),e.forEach(function(e){t._trySubscribe(e)})},b.prototype.watch=function(t,e){if("function"!=typeof e)throw new p("No handler function was provided");this._channelEmitter.on(t,e)},b.prototype.unwatch=function(t,e){e?this._channelEmitter.removeListener(t,e):this._channelEmitter.removeAllListeners(t)},b.prototype.watchers=function(t){return this._channelEmitter.listeners(t)},e.exports=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./auth":51,"./response":53,"./sctransport":55,"buffer/":9,clone:10,"component-emitter":11,"linked-list":17,querystring:7,"sc-channel":46,"sc-errors":48,"sc-formatter":49}],55:[function(t,e,n){(function(n){var r,o,i=t("component-emitter"),s=t("./response").Response,a=t("querystring");n.WebSocket?(r=n.WebSocket,o=function(t,e){return new r(t)}):(r=t("ws"),o=function(t,e){return new r(t,null,e)});var c=t("sc-errors"),u=c.TimeoutError,l=c.BadConnectionError,h=function(t,e,n){var r=this;this.state=this.CLOSED,this.auth=t,this.codec=e,this.options=n,this.connectTimeout=n.connectTimeout,this.pingTimeout=n.ackTimeout,this.pingTimeoutDisabled=!!n.pingTimeoutDisabled,this.callIdGenerator=n.callIdGenerator,this.authTokenName=n.authTokenName,this._pingTimeoutTicker=null,this._callbackMap={},this._batchSendList=[],this.state=this.CONNECTING;var i=this.uri(),s=o(i,this.options);s.binaryType=this.options.binaryType,this.socket=s,s.onopen=function(){r._onOpen()},s.onclose=function(t){var e;e=null==t.code?1005:t.code,r._onClose(e,t.reason)},s.onmessage=function(t,e){r._onMessage(t.data)},s.onerror=function(t){r.state===r.CONNECTING&&r._onClose(1006)},this._connectTimeoutRef=setTimeout(function(){r._onClose(4007),r.socket.close(4007)},this.connectTimeout)};h.prototype=Object.create(i.prototype),h.CONNECTING=h.prototype.CONNECTING="connecting",h.OPEN=h.prototype.OPEN="open",h.CLOSED=h.prototype.CLOSED="closed",h.prototype.uri=function(){var t,e=this.options.query||{},n=this.options.secure?"wss":"ws";if(this.options.timestampRequests&&(e[this.options.timestampParam]=(new Date).getTime()),(e=a.encode(e)).length&&(e="?"+e),this.options.host)t=this.options.host;else{var r="";this.options.port&&("wss"===n&&443!==this.options.port||"ws"===n&&80!==this.options.port)&&(r=":"+this.options.port),t=this.options.hostname+r}return n+"://"+t+this.options.path+e},h.prototype._onOpen=function(){var t=this;clearTimeout(this._connectTimeoutRef),this._resetPingTimeout(),this._handshake(function(e,n){var r;e?(r=n&&n.code?n.code:4003,t._onError(e),t._onClose(r,e.toString()),t.socket.close(r)):(t.state=t.OPEN,i.prototype.emit.call(t,"open",n),t._resetPingTimeout())})},h.prototype._handshake=function(t){var e=this;this.auth.loadToken(this.authTokenName,function(n,r){if(n)t(n);else{e.emit("#handshake",{authToken:r},{force:!0},function(e,n){n&&(n.authToken=r,n.authError&&(n.authError=c.hydrateError(n.authError))),t(e,n)})}})},h.prototype._abortAllPendingEventsDueToBadConnection=function(t){for(var e in this._callbackMap)if(this._callbackMap.hasOwnProperty(e)){var n=this._callbackMap[e];delete this._callbackMap[e],clearTimeout(n.timeout),delete n.timeout;var r="Event '"+n.event+"' was aborted due to a bad connection",o=new l(r,t),i=n.callback;delete n.callback,i.call(n,o,n)}},h.prototype._onClose=function(t,e){delete this.socket.onopen,delete this.socket.onclose,delete this.socket.onmessage,delete this.socket.onerror,clearTimeout(this._connectTimeoutRef),clearTimeout(this._pingTimeoutTicker),clearTimeout(this._batchTimeout),this.state===this.OPEN?(this.state=this.CLOSED,i.prototype.emit.call(this,"close",t,e),this._abortAllPendingEventsDueToBadConnection("disconnect")):this.state===this.CONNECTING&&(this.state=this.CLOSED,i.prototype.emit.call(this,"openAbort",t,e),this._abortAllPendingEventsDueToBadConnection("connectAbort"))},h.prototype._handleEventObject=function(t,e){if(t&&null!=t.event){var n=new s(this,t.cid);i.prototype.emit.call(this,"event",t.event,t.data,n)}else if(t&&null!=t.rid){var r=this._callbackMap[t.rid];if(r&&(clearTimeout(r.timeout),delete r.timeout,delete this._callbackMap[t.rid],r.callback)){var o=c.hydrateError(t.error);r.callback(o,t.data)}}else i.prototype.emit.call(this,"event","raw",e)},h.prototype._onMessage=function(t){i.prototype.emit.call(this,"event","message",t);var e=this.decode(t);if("#1"===e)this._resetPingTimeout(),this.socket.readyState===this.socket.OPEN&&this.sendObject("#2");else if(Array.isArray(e))for(var n=e.length,r=0;r<n;r++)this._handleEventObject(e[r],t);else this._handleEventObject(e,t)},h.prototype._onError=function(t){i.prototype.emit.call(this,"error",t)},h.prototype._resetPingTimeout=function(){if(!this.pingTimeoutDisabled){var t=this;(new Date).getTime();clearTimeout(this._pingTimeoutTicker),this._pingTimeoutTicker=setTimeout(function(){t._onClose(4e3),t.socket.close(4e3)},this.pingTimeout)}},h.prototype.getBytesReceived=function(){return this.socket.bytesReceived},h.prototype.close=function(t,e){if(t=t||1e3,this.state===this.OPEN){var n={code:t,data:e};this.emit("#disconnect",n),this._onClose(t,e),this.socket.close(t)}else this.state===this.CONNECTING&&(this._onClose(t,e),this.socket.close(t))},h.prototype.emitObject=function(t,e){var n={event:t.event,data:t.data};return t.callback&&(n.cid=t.cid=this.callIdGenerator(),this._callbackMap[t.cid]=t),this.sendObject(n,e),t.cid||null},h.prototype._handleEventAckTimeout=function(t){t.cid&&delete this._callbackMap[t.cid],delete t.timeout;var e=t.callback;if(e){delete t.callback;var n=new u("Event response for '"+t.event+"' timed out");e.call(t,n,t)}},h.prototype.emit=function(t,e,n,r){var o,i,s=this;r?(i=n,o=r):n instanceof Function?(i={},o=n):i=n;var a={event:t,data:e,callback:o};o&&!i.noTimeout&&(a.timeout=setTimeout(function(){s._handleEventAckTimeout(a)},this.options.ackTimeout));var c=null;return(this.state===this.OPEN||i.force)&&(c=this.emitObject(a,i)),c},h.prototype.cancelPendingResponse=function(t){delete this._callbackMap[t]},h.prototype.decode=function(t){return this.codec.decode(t)},h.prototype.encode=function(t){return this.codec.encode(t)},h.prototype.send=function(t){this.socket.readyState!==this.socket.OPEN?this._onClose(1005):this.socket.send(t)},h.prototype.serializeObject=function(t){var e,n;try{e=this.encode(t)}catch(t){n=t,this._onError(n)}return n?null:e},h.prototype.sendObjectBatch=function(t){var e=this;this._batchSendList.push(t),this._batchTimeout||(this._batchTimeout=setTimeout(function(){if(delete e._batchTimeout,e._batchSendList.length){var t=e.serializeObject(e._batchSendList);null!=t&&e.send(t),e._batchSendList=[]}},this.options.pubSubBatchDuration||0))},h.prototype.sendObjectSingle=function(t){var e=this.serializeObject(t);null!=e&&this.send(e)},h.prototype.sendObject=function(t,e){e&&e.batch?this.sendObjectBatch(t):this.sendObjectSingle(t)},e.exports.SCTransport=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./response":53,"component-emitter":11,querystring:7,"sc-errors":48,ws:56}],56:[function(t,e,n){var r,o=(r="undefined"!=typeof WorkerGlobalScope?self:"undefined"!=typeof window&&window||function(){return this}()).WebSocket||r.MozWebSocket;function i(t,e,n){return e?new o(t,e):new o(t)}o&&(i.prototype=o.prototype),e.exports=o?i:null},{}],57:[function(t,e,n){var r=t("./v1"),o=t("./v4"),i=o;i.v1=r,i.v4=o,e.exports=i},{"./v1":60,"./v4":61}],58:[function(t,e,n){for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);e.exports=function(t,e){var n=e||0,o=r;return o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+"-"+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]+o[t[n++]]}},{}],59:[function(t,e,n){var r="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(r){var o=new Uint8Array(16);e.exports=function(){return r(o),o}}else{var i=new Array(16);e.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},{}],60:[function(t,e,n){var r,o,i=t("./lib/rng"),s=t("./lib/bytesToUuid"),a=0,c=0;e.exports=function(t,e,n){var u=e&&n||0,l=e||[],h=(t=t||{}).node||r,f=void 0!==t.clockseq?t.clockseq:o;if(null==h||null==f){var p=i();null==h&&(h=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=o=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),m=void 0!==t.nsecs?t.nsecs:c+1,g=d-a+(m-c)/1e4;if(g<0&&void 0===t.clockseq&&(f=f+1&16383),(g<0||d>a)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=d,c=m,o=f;var y=(1e4*(268435455&(d+=122192928e5))+m)%4294967296;l[u++]=y>>>24&255,l[u++]=y>>>16&255,l[u++]=y>>>8&255,l[u++]=255&y;var v=d/4294967296*1e4&268435455;l[u++]=v>>>8&255,l[u++]=255&v,l[u++]=v>>>24&15|16,l[u++]=v>>>16&255,l[u++]=f>>>8|128,l[u++]=255&f;for(var _=0;_<6;++_)l[u+_]=h[_];return e||s(l)}},{"./lib/bytesToUuid":58,"./lib/rng":59}],61:[function(t,e,n){var r=t("./lib/rng"),o=t("./lib/bytesToUuid");e.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var s=(t=t||{}).random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;a<16;++a)e[i+a]=s[a];return e||o(s)}},{"./lib/bytesToUuid":58,"./lib/rng":59}],AnimationController4:[function(t,e,n){"use strict";cc._RF.push(e,"48afd1zIvdKjqMzMyWdrWo7","AnimationController4"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../scripts/Slots/AnimationController"),o=cc._decorator,i=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e=__decorate([i],e)}(r.default));n.default=s,cc._RF.pop()},{"../../../scripts/Slots/AnimationController":"AnimationController"}],AnimationController5:[function(t,e,n){"use strict";cc._RF.push(e,"f9738wVjnRMMKzciCT5eApg","AnimationController5"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=r.ccclass,i=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e=__decorate([o],e)}(t("../../../scripts/Slots/AnimationController").default));n.default=i,cc._RF.pop()},{"../../../scripts/Slots/AnimationController":"AnimationController"}],AnimationController:[function(t,e,n){"use strict";cc._RF.push(e,"3d72bR6jslGsYSbra1OLiEg","AnimationController"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameConfig"),o=cc._decorator,i=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delayTime=2.2,e.wildItemId="w",e.totalPayLines=20,e._tempIsShowWin=!1,e.lines=null,e.reward=0,e}return __extends(e,t),e.prototype.onLoad=function(){this._slotController=this.node.getComponent("SlotController"),this._linesController=this.node.getComponentInChildren("LinesController")},e.prototype.refreshSlotAnimation=function(){this._linesController.refreshShowLines(),this.stopZoomLineItems(),this._tempIsShowWin=!1},e.prototype.setAnimationData=function(t){this.lines=t.score.lines,this.reward=t.score.reward,this._listItem=this._slotController._listItem},e.prototype.showAllLines=function(t){if(!t||!this._slotController.isSpin)return this._linesController.showAllLines(this.lines.map(function(t){return t.l}),this.totalPayLines)},e.prototype.showWinAmount=function(){!this._tempIsShowWin&&window.GameScene.currentSlot&&this._slotController.uuid===window.GameScene.currentSlot.SlotController.uuid&&window.GameScene._bottomBarController.updateWinAmount(this.reward),this._tempIsShowWin=!0},e.prototype.showEachLine=function(){return __awaiter(this,void 0,void 0,function(){var t,e,n;return __generator(this,function(r){switch(r.label){case 0:t=this.lines,e=0,n=t.length,r.label=1;case 1:return e<n?this._slotController.isSpin?[3,4]:(this.stopZoomLineItems(),this.playZoomLineItems(t[e]),[4,this._linesController.showLine(t[e].l)]):[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},e.prototype.playZoomLineItems=function(t){var e=this,n=this._listItem.slice(1),o=r.default.PAY_LINES[this.totalPayLines][t.l],i=parseInt(t.s[0]),s=!1;o.forEach(function(t,r){s||(n[t][r].id==i||n[t][r].id==e.wildItemId?n[t][r].playZoomAnimation():s=!0)})},e.prototype.stopZoomLineItems=function(){this._listItem&&this._listItem.slice(1).forEach(function(t){return t.forEach(function(t){return t.stopZoomAnimation()})})},e.prototype.spinItems=function(t){t.forEach(function(t){t.forEach(function(t){setTimeout(function(){t.move()},200*t.x)})})},__decorate([s(cc.Float)],e.prototype,"delayTime",void 0),__decorate([s(cc.String)],e.prototype,"wildItemId",void 0),__decorate([s(cc.Integer)],e.prototype,"totalPayLines",void 0),e=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{"../GameConfig":"GameConfig"}],Api:[function(t,e,n){"use strict";cc._RF.push(e,"798c96BirVCt69SsVnT+Xy6","Api"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("socketcluster-client"),o=t("./lib/auth"),i=t("./lib/sc-codec-min-bin"),s=t("./GameConfig"),a=t("./Concos"),c="64.120.114.208",u=function(){function t(){return t.instance||(t.instance=this)}return t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.getToken("12345678911")];case 1:return t=n.sent(),console.log("get token done",t.token),this.connectSocket(t.token),[3,3];case 2:return e=n.sent(),console.log("get token error",e),[3,3];case 3:return[2]}})})},t.prototype.getToken=function(t){return new Promise(function(e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState){if(r.status>=200&&r.status<400){var t=JSON.parse(r.responseText);return e(t)}return n(r.responseText)}},r.open("POST","http://"+c+":8000/v1/authdev",!0),cc.sys.isNative&&r.setRequestHeader("Accept-Encoding","gzip,deflate"),r.setRequestHeader("Content-Type","application/json;charset=utf-8"),r.send(JSON.stringify({ID:t}))})},t.prototype.connectSocket=function(t){var e=this;t&&(new o.AuthEngine).saveToken("socketCluster.authToken",t),this.socket=r.connect({port:8001,hostname:c,perMessageDeflate:!0,codecEngine:i,multiplex:!1,autoReconnect:!1}),this.socket.on("error",function(t){console.error("socket.on error",JSON.stringify(t))}),this.socket.on("connect",function(t){return __awaiter(e,void 0,void 0,function(){var e,n,r;return __generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),console.log("Socket is connected",this.socket.authToken,this.socket.signedAuthToken,t),window.GameController.gotoHomeScene(),[4,this.sendGDPromise({e:"regisClient",device_info:"developer"})];case 1:return e=o.sent(),a.default.emit(a.Event.UPDATE_USER_BALANCE,e.coin,{delayTime:0,lerpRatio:50}),t.isAuthenticated&&(n=this.socket.authToken,this.subscribeChanel(n.uid)),[3,3];case 2:return r=o.sent(),cc.log(r),[3,3];case 3:return[2]}})})}),this.socket.on("authenticate",function(t){console.log("on.authenticate",t)}),this.socket.on("deauthenticate",function(t,e,n){console.log("deauthenticate",t,e,n)}),this.socket.on("random",function(t){console.log('Received "random" event with data: '+t.number)})},t.prototype.subscribeChanel=function(t){var e=this.socket.subscribe("u:"+t);e.unwatch(),e.on("subscribeFail",function(t){console.error("Failed to subscribe to the channelME channel due to error: "+t)}),e.watch(function(t){switch(console.log("channelME channel message:",t),t.type){case s.default.EVENT.SLOT_SPIN:window.GameController.slotWatch(t);break;case s.default.EVENT.SLOT_BONUS_RESULT:if(window.GameController.userBalance=t.ccoin,window.GameScene)if(window.GameScene.ScenesManager.find(function(e){return e.SlotController.gameId==t.smid}).SlotController)return;a.default.emit(a.Event.UPDATE_USER_BALANCE,t.ccoin)}})},t.prototype.registerClient=function(){this.sendGD({e:s.default.EVENT.REGIS},function(t,e){if(t)return cc.log(t);cc.log(e)})},t.prototype.sendGD=function(t,e){this.socket.emit("GD",t,e)},t.prototype.sendGDPromise=function(t){var e=this;return new Promise(function(n,r){e.socket.emit("GD",t,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t[0]?r(t[0]):n(t[1])})})},t.prototype.onSceneChanged=function(t){cc.log("onSceneChanged",t),this.socket.emit("clientreact",{data:t||1},function(t,e){console.log("clientreact result",t,e)})},t}();n.default=new u,cc._RF.pop()},{"./Concos":"Concos","./GameConfig":"GameConfig","./lib/auth":"auth","./lib/sc-codec-min-bin":"sc-codec-min-bin","socketcluster-client":50}],AutoFitCanvas:[function(t,e,n){"use strict";cc._RF.push(e,"7f7e78Rb8dBbJCW/0AzBYED","AutoFitCanvas"),cc.Class({extends:cc.Component,properties:{widthDesign:1280,heightDesign:720},start:function(){var t=cc.view.getFrameSize(),e=t.width/t.height,n=this.widthDesign/this.heightDesign,r=this.node.getComponent(cc.Canvas);e<n?(r.fitHeight=!1,r.fitWidth=!0):(r.fitHeight=!0,r.fitWidth=!1)}}),cc._RF.pop()},{}],BetResource:[function(t,e,n){"use strict";cc._RF.push(e,"475cc5KLedPKq3241A+fII9","BetResource"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../scripts/Slots/ResourceController"),o=cc._decorator,i=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list={item:{0:"img/ItemBet/select-bet-play-1",1:"img/ItemBet/select-bet-play-2",2:"img/ItemBet/select-bet-play-3",3:"img/ItemBet/select-bet-play-4",4:"img/ItemBet/select-bet-play-5"},itemBorderBet:{0:"img/ItemBet/borderBet"}},e.resPathTotal="4_gameScene/4_Slot4/img",e}return __extends(e,t),e.prototype.getlistBorderBet=function(){var t=this,e=Object.keys(this.list.itemBorderBet);return e=e.reduce(function(e,n){return e.concat([{id:n,img:t.listResImage.find(function(e){return e.name===t.list.itemBorderBet[n].split("/").pop()})}])},[]),cc.log(e),e},e=__decorate([i],e)}(r.default));n.default=s,cc._RF.pop()},{"../../../../scripts/Slots/ResourceController":"ResourceController"}],BetsController4:[function(t,e,n){"use strict";cc._RF.push(e,"f10e1uxCF9B+rzTl7cduCyC","BetsController4"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../scripts/Slots/Item"),o=t("./BetResource"),i=cc._decorator,s=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resource=new o.default,e._listItemBetData=[],e._listBet=[],e._listBetBorder=[],e.distanceItemY=0,e.distancceItemX=0,e.tableSelect=null,e.itemSelect=null,e.bgSlot=null,e.bgBet=null,e}return __extends(e,t),e.prototype.onLoad=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.resource.loadAllRes()];case 1:return t.sent(),this.loadItemBetRes(),this.loadBorderBetRes(),this.init(),[2]}})})},e.prototype.loadItemBetRes=function(){var t=this;this.resource.getlistImgItem().forEach(function(e){var n=new r.default;n.setInfo(e.id,e.img),t._listItemBetData.push(n)})},e.prototype.loadBorderBetRes=function(){var t=this;this.resource.getlistBorderBet().forEach(function(e){var n={id:e.id,img:e.img};t._listBetBorder.push(n)})},e.prototype.getBetItem=function(t){return this._listItemBetData[t]},e.prototype.instantiateBetsItem=function(t,e,n){this.distancceItemX=this.tableSelect.width/this.numberCol,this.distanceItemY=this.tableSelect.height/this.numberRow;var r=cc.instantiate(this.itemSelect);r.parent=this.tableSelect,r.setPosition((e+.5)*this.distancceItemX,(n+.5)*this.distanceItemY);var o=r.getComponent("BetsItem4");o.setBetItemInfo(t,e,n),o.betsController=this,r.active=!0,this._listBet.push(o)},e.prototype.init=function(){this.numberCol=1,this.numberRow=5,this.bgSlot.active=!0,this.bgBet.active=!1;for(var t=0;t<this.numberCol;t++)for(var e=0;e<this.numberRow;e++){var n=this.getBetItem(e);this.instantiateBetsItem(n,t,e)}},e.prototype.changeView=function(){this.bgSlot.active=!this.bgSlot.active,this.bgBet.active=!this.bgBet.active,0==this.bgSlot.active?this.bgBet.active=!0:this.bgBet.active=!1},__decorate([a(cc.Node)],e.prototype,"tableSelect",void 0),__decorate([a(cc.Node)],e.prototype,"itemSelect",void 0),__decorate([a(cc.Node)],e.prototype,"bgSlot",void 0),__decorate([a(cc.Node)],e.prototype,"bgBet",void 0),e=__decorate([s],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../../../../scripts/Slots/Item":"Item","./BetResource":"BetResource"}],BetsItem4:[function(t,e,n){"use strict";cc._RF.push(e,"5f6a1xzL3ZJyJVf3vxNL2S0","BetsItem4"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./BetsController4"),o=cc._decorator,i=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spritesFrame=null,e.betsController=null,e.borderBet=null,e.id="",e.x=0,e.y=0,e.count=0,e}return __extends(e,t),e.prototype.load=function(){this.borderBet.active=!1},e.prototype.setBetItemInfo=function(t,e,n){this.id=t.id;var r=this.addEventButton();if(this.spritesFrame.spriteFrame=t.spritesFrame,r==this.id){this.borderBet.active=!1;var o=this.betsController._listBetBorder[0];this.borderBet.getComponent(cc.Sprite).spriteFrame=o.img}else this.borderBet.active=!0;this.x=e,this.y=n},e.prototype.addEventButton=function(){var t=this;return setTimeout(function(){return t.betsController.changeView()},500),this.borderBet.active=!this.borderBet.active,this.id},e.prototype.setBorderBet=function(t){setTimeout(function(){return t.borderBet.active=!0},500)},__decorate([s(cc.Sprite)],e.prototype,"spritesFrame",void 0),__decorate([s(r.default)],e.prototype,"betsController",void 0),__decorate([s(cc.Node)],e.prototype,"borderBet",void 0),e=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{"./BetsController4":"BetsController4"}],BottomBarController:[function(t,e,n){"use strict";cc._RF.push(e,"87074QkXOxOTI12esJd2SQF","BottomBarController"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../lib/Util"),o=cc._decorator,i=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winLabel=null,e.betLabel=null,e.spinButton=null,e.holdTime=500,e.autoBet=null,e.lerpRatio=10,e.winAmount=0,e.currentBet=0,e.betArray=[],e.isUpdattingWinAmount=!1,e._tempWin=0,e._isPress=!1,e._setTimeout=null,e._isShow=!1,e.container=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.initialize(),this.resetWinAmount(),this.addSpinButtonEvent()},e.prototype.initialize=function(){this.container=this.node.getChildByName("container")},e.prototype.toggleBar=function(t){void 0===t&&(t=.5),this.container.runAction(cc.moveBy(t,cc.v2(0,this.container.height*(this._isShow?-1:1))).easing(cc.easeSineOut())),this.container.runAction(this._isShow?cc.fadeOut(t):cc.fadeIn(t)),this._isShow=!this._isShow},e.prototype.resetWinAmount=function(){this.winLabel.string="0"},e.prototype.addSpinButtonEvent=function(){var t=this;this.spinButton.node.on(cc.Node.EventType.TOUCH_START,function(e){t._isPress=!0,t._setTimeout=setTimeout(function(){t.autoBet.active||t.showAutoBet(),t._isPress=!1},t.holdTime)}),this.spinButton.node.on(cc.Node.EventType.TOUCH_END,function(e){t._isPress&&(window.GameScene.clickSpin(),clearTimeout(t._setTimeout),t._isPress=!1)}),this.spinButton.node.on(cc.Node.EventType.TOUCH_CANCEL,function(e){t._isPress=!1,clearTimeout(t._setTimeout)})},e.prototype.displayBetLabel=function(){var t=this;this.betLabel.node.runAction(cc.scaleTo(.15,1.05)),this.betLabel.string=r.default.formatMoney(this.currentBet),setTimeout(function(){t.betLabel.node.runAction(cc.scaleTo(.15,1))},150)},e.prototype.autoSpin=function(t,e){window.GameScene.currentSlot.SlotController.autoSpin(Number(e)),this.hideAutoBet()},e.prototype.showAutoBet=function(){this.autoBet.active=!0,this.autoBet.runAction(cc.moveBy(.4,cc.v2(0,310))),r.default.showNode(this.autoBet)},e.prototype.hideAutoBet=function(){var t=this;r.default.hideNode(this.autoBet),this.autoBet.runAction(cc.moveBy(.1,cc.v2(0,-310))),setTimeout(function(){t.autoBet.active=!1},300)},e.prototype.updateInfo=function(){var t=window.GameScene.currentSlot||null;t&&(this.betArray=t.SlotController.betArray,this.currentBet=t.SlotController.currentBet,this.displayBetLabel(),this.winAmount=t.SlotController.lastWin,this.winLabel.string=this.winAmount.toString())},e.prototype.changeBetAmount=function(t,e){e=Number(e);var n=this.betArray.indexOf(this.currentBet);0==n&&-1==e||n==this.betArray.length-1&&1==e||(this.currentBet=n<0?this.betArray[0]:this.betArray[n+e],window.GameScene.currentSlot&&(window.GameScene.currentSlot.SlotController.currentBet=this.currentBet),this.displayBetLabel())},e.prototype.maxBetAmount=function(){this.currentBet=this.betArray[this.betArray.length-1],window.GameScene.currentSlot&&(window.GameScene.currentSlot.SlotController.currentBet=this.currentBet),this.displayBetLabel()},e.prototype.updateWinAmount=function(t){this.winAmount=t,this.isUpdattingWinAmount=!0},e.prototype.update=function(t){this._updateWinAmount(t)},e.prototype._updateWinAmount=function(t){if(this.isUpdattingWinAmount){var e=this.winAmount-this._tempWin;this._tempWin=e*this.lerpRatio*t+this._tempWin,this.winLabel.string=r.default.formatMoney(this._tempWin),this.winAmount-this._tempWin<1&&(this.winLabel.string=r.default.formatMoney(this.winAmount),this.isUpdattingWinAmount=!1,this._tempWin=0)}},__decorate([s(cc.Label)],e.prototype,"winLabel",void 0),__decorate([s(cc.Label)],e.prototype,"betLabel",void 0),__decorate([s(cc.Button)],e.prototype,"spinButton",void 0),__decorate([s(cc.Integer)],e.prototype,"holdTime",void 0),__decorate([s(cc.Node)],e.prototype,"autoBet",void 0),e=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{"../lib/Util":"Util"}],CoinLabel:[function(t,e,n){"use strict";cc._RF.push(e,"38713mHWmRFML2UHJo56Vtc","CoinLabel"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../lib/Util"),o=function(){function t(t,e){this.coinLabel=null,this.lerpRatio=10,this.userBalance=0,this._tempUserBalance=0,this.isUpdattingBalance=!1,this.coinLabel=t,e&&(this.lerpRatio=e)}return t.prototype.updateUserBalance=function(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return e?e.delayTime?[4,r.default.delay(e.delayTime)]:[3,2]:[3,3];case 1:n.sent(),n.label=2;case 2:e.lerpRatio&&(this.lerpRatio=e.lerpRatio),n.label=3;case 3:return this._tempUserBalance=this.userBalance,this.userBalance=t,this.isUpdattingBalance=!0,[2]}})})},t.prototype._updateUserBalance=function(t){if(this.isUpdattingBalance){var e=this.userBalance-this._tempUserBalance;this._tempUserBalance=e*this.lerpRatio*t+this._tempUserBalance,this.coinLabel.string=r.default.formatMoney(this._tempUserBalance),Math.abs(this.userBalance-this._tempUserBalance)<1&&(this.coinLabel.string=r.default.formatMoney(this.userBalance),this.isUpdattingBalance=!1)}},t}();n.default=o,cc._RF.pop()},{"../lib/Util":"Util"}],Concos:[function(t,e,n){"use strict";cc._RF.push(e,"d2a9c2xE+ZI44CCI+XTWMyZ","Concos"),Object.defineProperty(n,"__esModule",{value:!0}),n.Event={UPDATE_USER_BALANCE:"UPDATE_USER_BALANCE"};var r=function(){function t(){return this.eventList={},this.subUid=-1,t._instance||(t._instance=this)}return t.prototype.register=function(t,e){var n=(++this.subUid).toString();return this.eventList[t]?this.eventList[t].push({token:n,callback:e}):this.eventList[t]=[{token:n,callback:e}],n},t.prototype.unRegister=function(t){var e=this.eventList;for(var n in e)if(e[n])for(var r=0,o=e[n].length;r<o;r++)if(e[n][r].token===t)return e[n].splice(r,1),e},t.prototype.emit=function(t,e,n){if(!this.eventList[t])return!1;this.eventList[t].forEach(function(t){t.callback(e,n)})},t}();n.default=new r,cc._RF.pop()},{}],DialogController:[function(t,e,n){"use strict";cc._RF.push(e,"33a9d/xzr9E2Y7H9ED3kqDe","DialogController"),cc.Class({extends:cc.Component,properties:{notiDialog:{type:cc.Prefab,default:null},buyChipDialog:{type:t("NotiDialog"),default:null}},start:function(){},showDialog:function(t,e){var n=cc.instantiate(t);n.parent=e||this.node,n.setScale(.5,.5),n.opacity=100,n.runAction(cc.fadeIn(1)).easing(cc.easeElasticOut(3)),n.runAction(cc.scaleTo(1,1),.5).easing(cc.easeElasticOut(3))},showNotiDialog:function(t){cc.log("open noti dialog"),this.showDialog(this.notiDialog,t)}}),cc._RF.pop()},{NotiDialog:"NotiDialog"}],DownloadCtr:[function(t,e,n){"use strict";cc._RF.push(e,"02850mIi71MA6l6R9T/3e4h","DownloadCtr"),cc.Class({extends:cc.Component,properties:{label:cc.Label,sprite:cc.Sprite,imgUrl:"http://www.cocos.com/wp-content/themes/cocos/img/download1.png",txtUrl:"https://raw.githubusercontent.com/cocos-creator/tutorial-dark-slash/master/LICENSE.md",tempImgUrl:"http://www.cocos.com/wp-content/uploads/2018/03/%E9%BB%98%E8%AE%A4%E6%A0%87%E9%A2%98_%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BA%95%E9%83%A8%E4%BA%8C%E7%BB%B4%E7%A0%81_2018.03.08.png",audioUrl:"http://tools.itharbors.com/christmas/res/sounds/ss.mp3",_downloader:null,_imgTask:null,_txtTask:null,_audioTask:null,_storagePath:"",_inited:!1},onLoad:function(){this.label.string="Downloader is a NATIVE ONLY feature."},onSucceed:function(t){var e=this;switch(-1!==this._audioID&&cc.audioEngine.stop(this._audioID),t.requestURL){case this.imgUrl:cc.loader.load(t.storagePath,function(t,n){e.sprite.spriteFrame=new cc.SpriteFrame(n),e.sprite.node.active=!0,e.label.node.active=!1});break;case this.txtUrl:var n=jsb.fileUtils.getStringFromFile(t.storagePath);this.sprite.node.active=!1,this.label.node.active=!0,this.label.string=n.substr(0,350);break;case this.audioUrl:this.sprite.node.active=!1,this.label.node.active=!0,this.label.string="Audio Download Complete.",cc.loader.load(t.storagePath,function(t,n){e._audioID=cc.audioEngine.play(n)})}},onProgress:function(t,e,n,r){},onError:function(t,e,n,r){this.sprite.node.active=!1,this.label.node.active=!0,this.label.string="Failed to download file ("+t.requestURL+"): "+r+"("+e+")"},downloadImg:function(){this.imgUrl&&this._inited&&(this.sprite.node.active=!1,this.label.node.active=!0,this.label.string="Downloading image",this._imgTask=this._downloader.createDownloadFileTask(this.imgUrl,this._storagePath+"download1.png"))},loadImg:function(){var t=this;this.tempImgUrl&&this._inited&&cc.loader.load(this.tempImgUrl,function(e,n){e?console.log("Load remote image failed: "+e):(t.sprite.spriteFrame=new cc.SpriteFrame(n),t.sprite.node.active=!0,t.label.node.active=!1,cc.audioEngine.stop(t._audioID))})},loadSource:function(t){return new Promise(function(e,n){cc.loader.load(t,function(t,r){return t?(cc.log(t),n(t)):e(r)})})},loadImgFromStorage:function(){var t=this,e=this._storagePath+"download1.png";cc.log(jsb.fileUtils.isFileExist(e)),this.loadSource(e).then(function(e){cc.log(e),t.sprite.spriteFrame=new cc.SpriteFrame(e)}).catch(function(t){cc.log("error loading banner",JSON.stringify(t))})},downloadTxt:function(){this.txtUrl&&this._inited&&(this.label.node.active=!0,this.sprite.node.active=!1,this.label.string="Downloading Txt",this._txtTask=this._downloader.createDownloadFileTask(this.txtUrl,this._storagePath+"imagine.txt"))},downloadAudio:function(){this.audioUrl&&this._inited&&(this.sprite.node.active=!1,this.label.node.active=!0,this.label.string="Downloading Audio",this._audioTask=this._downloader.createDownloadFileTask(this.audioUrl,this._storagePath+"audioTest.mp3"))},onDisable:function(){cc.audioEngine.stop(this._audioID)}}),cc._RF.pop()},{}],FitWidthIphoneX:[function(t,e,n){"use strict";cc._RF.push(e,"b0badbZFiVCdbCKaIyB8Y1p","FitWidthIphoneX"),cc.Class({extends:cc.Component,properties:{marrgin:100},onLoad:function(){var t=cc.view.getFrameSize();t.width/t.height>=2.165&&this.node.getComponent(cc.Widget)&&(this.node.getComponent(cc.Widget).left=this.marrgin,this.node.getComponent(cc.Widget).right=this.marrgin)}}),cc._RF.pop()},{}],GameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"3cd21EwkSRDvL7ZGEzj9bOb","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.GAME_SIZE={1:[3,3,3,3,3],2:[4,4,4,4,4],3:[4,4,4,4,4,4],4:[1,3,5,3,1],5:[2,3,4,3,2]},t.PAY_LINES={20:[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[1,0,0,0,1],[1,2,2,2,1],[0,0,1,2,2],[2,2,1,0,0],[1,2,1,0,1],[1,0,1,2,1],[0,1,1,1,0],[2,1,1,1,2],[0,1,0,1,0],[2,1,2,1,2],[1,1,0,1,1],[1,1,2,1,1],[0,0,2,0,0],[2,2,0,2,2],[0,2,2,2,0]]},t.LINE_COLORS=[[137,239,149],[219,176,23],[255,192,37],[188,12,22],[6,154,220],[147,76,147]],t.EVENT={REGIS:"regisClient",SMINFO:"sminfo",SLOT_SPIN:"slotspin",BUY_COIN:"buycoin",SLOT_GET_BONUS:"slotgetbonus",SLOT_BONUS_RESULT:"slotbonus"},t.SMID={4:"sm2002",5:"sm2001"},t}();n.default=r,cc._RF.pop()},{}],GameController:[function(t,e,n){"use strict";cc._RF.push(e,"b5626ARq+VCVp5u2EAHN17N","GameController"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Api"),o=t("./lib/util"),i=t("./Concos"),s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainNode=null,e.homeScenePrefab=null,e.gameScenePrefab=null,e.modelNode=null,e.userBalance=0,e}return __extends(e,t),e.prototype.onLoad=function(){this.initialize(),this.login(),this.registerEvent(),window.concos=i.default,window.api=r.default},e.prototype.initialize=function(){cc.game.addPersistRootNode(this.node),window.GameController=this,this.modelNode.zIndex=8},e.prototype.login=function(){r.default.login()},e.prototype.registerEvent=function(){i.default.register(i.Event.UPDATE_USER_BALANCE,this.updateUserBalance.bind(this))},e.prototype.gotoHomeScene=function(){if(null==this.homeScene){var t=cc.instantiate(this.homeScenePrefab);t.parent=this.mainNode,this.homeScene=t}},e.prototype.openSlot=function(t,e){null==this.gameScene?(this.gameScene=cc.instantiate(this.gameScenePrefab),this.gameScene.parent=this.mainNode):o.default.showNode(this.gameScene),this.gameScene.getComponent("GameScene").openSlot(t)},e.prototype.slotWatch=function(t){window.GameScene&&window.GameScene.slotWatch(t),i.default.emit(i.Event.UPDATE_USER_BALANCE,t.ccoin)},e.prototype.showModel=function(){this.modelNode.active=!0},e.prototype.hideModel=function(){this.modelNode.active=!1},e.prototype.updateUserBalance=function(t){this.userBalance=t},__decorate([c(cc.Node)],e.prototype,"mainNode",void 0),__decorate([c(cc.Prefab)],e.prototype,"homeScenePrefab",void 0),__decorate([c(cc.Prefab)],e.prototype,"gameScenePrefab",void 0),__decorate([c(cc.Node)],e.prototype,"modelNode",void 0),e=__decorate([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./Api":"Api","./Concos":"Concos","./lib/util":"Util"}],GameScene:[function(t,e,n){"use strict";cc._RF.push(e,"a56c9oArvRLpKUSqfmJzbIc","GameScene"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../lib/Util"),o=cc._decorator,i=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.top=null,e.bottom=null,e.center=null,e.bigBg=null,e._topBarController=null,e._bottomBarController=null,e.ScenesManager=[],e}return __extends(e,t),e.prototype.onLoad=function(){this.initState(),this.initPosition()},e.prototype.initState=function(){window.GameScene=this,this.top.active=!0,this.center.active=!0,this.bottom.active=!0,this._topBarController=this.node.getComponentInChildren("TopBarController"),this._bottomBarController=this.node.getComponentInChildren("BottomBarController")},e.prototype.initPosition=function(){this.top.getComponent(cc.Widget).enabled=!1,this.top.y+=this.top.height,this.bottom.getComponent(cc.Widget).enabled=!1,this.bottom.y-=this.bottom.height},e.prototype.openSlot=function(t){return __awaiter(this,void 0,void 0,function(){var e,n=this;return __generator(this,function(o){switch(o.label){case 0:return(e=this.ScenesManager.find(function(e){return e.id==t}))?[2,this.resumeSlot(e.uuid,e.id)]:(this._topBarController.hideFreeSpin(.1),window.GameController.showModel(),[4,Promise.all([this.instantiateSlot(t),this.loadBgSlot(t)])]);case 1:return o.sent(),r.default.showNode(this.node),this.bigBg.node.runAction(cc.sequence([cc.moveBy(.5,cc.v2(0,this.bigBg.node.height)).easing(cc.easeSineOut()),cc.callFunc(function(){n.toggleTopBottomBar()}),cc.delayTime(.5),cc.callFunc(function(){return __awaiter(n,void 0,void 0,function(){return __generator(this,function(t){return this.currentSlot.SlotController.startSlot(),this.currentSlot.SlotNode.runAction(cc.fadeIn(.5)),window.MultiScene.loadContent(),[2]})})})])),[2]}})})},e.prototype.resumeSlot=function(t,e){return __awaiter(this,void 0,void 0,function(){var n,o=this;return __generator(this,function(i){switch(i.label){case 0:return r.default.hideNode(this.node),this.currentSlot=this.ScenesManager.find(function(e){return e.uuid==t}),(n=this.currentSlot.SlotController.freeSpin)>0?(this._topBarController.updateFreeSpin(n),this._topBarController.showFreeSpin(.1)):this._topBarController.hideFreeSpin(.1),[4,this.loadBgSlot(e)];case 1:return i.sent(),this.bigBg.node.runAction(cc.sequence([cc.moveBy(.01,cc.v2(0,this.bigBg.node.height)).easing(cc.easeSineOut()),cc.callFunc(function(){window.GameScene._bottomBarController.updateInfo(),o.toggleTopBottomBar(.01)}),cc.callFunc(function(){o.resumeGame()}),cc.callFunc(function(){o.node.runAction(cc.scaleTo(.01,.1)),o.node.runAction(cc.moveBy(.01,cc.v2(1e3,0)))}),cc.delayTime(.1),cc.callFunc(function(){r.default.showNode(o.node),o.node.runAction(cc.scaleTo(.3,1)),o.node.runAction(cc.moveBy(.3,cc.v2(-1e3,0)))})])),[2]}})})},e.prototype.switchSlot=function(t,e){return __awaiter(this,void 0,void 0,function(){var n,o,i,s=this;return __generator(this,function(a){switch(a.label){case 0:return n=this.ScenesManager.find(function(e){return e.uuid==t}),o="4_gameScene/"+e+"_Slot"+e+"/img/bg-big",[4,new Promise(function(t,e){cc.loader.loadRes(o,function(e,n){0!=n.length&&(s.bigBg.node.active=!0,s.bigBg.spriteFrame=new cc.SpriteFrame(n),t())})})];case 1:return a.sent(),r.default.hideNode(this.currentSlot.SlotNode),this.currentSlot=n,r.default.showNode(this.currentSlot.SlotNode),window.GameScene._bottomBarController.updateInfo(),this.currentSlot.SlotNode.opacity=0,this.currentSlot.SlotNode.runAction(cc.fadeIn(.5)),(i=this.currentSlot.SlotController.freeSpin)>0?(this._topBarController.updateFreeSpin(i),this._topBarController.showFreeSpin()):this._topBarController.hideFreeSpin(),[2]}})})},e.prototype.minimizeGameScene=function(){var t=this;this.currentSlot.SlotNode.runAction(cc.sequence(cc.callFunc(function(){t.node.runAction(cc.scaleTo(.2,.1)),t.node.runAction(cc.moveBy(.3,cc.v2(1e3,0)))}),cc.delayTime(.3),cc.callFunc(function(){r.default.hideNode(t.node),t.node.runAction(cc.scaleTo(.02,1)),t.node.runAction(cc.moveBy(.03,cc.v2(-1e3,0)))}),cc.fadeOut(.01),cc.callFunc(function(){t.toggleTopBottomBar(.01)}),cc.delayTime(.01),cc.callFunc(function(){t.hideBg(.01)}),cc.delayTime(.01),cc.callFunc(function(){t.currentSlot=null,window.MultiScene.loadContent()})))},e.prototype.deleteSlot=function(){var t=this;this.ScenesManager=this.ScenesManager.filter(function(e){return e.uuid!=t.currentSlot.uuid}),this.currentSlot.SlotNode.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){t.toggleTopBottomBar()}),cc.delayTime(.5),cc.callFunc(function(){t.hideBg()}),cc.delayTime(.75),cc.callFunc(function(){r.default.hideNode(t.node),t.currentSlot.SlotNode.destroy(),t.currentSlot=null,window.MultiScene.loadContent()})))},e.prototype.resumeGame=function(){var t=this.currentSlot.SlotNode;t.parent=this.node,t.active=!0,t.opacity=0,t.runAction(cc.fadeIn(.5)),window.MultiScene.loadContent()},e.prototype.instantiateSlot=function(t){var e=this;return new Promise(function(n,o){var i="5_Games/"+t+"_Slot"+t+"/Slot"+t;cc.loader.loadRes(i,function(i,s){if(i&&o(i),null!=s.name){var a=cc.instantiate(s),c={id:t,uuid:r.default.generateUUID(),SlotNode:a,SlotController:a.getComponent("SlotController")};a.opacity=0,a.parent=e.center,e.ScenesManager.push(c),e.currentSlot=c,c.SlotController.getData().then(n).catch(o)}})})},e.prototype.loadBgSlot=function(t){var e=this;return new Promise(function(n,r){e.bigBg.node.active=!1,e.bigBg.node.y=-e.bigBg.node.height;var o="4_gameScene/"+t+"_Slot"+t+"/img/bg-big";cc.loader.loadRes(o,function(t,r){0!=r.length&&(e.bigBg.node.active=!0,e.bigBg.spriteFrame=new cc.SpriteFrame(r),n())})})},e.prototype.toggleTopBottomBar=function(t){void 0===t&&(t=.5),this._topBarController.toggleBar(t),this._bottomBarController.toggleBar(t)},e.prototype.hideBg=function(t){void 0===t&&(t=.5),this.bigBg.node.runAction(cc.moveBy(t,cc.v2(0,-this.node.height)).easing(cc.easeSineIn()))},e.prototype.clickSpin=function(){this.currentSlot.SlotController.clickSpin()},e.prototype.slotWatch=function(t){var e=this.ScenesManager.find(function(e){return e.SlotController.gameId==t.smid});e&&e.SlotController.watchEvent(t)},__decorate([s(cc.Node)],e.prototype,"top",void 0),__decorate([s(cc.Node)],e.prototype,"bottom",void 0),__decorate([s(cc.Node)],e.prototype,"center",void 0),__decorate([s(cc.Sprite)],e.prototype,"bigBg",void 0),e=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{"../lib/Util":"Util"}],HomeScene:[function(t,e,n){"use strict";cc._RF.push(e,"6ff7cpxeexOW4heej6ansRg","HomeScene"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../lib/Util"),o=cc._decorator,i=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listGameView=null,e.listItemGame=[],e.itemGame=null,e.animationclip=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.initialize()},e.prototype.initialize=function(){var t=this;window.HomeScene=this,this._userInfoController=this.node.getComponentInChildren("UserInfoController"),this.listItemGame.forEach(function(e,n){var r=cc.instantiate(t.itemGame);r.parent=t.listGameView,r.active=!0,r.getComponent("ItemGame").setData(++n,e)})},e.prototype.updateCoinBalance=function(t){this._userInfoController.coinLabel.string=r.default.formatMoney(t.coin)},e.prototype.gotoStartScene=function(){cc.director.loadScene("LoginScene")},e.prototype.openSlot=function(t){return __awaiter(this,void 0,void 0,function(){var e,n,r;return __generator(this,function(o){return e=t.target.getComponent("ItemGame"),n=e.id,r=e.smid,window.GameController.openSlot(n,r),e.checkRes(),[2]})})},__decorate([s(cc.Node)],e.prototype,"listGameView",void 0),__decorate([s([cc.SpriteFrame])],e.prototype,"listItemGame",void 0),__decorate([s(cc.Node)],e.prototype,"itemGame",void 0),__decorate([s(cc.AnimationClip)],e.prototype,"animationclip",void 0),e=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{"../lib/Util":"Util"}],ImageScaleResolution:[function(t,e,n){"use strict";cc._RF.push(e,"473a2Shyi9HF41rOaPbPjcy","ImageScaleResolution"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.init()},init:function(){var t=cc.view.getFrameSize(),e=t.width/t.height,n=this.node.width/this.node.height,r=this.node.width*t.height/(this.node.height*t.width);e<n?(this.node.width*=r,this.node.scaleY*=r):(this.node.width/=r,this.node.scaleY/=r)}}),cc._RF.pop()},{}],ItemGame:[function(t,e,n){"use strict";cc._RF.push(e,"5bbeb6hzUpObodJ2mdI9+U3","ItemGame"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Slots/SlotsDownloadCtr"),o=t("../GameConfig"),i=cc._decorator,s=i.ccclass,a=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id=0,e.smid="",e}return __extends(e,t),e.prototype.setData=function(t,e){this.id=t,this.node.getComponent(cc.Sprite).spriteFrame=e,this.smid=o.default.SMID[t]||"",(new r.default).getUrls(1)},e.prototype.setComponentResCtr=function(){var t=this,e="5_Games/"+this.id+"_Slot"+this.id+"/Slot"+this.id+"ResCtr";cc.loader.loadRes(e,cc.Prefab,function(e,n){e||(t.node.addComponent(n.getComponent("")),t.resCtr=n)})},e.prototype.checkRes=function(){},e=__decorate([s],e)}(cc.Component));n.default=a,cc._RF.pop()},{"../GameConfig":"GameConfig","../Slots/SlotsDownloadCtr":"SlotsDownloadCtr"}],Item:[function(t,e,n){"use strict";cc._RF.push(e,"693baJDbAJFE4FJLNuwUi2N","Item"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=r.ccclass,i=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e.spritesFrame=null,e.skeletonData=null,e}return __extends(e,t),e.prototype.setInfo=function(t,e){this.id=t,this.spritesFrame=e},__decorate([i(cc.String)],e.prototype,"id",void 0),__decorate([i(cc.SpriteFrame)],e.prototype,"spritesFrame",void 0),__decorate([i(sp.SkeletonData)],e.prototype,"skeletonData",void 0),e=__decorate([o],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],LinesController:[function(t,e,n){"use strict";cc._RF.push(e,"ddc65mv5XtJr6Rcm5HohZzJ","LinesController"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../GameConfig"),o=t("../../scripts/lib/Util"),i=cc._decorator,s=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tableView=null,e.lineAnimate=null,e.lineSprite=null,e.lineItem=null,e.totalLines=20,e.lineNode=[],e}return __extends(e,t),e.prototype.onLoad=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.loadRes()];case 1:return t.sent(),this.initialize(),this.initState(),this.initPosition(),this.initAnimation(),[2]}})})},e.prototype.loadRes=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,Promise.all([o.default.loadRes("0_animation/Slots/LineAni",cc.AnimationClip),o.default.loadRes("0_textures/Slots/Linepay",cc.SpriteFrame)])];case 1:return t=e.sent(),this.lineAnimate=t[0],this.lineSprite=t[1],[2]}})})},e.prototype.initState=function(){this._slotController=this.node.parent.getComponent("SlotController")},e.prototype.initialize=function(){this.lineItem=new cc.Node("Linepay"),this.lineItem.addComponent(cc.Sprite).spriteFrame=this.lineSprite,this.lineItem.anchorX=.015,this.lineItem.anchorY=.5},e.prototype.initPosition=function(){this.node.parent=this.tableView,this.node.anchorX=0,this.node.anchorY=0,this.node.width=this.tableView.width,this.node.height=this.tableView.height,this.node.x=0,this.node.y=0,this.node.zIndex=1},e.prototype.initAnimation=function(){this.node.addComponent(cc.Animation),this.animation=this.node.getComponent(cc.Animation),this.animation.addClip(this.lineAnimate),this.totalLines=20,this.lineItem.height=11,this.lineItem.anchorX=.015,this.lineItem.anchorY=.5},e.prototype.showAllLines=function(t,e){var n=this;return void 0===e&&(e=20),this.node.active=!0,e&&(this.totalLines=e),o.default.showNode(this.node,1),t.forEach(function(t){n.getLine(t)}),this.animation.play("LineAni"),new Promise(function(t,e){setTimeout(function(){n.stopShowLines(),t()},1200)})},e.prototype.showLine=function(t){var e=this;return this.node.active=!0,o.default.showNode(this.node,1),this.getLine(t),this.animation.play("LineAni"),new Promise(function(t,n){setTimeout(function(){e.stopShowLines(),t()},1400)})},e.prototype.stopShowLines=function(){this.animation.stop(),this.lineNode.forEach(function(t){t.active=!1,cc.isValid(t)&&t.destroy()}),this.node.active=!1},e.prototype.refreshShowLines=function(){this.animation.stop(),o.default.hideNode(this.node),this.lineNode&&this.lineNode.forEach(function(t){cc.isValid(t)&&t.destroy()}),this.lineNode=[]},e.prototype.getLine=function(t){var e=r.default.PAY_LINES[this.totalLines][t],n=this._slotController,o=n.distanceItemX,i=n.distanceItemY,s=e.reduce(function(t,e,n){return t.push({x:(n+.5)*o,y:(3-(e+.5))*i}),t},[]);s=[{x:0,y:s[0].y}].concat(s,[{x:s[s.length-1].x+o/2,y:s[s.length-1].y}]);var a=this.getColorLine(t),c=new cc.Node("TotalLineNode");c.parent=this.node,this.lineNode.push(c);for(var u=0;u<s.length-1;u++){var l=cc.instantiate(this.lineItem),h=4+Math.sqrt(Math.pow(s[u].x-s[u+1].x,2)+Math.pow(s[u].y-s[u+1].y,2)),f=180+180*Math.atan2(s[u].y-s[u+1].y,s[u].x-s[u+1].x)/Math.PI;l.parent=c,l.active=!0,l.width=h,l.angle=f,l.color=a,l.setPosition(s[u])}},e.prototype.getColorLine=function(t){var e,n=r.default.LINE_COLORS;return t%=n.length,new((e=cc.Color).bind.apply(e,[void 0].concat(n[t])))},__decorate([a(cc.Node)],e.prototype,"tableView",void 0),e=__decorate([s],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../../scripts/lib/Util":"Util","../GameConfig":"GameConfig"}],LocalScaleResolution:[function(t,e,n){"use strict";cc._RF.push(e,"0535a6ZSb5HuLSjxeJVwBNF","LocalScaleResolution");var r=-1,o=-1,i=-1;cc.myDesignResolution={width:960,height:640},cc.Class({extends:cc.Component,properties:{fitHeight:{default:!1},fitWidth:{default:!1},listOfRatios:{default:[],type:["Float"]},listOfScales:{default:[],type:["Float"]},designResolutionWidth:{default:-1},designResolutionHeight:{default:-1},keepSizeRatio:{default:!1},localizedSize:{default:!1}},onLoad:function(){this.forceLocalize()},forceLocalize:function(){if(!this.localizedScale){if(this.localizedScale=!0,-1==o){var t=cc.view.getFrameSize();o=t.width/t.height}if(-1==this.designResolutionWidth){var e=cc.myDesignResolution;i=e.width/e.height}else i=this.designResolutionWidth/this.designResolutionHeight;r=o<i?this.fitWidth?this.keepSizeRatio?i/o:1:o/i:this.fitHeight?this.keepSizeRatio?o/i:1:i/o;if(this.listOfRatios.length>0)for(var n=0;n<this.listOfRatios.length;n++)if(o-this.listOfRatios[n]>-.001){if(-1==this.listOfScales[n])break;if(-2==this.listOfScales[n])return;return void(this.node.scaleX=this.node.scaleY=this.listOfScales[n])}this.localizedSize?(this.node.width*=r,this.node.height*=r):(this.node.scaleX*=r,this.node.scaleY*=r)}}}),cc._RF.pop()},{}],MinigameController5:[function(t,e,n){"use strict";cc._RF.push(e,"1958fQ+oxFFpqrhzE+2a3xA","MinigameController5"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../../scripts/lib/Util"),o=t("./ResourceMiniGame5"),i=t("../../../../scripts/Components/CoinLabel"),s=t("../../../../scripts/Api"),a=t("../../../../scripts/Concos"),c=cc._decorator,u=c.ccclass,l=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.itemsContainer=null,e.scoreLabel=null,e.rightBox=null,e.coinResultLabel=null,e.selectTable=null,e.mainGame=null,e.gameResult=null,e.coinController=null,e.coinResultController=null,e.playArray=[],e.baseScore=0,e.listItem=[],e._isLock=!1,e.score=0,e._time=0,e._trappedTime=0,e._resourceController=new o.default,e}return __extends(e,t),e.prototype.startMiniGame=function(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return window.game=this,this.playArray=t,this.baseScore=e,this.node.children.forEach(function(t){return t.active=!1}),this.selectTable=cc.find("select-table",this.node),this.mainGame=cc.find("main-game",this.node),this.gameResult=cc.find("result-table",this.node),this.coinController=new i.default(this.scoreLabel),this.coinController.updateUserBalance(this.score),this.coinResultController=new i.default(this.coinResultLabel),this.coinResultController.updateUserBalance(this.score),this.listItem=this.itemsContainer.children,[4,this.loadResource()];case 1:return n.sent(),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=Date.now(),[4,this._resourceController.loadAllRes()];case 1:return e.sent(),cc.log("load done in:",Date.now()-t),this.selectTable.active=!0,[2]}})})},e.prototype.selectMiniGame=function(){var t=this;this.mainGame.active=!0,this.mainGame.opacity=0,this.mainGame.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(function(){t.selectTable.active=!1}))),this.loadMainGame()},e.prototype.loadMainGame=function(){var t=this;this.listItem.forEach(function(e,n){e.opacity=0,e.children[0].addComponent(cc.Sprite).spriteFrame=t._resourceController.loadRes(t._resourceController.listResourceName.items[n+1].normal),e.children[0].on(cc.Node.EventType.TOUCH_END,function(e){t.selectItem(e.currentTarget)}),setTimeout(function(){e.runAction(cc.fadeIn(.5))},1e3*Math.random()+500)}),this.fireNormalSpriteFrame=this._resourceController.loadRes(this._resourceController.listResourceName.fail.normal),this.fireAcitveSpriteFrame=this._resourceController.loadRes(this._resourceController.listResourceName.fail.active),this.updateTrap()},e.prototype.selectItem=function(t){return __awaiter(this,void 0,void 0,function(){var e,n=this;return __generator(this,function(o){switch(o.label){case 0:return this._isLock?[2]:(this._isLock=!0,e=this.playArray[this._time],cc.log(e),0!=e?[3,4]:(this._trappedTime++,this.updateTrap(),[4,this.itemAction(t,new cc.Color(255,0,0,255),0)]));case 1:return o.sent(),this._trappedTime>=2?[4,r.default.delay(1e3)]:[3,3];case 2:o.sent(),this.showEndGame(),o.label=3;case 3:return[3,6];case 4:return this.score+=e*this.baseScore,setTimeout(function(){n.scoreLabel.node.runAction(cc.sequence([cc.scaleTo(.2,1.2),cc.scaleTo(.2,1)])),n.coinController.updateUserBalance(n.score)},300),this.itemAction(t,new cc.Color(255,255,0,255),e*this.baseScore),[4,r.default.delay(100)];case 5:o.sent(),o.label=6;case 6:return this._time++,this._isLock=!1,[2]}})})},e.prototype.itemAction=function(t,e,n){var o=t.name,i=Number(o.slice(-2)).toString(),s=cc.instantiate(t),a=s.getComponent(cc.Sprite),c=t.parent.children[1],u=c.getComponent(cc.Label);if(t.runAction(cc.sequence([cc.delayTime(.2),cc.fadeOut(1),cc.callFunc(function(){t.destroy()})])),s.parent=t.parent,a.spriteFrame=this._resourceController.loadRes(this._resourceController.listResourceName.items[i].white),s.color=e,s.opacity=0,s.runAction(cc.sequence([cc.fadeTo(.4,150),cc.fadeOut(1),cc.callFunc(function(){s.destroy()})])),n)c.active=!0,c.opacity=0,c.setPosition(cc.v2(t.x,t.y)),u.fontSize=50,u.lineHeight=60,u.string=r.default.formatMoney(n),c.runAction(cc.sequence([cc.delayTime(.4),cc.moveBy(1,cc.v2(1,45))])),c.runAction(cc.sequence([cc.delayTime(.2),cc.fadeIn(.3),cc.delayTime(.5),cc.fadeOut(.5),cc.callFunc(function(){c.destroy()})]));else{var l=new cc.Node;l.addComponent(cc.Sprite).spriteFrame=this.fireAcitveSpriteFrame,l.parent=t.parent,l.color=new cc.Color(255,255,255,255),l.setPosition(cc.v2(t.x,t.y)),l.runAction(cc.sequence([cc.delayTime(.3),cc.moveBy(1,cc.v2(1,45))])),l.runAction(cc.sequence([cc.delayTime(.2),cc.fadeIn(.3),cc.delayTime(.5),cc.fadeOut(.5),cc.callFunc(function(){c.destroy()})]))}},e.prototype.updateTrap=function(){var t=this.rightBox.children[1].getComponent(cc.Sprite),e=this.rightBox.children[2].getComponent(cc.Sprite);switch(this._trappedTime){case 1:t.spriteFrame=this.fireAcitveSpriteFrame,setTimeout(function(){t.node.children[0].active=!0},200);break;case 2:e.spriteFrame=this.fireAcitveSpriteFrame,setTimeout(function(){e.node.children[0].active=!0},200);break;default:t.spriteFrame=this.fireNormalSpriteFrame,e.spriteFrame=this.fireNormalSpriteFrame,t.node.children[0].active=!1,e.node.children[0].active=!1}},e.prototype.showEndGame=function(){var t=this;this.gameResult.active=!0,this.gameResult.opacity=0,this.gameResult.runAction(cc.sequence([cc.fadeIn(.5),cc.callFunc(function(){t.coinResultController.updateUserBalance(t.score),s.default.sendGD({e:"slotgetbonus",gtype:"sm2001"},function(t,e){cc.log(e)})})]))},e.prototype.backToSlot=function(){var t=this;this.node.runAction(cc.sequence([cc.fadeOut(.5),cc.callFunc(function(){a.default.emit(a.Event.UPDATE_USER_BALANCE,window.GameController.userBalance,0),t.node.destroy()})]))},e.prototype.update=function(t){this.coinController._updateUserBalance(t),this.coinResultController._updateUserBalance(t)},__decorate([l(cc.Node)],e.prototype,"itemsContainer",void 0),__decorate([l(cc.Label)],e.prototype,"scoreLabel",void 0),__decorate([l(cc.Node)],e.prototype,"rightBox",void 0),__decorate([l(cc.Label)],e.prototype,"coinResultLabel",void 0),e=__decorate([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../../scripts/Api":"Api","../../../../scripts/Components/CoinLabel":"CoinLabel","../../../../scripts/Concos":"Concos","../../../../scripts/lib/Util":"Util","./ResourceMiniGame5":"ResourceMiniGame5"}],MultiScene:[function(t,e,n){"use strict";cc._RF.push(e,"71368zSgR5C6Z9YinXw0fTN","MultiScene"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=r.ccclass,i=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.sceneButton=null,e._expandBtn=null,e._listView=null,e.isShow=!1,e}return __extends(e,t),e.prototype.onLoad=function(){this.initialize()},e.prototype.initialize=function(){window.MultiScene=this,this._expandBtn=this.node.getChildByName("ExpandBtn"),this._listView=this.node.getChildByName("ListView"),this._expandBtn.on("mousedown",this.toggleButton.bind(this))},e.prototype.loadContent=function(){var t=this,e=window.GameScene.ScenesManager;this.content.removeAllChildren(),this.listScene=[],e.forEach(function(e){var n=cc.instantiate(t.sceneButton);n.parent=t.content,n.active=!0;var r={uuid:e.uuid,id:e.id,button:n};t.listScene.push(r)}),this.addEventButton()},e.prototype.toggleButton=function(){this.node.runAction(cc.moveBy(.3,cc.v2(this._listView.width*(this.isShow?1:-1),0))),this.isShow=!this.isShow},e.prototype.addEventButton=function(){this.listScene.forEach(function(t){t.button.on("click",function(){window.GameScene.currentSlot?window.GameScene.currentSlot.uuid!=t.uuid?window.GameScene.switchSlot(t.uuid,t.id):cc.log("You currently on this game"):window.GameScene.resumeSlot(t.uuid,t.id)})})},__decorate([i(cc.Node)],e.prototype,"content",void 0),__decorate([i(cc.Node)],e.prototype,"sceneButton",void 0),e=__decorate([o],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],NotiDialog:[function(t,e,n){"use strict";cc._RF.push(e,"d5674CFpuJPRrIlw3pTQgf1","NotiDialog"),cc.Class({extends:cc.Component,properties:{},start:function(){},closeDialog:function(){}}),cc._RF.pop()},{}],ResourceController5:[function(t,e,n){"use strict";cc._RF.push(e,"0cc3c7p7CpEm43DoqhIpGsS","ResourceController5"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../scripts/Slots/ResourceController"),o=cc._decorator,i=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list={item:{b:"img/item/item-bonus-gem",s:"img/item/item-scatter-gem",w:"img/item/item-wild-gem",0:"img/item/gem-item-ingame-1",1:"img/item/gem-item-ingame-2",2:"img/item/gem-item-ingame-3",3:"img/item/gem-item-ingame-4",4:"img/item/gem-item-ingame-5",5:"img/item/gem-item-ingame-6",6:"img/item/gem-item-ingame-7",7:"img/item/gem-item-ingame-8",8:"img/item/gem-item-ingame-9"},itemBorder:{b:"img/item/bg-bonus-gem",s:"img/item/bg-scatter-gem",w:"img/item/bg-wild-gem"}},e.resPathTotal="4_gameScene/5_Slot5/img",e}return __extends(e,t),e.prototype.getListItemBorder=function(){var t=this;return Object.keys(this.list.itemBorder).reduce(function(e,n){return e.concat([{id:n,img:t.listResImage.find(function(e){return e.name==t.list.itemBorder[n].split("/").pop()})}])},[])},e=__decorate([i],e)}(r.default));n.default=s,cc._RF.pop()},{"../../../scripts/Slots/ResourceController":"ResourceController"}],ResourceController:[function(t,e,n){"use strict";cc._RF.push(e,"8344bl+dlVHd4RXGWkNuWkQ","ResourceController"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=r.ccclass,i=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list={item:{}},e.listResImage=[],e}return __extends(e,t),e.prototype.loadRes=function(t){return this.listResImage.find(function(e){return e.name==t})},e.prototype.loadAllRes=function(){var t=this;return new Promise(function(e,n){cc.loader.loadResDir(t.resPathTotal,cc.SpriteFrame,function(r,o){if(r)return n(r);t.listResImage=o,e(o)})})},e.prototype.getBgTable=function(){return this.loadRes("bg-ingame-egypt")},e.prototype.getlistImgItem=function(){var t=this;return Object.keys(this.list.item).reduce(function(e,n){return e.concat([{id:n,img:t.listResImage.find(function(e){return e.name==t.list.item[n].split("/").pop()})}])},[])},e=__decorate([o],e)}(cc.Component));n.default=i,cc._RF.pop()},{}],ResourceMiniGame5:[function(t,e,n){"use strict";cc._RF.push(e,"db42duYvd5AmaX9huAw3pKj","ResourceMiniGame5"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this.resPathTotal="4_gameScene/5_Slot5/minigame",this.listResImage=[],this.listResourceName={items:{1:{normal:"gem_minigame_bonus_item_01",white:"gem_minigame_bonus_item_white_01"},2:{normal:"gem_minigame_bonus_item_02",white:"gem_minigame_bonus_item_white_02"},3:{normal:"gem_minigame_bonus_item_03",white:"gem_minigame_bonus_item_white_03"},4:{normal:"gem_minigame_bonus_item_04",white:"gem_minigame_bonus_item_white_04"},5:{normal:"gem_minigame_bonus_item_05",white:"gem_minigame_bonus_item_white_05"},6:{normal:"gem_minigame_bonus_item_06",white:"gem_minigame_bonus_item_white_06"},7:{normal:"gem_minigame_bonus_item_07",white:"gem_minigame_bonus_item_white_07"},8:{normal:"gem_minigame_bonus_item_08",white:"gem_minigame_bonus_item_white_08"},9:{normal:"gem_minigame_bonus_item_09",white:"gem_minigame_bonus_item_white_09"},10:{normal:"gem_minigame_bonus_item_10",white:"gem_minigame_bonus_item_white_10"},11:{normal:"gem_minigame_bonus_item_11",white:"gem_minigame_bonus_item_white_11"},12:{normal:"gem_minigame_bonus_item_12",white:"gem_minigame_bonus_item_white_12"},13:{normal:"gem_minigame_bonus_item_13",white:"gem_minigame_bonus_item_white_13"},14:{normal:"gem_minigame_bonus_item_14",white:"gem_minigame_bonus_item_white_14"},15:{normal:"gem_minigame_bonus_item_15",white:"gem_minigame_bonus_item_white_15"}},fail:{active:"gem_minigame_bonus_item_fail_01",normal:"gem_minigame_bonus_item_fail_02"},labelFrame:"gem_minigame_bonus_item_total",selectTable:{1:"gem-minigame-select-bonus-1",2:"gem-minigame-select-bonus-2"}}}return t.prototype.loadRes=function(t){return this.listResImage.find(function(e){return e.name==t})},t.prototype.loadAllRes=function(){var t=this;return new Promise(function(e,n){cc.loader.loadResDir(t.resPathTotal,cc.SpriteFrame,function(r,o){if(r)return n(r);t.listResImage=o,e(o)})})},t}();n.default=r,cc._RF.pop()},{}],Slot1Ctr:[function(t,e,n){"use strict";cc._RF.push(e,"0a173IQnrZAgLibwPTvUO3q","Slot1Ctr"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Slot1ResCtr"),o=t("../../../scripts/Slots/SlotController"),i=cc._decorator,s=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgTable=null,e.numberLine=null,e.resourceController=new r.default,e}return __extends(e,t),e.prototype.clearAllImage=function(){this.bgTable.spriteFrame=null,this.numberLine.spriteFrame=null},e.prototype.getAnimationController=function(){this.animationController=this.node.getComponent("AnimationController")},__decorate([a(cc.Sprite)],e.prototype,"bgTable",void 0),__decorate([a(cc.Sprite)],e.prototype,"numberLine",void 0),e=__decorate([s],e)}(o.default);n.default=c,cc._RF.pop()},{"../../../scripts/Slots/SlotController":"SlotController","./Slot1ResCtr":"Slot1ResCtr"}],Slot1ResCtr:[function(t,e,n){"use strict";cc._RF.push(e,"ccd21d0I/FHWbNRD2GcSIuP","Slot1ResCtr"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../scripts/Slots/ResourceController"),o=cc._decorator,i=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list={item:{b:"img/item/item-egypt-1",s:"img/item/item-egypt-2",w:"img/item/item-egypt-3",1:"img/item/item-egypt-4",2:"img/item/item-egypt-5",3:"img/item/item-egypt-6",4:"img/item/item-egypt-7",5:"img/item/item-egypt-8",6:"img/item/item-egypt-9",7:"img/item/item-egypt-10",8:"img/item/item-egypt-11",9:"img/item/item-egypt-12",0:"img/item/item-egypt-13",10:"img/item/item-egypt-14"},img:["img/bg-ingame-egypt","img/number-line-game-egypt"]},e.resPathTotal="4_gameScene/1_Slot1/img",e.listResImage=[],e}return __extends(e,t),e.prototype.getBgTable=function(){return this.loadRes("bg-ingame-egypt")},e.prototype.getnumberLine=function(){return this.loadRes("number-line-game-egypt")},e=__decorate([i],e)}(r.default));n.default=s,cc._RF.pop()},{"../../../scripts/Slots/ResourceController":"ResourceController"}],Slot1:[function(t,e,n){"use strict";cc._RF.push(e,"afe61SPob5ONppZNcm6V2XY","Slot1"),cc._RF.pop()},{}],Slot4Ctr:[function(t,e,n){"use strict";cc._RF.push(e,"7a7534/6fZKq6oRk2EwSkCp","Slot4Ctr"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Slot4ResCtr"),o=t("../../../scripts/Slots/SlotController"),i=cc._decorator,s=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resourceController=new r.default,e._listItemSelectData=[],e._listItemSelectImg=[],e.tableSelect=null,e.itemSelect=null,e}return __extends(e,t),e.prototype.onLoad=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return t.prototype.onLoad.call(this),[2]})})},e.prototype.loadBorderRes=function(){var t=this;this.resourceController.getListItemBorder().forEach(function(e){var n={id:e.id,img:e.img};t._listBoderImg.push(n)})},e.prototype.getAnimationController=function(){this.animationController=this.node.getComponent("AnimationController5")},__decorate([a(cc.Node)],e.prototype,"tableSelect",void 0),__decorate([a(cc.Node)],e.prototype,"itemSelect",void 0),e=__decorate([s],e)}(o.default);n.default=c,cc._RF.pop()},{"../../../scripts/Slots/SlotController":"SlotController","./Slot4ResCtr":"Slot4ResCtr"}],Slot4ResCtr:[function(t,e,n){"use strict";cc._RF.push(e,"c35c9qovltLIZDUmx3E5FtT","Slot4ResCtr"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../scripts/Slots/ResourceController"),o=cc._decorator,i=o.ccclass,s=(o.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list={item:{s:"img/item/item-casino-scatter",w:"img/item/item-casino-wild",0:"img/item/item-casino-1",1:"img/item/item-casino-2",2:"img/item/item-casino-3",3:"img/item/item-casino-4",4:"img/item/item-casino-5",5:"img/item/item-casino-6",11:"img/item/item-casino-7",12:"img/item/item-casino-8",13:"img/item/item-casino-9",14:"img/item/item-casino-10",15:"img/item/item-casino-11",22:"img/item/item-casino-8-gold",23:"img/item/item-casino-9-gold",24:"img/item/item-casino-10-gold",25:"img/item/item-casino-11-gold"},img:["img/bg-game-slot"],itemBorder:{12:"img/border/bg-item-casino-8",13:"img/border/bg-item-casino-9",14:"img/border/bg-item-casino-10",15:"img/border/bg-item-casino-11",22:"img/border/bg-item-casino-8",23:"img/border/bg-item-casino-9",24:"img/border/bg-item-casino-10",25:"img/border/bg-item-casino-11",w:"img/border/bg-item-casino-wild",s:"img/border/bg-item-casino-scatter"},itemBet:{0:"img/ItemBet/select-bet-play-1",1:"img/ItemBet/select-bet-play-2",2:"img/ItemBet/select-bet-play-3",3:"img/ItemBet/select-bet-play-4",4:"img/ItemBet/select-bet-play-5"},itemBorderBet:{0:"img/ItemBet/borderBet"},itemGold:{11:"img/item/item-casino-7",22:"img/item/item-casino-8-gold",23:"img/item/item-casino-9-gold",24:"img/item/item-casino-10-gold",25:"img/item/item-casino-11-gold"}},e.resPathTotal="4_gameScene/4_Slot4/img",e}return __extends(e,t),e.prototype.getListItemBorder=function(){var t=this,e=Object.keys(this.list.itemBorder);return e=e.reduce(function(e,n){return e.concat([{id:n,img:t.listResImage.find(function(e){return e.name==t.list.itemBorder[n].split("/").pop()})}])},[])},e.prototype.getlistItemGold=function(){var t=this;return Object.keys(this.list.itemGold).reduce(function(e,n){return e.concat([{id:n,img:t.listResImage.find(function(e){return e.name==t.list.itemGold[n].split("/").pop()})}])},[])},e=__decorate([i],e)}(r.default));n.default=s,cc._RF.pop()},{"../../../scripts/Slots/ResourceController":"ResourceController"}],SlotController5:[function(t,e,n){"use strict";cc._RF.push(e,"eaf93LzNJxMZpSfPcUbAmxZ","SlotController5"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=r.ccclass,i=(r.property,t("../../../scripts/Slots/SlotController")),s=t("./ResourceController5"),a=t("../../../scripts/lib/Util"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resourceController=new s.default,e.bonusWin=0,e}return __extends(e,t),e.prototype.startSlot=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return window.GameController.showModel(),t.prototype.startSlot.call(this),this.dataStatus.bonus>0?[4,a.default.delay(500)]:[3,3];case 1:return e.sent(),cc.log("start load bonus"),[4,this.playBonus(this.dataStatus.bonusArr,this.dataStatus.lastBet)];case 2:e.sent(),e.label=3;case 3:return window.GameController.hideModel(),[2]}})})},e.prototype.loadBorderRes=function(){var t=this;this.resourceController.getListItemBorder().forEach(function(e){var n={id:e.id,img:e.img};t._listBoderImg.push(n)})},e.prototype.timeManager=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this.isReFresh||(this.animationController.refreshSlotAnimation(),this.isReFresh=!0),this.animationController.spinItems(this._listItem),this.freeSpin>0?(this.freeSpin--,this._topBarController.updateFreeSpin(this.freeSpin),this._topBarController.showFreeSpin()):this._topBarController.hideFreeSpin(),[4,a.default.delay(3e3)];case 1:return e.sent(),this.isReceivedData?(t=this.dataSpin,this.animationController.setAnimationData(t),t.score.sum[1].c>0?(this.animationController.showWinAmount(),[4,this.animationController.showAllLines()]):[3,3]):[3,18];case 2:return e.sent(),[3,5];case 3:return window.GameScene._bottomBarController.resetWinAmount(),[4,a.default.delay(500)];case 4:e.sent(),e.label=5;case 5:return t.score.sum[2].w>0?(cc.log("You get a bonus"),this.isSpin=!1,this.isReFresh=!1,window.GameController.showModel(),[4,this.playBonus(t.score.sum[2].arr,t.totalber)]):[3,7];case 6:return e.sent(),window.GameController.hideModel(),[2];case 7:return t.freeSpin.c>0?(t.score.sum[3].c>0&&cc.log("You get "+t.score.sum[3].c+" free spins"),this._topBarController.updateFreeSpin(t.freeSpin.c),this._topBarController._isShowFreeSpin?[3,9]:(this._topBarController.showFreeSpin(),this.freeSpin=t.freeSpin.c,[4,a.default.delay(200)])):[3,10];case 8:e.sent(),e.label=9;case 9:return[3,11];case 10:this._topBarController._isShowFreeSpin&&this._topBarController.hideFreeSpin(),e.label=11;case 11:return this.isSpin=!1,this.isReFresh=!1,this.isAutoSpin?(this.autoSpinTimes--,this.autoSpinTimes>=0?[4,a.default.delay(300)]:[3,13]):[3,13];case 12:e.sent(),this.autoSpin(this.autoSpinTimes),e.label=13;case 13:if(!(this.dataSpin.score.sum[1].c>0))return[3,17];e.label=14;case 14:return this.isSpin?[3,17]:[4,this.animationController.showEachLine()];case 15:return e.sent(),[4,this.animationController.showAllLines(2)];case 16:return e.sent(),[3,14];case 17:return[3,18];case 18:return[2]}})})},e.prototype.playBonus=function(t,e){return __awaiter(this,void 0,void 0,function(){var n,r,o;return __generator(this,function(i){switch(i.label){case 0:return n=cc.find("Canvas"),r=cc.instantiate(this.miniGamePrefab),o=r.getComponent("MinigameController5"),r.opacity=0,r.parent=n,[4,o.startMiniGame(t,e)];case 1:return i.sent(),r.runAction(cc.fadeIn(.5)),[2]}})})},e=__decorate([o],e)}(i.default);n.default=c,cc._RF.pop()},{"../../../scripts/Slots/SlotController":"SlotController","../../../scripts/lib/Util":"Util","./ResourceController5":"ResourceController5"}],SlotController:[function(t,e,n){"use strict";cc._RF.push(e,"8694fkUlCRAJJzy6KdYvvZS","SlotController"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Item"),o=t("../lib/Util"),i=t("../Api"),s=t("../GameConfig"),a=cc._decorator,c=a.ccclass,u=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameId="",e.gameSizeType=1,e.tableView=null,e.itemSlot=null,e.miniGamePrefab=null,e._listItemData=[],e._listBoderImg=[],e._listItem=[],e.betArray=[],e.lastWin=0,e.isAutoSpin=!1,e.autoSpinTimes=0,e.dataStatus=null,e.isSpin=!1,e.isReceivedData=!1,e.isReFresh=!1,e.dataSpin=null,e.freeSpin=0,e._topBarController=null,e._bottomBarController=null,e}return __extends(e,t),e.prototype.getData=function(){var t=this;return new Promise(function(e,n){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Promise.all([this.resourceController.loadAllRes(),this.getStatusGame()])];case 1:return r.sent(),this.importData(),this.loadItemRes(),this.loadBorderRes(),window.GameController.hideModel(),e(),[3,3];case 2:return t=r.sent(),n(t),[3,3];case 3:return[2]}})})})},e.prototype.startSlot=function(){this.initState(),this.initializeItem(),this.sortListItem(),this.getAnimationController(),this.checkFreeSpin()},e.prototype.getStatusGame=function(t){var e=this;return new Promise(function(n,r){i.default.sendGD({e:s.default.EVENT.SMINFO,gtype:t||e.gameId},function(t,o){t&&r(t),cc.log(o),e.dataStatus=o,n(o)})})},e.prototype.importData=function(){this.betArray=this.dataStatus.betArr,this.currentBet=this.dataStatus.lastBet,window.GameScene._bottomBarController.updateInfo()},e.prototype.getAnimationController=function(){this.animationController=this.node.getComponent("AnimationController")},e.prototype.loadItemRes=function(){var t=this;this.resourceController.getlistImgItem().forEach(function(e){var n=new r.default;n.setInfo(e.id,e.img),t._listItemData.push(n)})},e.prototype.loadBorderRes=function(){},e.prototype.loadItemSelectRes=function(){},e.prototype.initState=function(){this._topBarController=window.GameScene._topBarController,this._bottomBarController=window.GameScene._bottomBarController},e.prototype.initializeItem=function(){this.gameSize=s.default.GAME_SIZE[this.gameSizeType],this.maxCol=this.gameSize.length,this.maxRow=Math.max.apply(Math,this.gameSize);for(var t=0;t<this.gameSize.length;t++)for(var e=0;e<this.gameSize[t]+1;e++){var n=this.getRandomItem();this.instantiateSlotsItem(n,t,e)}},e.prototype.getRandomItem=function(){return this._listItemData[Math.floor(Math.random()*this._listItemData.length)]},e.prototype.instantiateSlotsItem=function(t,e,n){this.distanceItemX=this.tableView.width/this.maxCol,this.distanceItemY=this.tableView.height/this.maxRow;var r=cc.instantiate(this.itemSlot);r.parent=this.tableView,r.setPosition((e+.5)*this.distanceItemX,(n+.5)*this.distanceItemY);var o=r.getComponent("SlotsItem");o.setItemInfo(t,e,n),o.slotsController=this,r.active=!0,this._listItem.push(o)},e.prototype.checkFreeSpin=function(){this.dataStatus.freeSpin.c>0&&(this.freeSpin=this.dataStatus.freeSpin.c,this._topBarController.updateFreeSpin(this.freeSpin),this._topBarController.showFreeSpin())},e.prototype.watchEvent=function(t){switch(t.type){case s.default.EVENT.SLOT_SPIN:this.dataSpin=t,this.isReceivedData=!0,this._listItem.forEach(function(e){e.forEach(function(e){e.getComponent("SlotsItem").setMatrixEnd(t.mat.split(","))})}),this.isSpin||this.spin(t),this.lastWin=t.score.reward}},e.prototype.timeManager=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return this.isReFresh||(this.animationController.refreshSlotAnimation(),this.isReFresh=!0),this.animationController.spinItems(this._listItem),this.freeSpin>0?(this.freeSpin--,this._topBarController.updateFreeSpin(this.freeSpin),this._topBarController.showFreeSpin()):this._topBarController.hideFreeSpin(),[4,o.default.delay(3e3)];case 1:return e.sent(),this.isReceivedData?(t=this.dataSpin,this.animationController.setAnimationData(t),t.score.sum[1].c>0?(this.animationController.showWinAmount(),[4,this.animationController.showAllLines()]):[3,3]):[3,14];case 2:return e.sent(),[3,5];case 3:return window.GameScene._bottomBarController.resetWinAmount(),[4,o.default.delay(500)];case 4:e.sent(),e.label=5;case 5:return t.score.sum[2].c>0?(cc.log("You get a bonus"),this.isSpin=!1,this.isReFresh=!1,[2]):t.freeSpin.c>0?(t.score.sum[3].c>0&&cc.log("You get "+t.score.sum[3].c+" free spins"),this._topBarController.updateFreeSpin(t.freeSpin.c),this._topBarController._isShowFreeSpin?[3,7]:(this._topBarController.showFreeSpin(),this.freeSpin=t.freeSpin.c,[4,o.default.delay(200)])):[3,8];case 6:e.sent(),e.label=7;case 7:return[3,9];case 8:this._topBarController._isShowFreeSpin&&this._topBarController.hideFreeSpin(),e.label=9;case 9:if(this.isSpin=!1,this.isReFresh=!1,this.isAutoSpin&&(this.autoSpinTimes--,this.autoSpinTimes>=0&&this.autoSpin(this.autoSpinTimes)),!(this.dataSpin.score.sum[1].c>0))return[3,13];e.label=10;case 10:return this.isSpin?[3,13]:[4,this.animationController.showEachLine()];case 11:return e.sent(),[4,this.animationController.showAllLines()];case 12:return e.sent(),[3,10];case 13:return[3,14];case 14:return[2]}})})},e.prototype.autoSpin=function(t){this.autoSpinTimes=t,this.isSpin||(this.autoSpinTimes<=0?this.isAutoSpin=!1:(cc.log(this.autoSpinTimes),this.isAutoSpin=!0,this.spin()))},e.prototype.clickSpin=function(){if(window.GameScene._bottomBarController.autoBet.active&&window.GameScene._bottomBarController.hideAutoBet(),this.isAutoSpin)return this.isAutoSpin=!1,void(this.autoSpinTimes=0);!this.isAutoSpin&&this.isSpin||this.spin()},e.prototype.spin=function(t){if(this.currentBet>window.GameController.userBalance)return this.autoSpinTimes=0,void cc.log("User do not have enough coin to spin ...");this.isSpin=!0,this.isReceivedData=!!t,t||i.default.sendGD({e:s.default.EVENT.SLOT_SPIN,gtype:this.gameId,totalbet:this.currentBet},function(t,e){cc.log("callback",e)}),this.timeManager()},e.prototype.sortListItem=function(){var t=[[]],e=3,n=4;2==this.gameSizeType&&(e=4,n=4),3==this.gameSizeType&&(e=5,n=5),this._listItem.forEach(function(r,o){var i=e-o%n;t[i]||(t[i]=[]),t[i].push(r)}),this._listItem=t},e.prototype.strMatrixToArray=function(t,e,n){void 0===e&&(e=5),void 0===n&&(n=3),t=t.split(",");for(var r=[],o=0;o<e;o++){for(var i=[],s=0;s<n;s++)i.push(t[(n-1-s)*e+o]);r.push(i)}return r},__decorate([u(cc.String)],e.prototype,"gameId",void 0),__decorate([u(cc.Integer)],e.prototype,"gameSizeType",void 0),__decorate([u(cc.Node)],e.prototype,"tableView",void 0),__decorate([u(cc.Node)],e.prototype,"itemSlot",void 0),__decorate([u(cc.Prefab)],e.prototype,"miniGamePrefab",void 0),e=__decorate([c],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Api":"Api","../GameConfig":"GameConfig","../lib/Util":"Util","./Item":"Item"}],SlotItem5:[function(t,e,n){"use strict";cc._RF.push(e,"c69b03tvv9KQZLdNmcJcwHr","SlotItem5"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=r.ccclass,i=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e=__decorate([o],e)}(t("../../../scripts/Slots/SlotsItem").default));n.default=i,cc._RF.pop()},{"../../../scripts/Slots/SlotsItem":"SlotsItem"}],SlotsDownloadCtr:[function(t,e,n){"use strict";cc._RF.push(e,"47cb4qOft9Ak7C8Ceh0Sa9R","SlotsDownloadCtr"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=r.ccclass,i=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.loadSrc=function(){cc.log("test")},e.prototype.getUrls=function(t){var e="4_gameScene/"+t+"_Slot"+t;cc.loader.loadResDir(e,function(t,e,n){})},e=__decorate([o],e)}(cc.Component));n.default=i,cc._RF.pop()},{}],SlotsItem4:[function(t,e,n){"use strict";cc._RF.push(e,"a73fbloCxtHDIET+yNuHXbr","SlotsItem4"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../../../scripts/Slots/SlotsItem"),o=cc._decorator,i=o.ccclass,s=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onload=function(){t.prototype.onLoad.call(this)},e.prototype.checkSpecialItem=function(t){return"s"==t||"w"==t||"12"==t||"13"==t||"14"==t||"15"==t||"22"==t||"23"==t||"24"==t||"25"==t},e=__decorate([i],e)}(r.default));n.default=s,cc._RF.pop()},{"../../../scripts/Slots/SlotsItem":"SlotsItem"}],SlotsItem:[function(t,e,n){"use strict";cc._RF.push(e,"916798ID0tG3qx1bYPHCH7v","SlotsItem"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("./SlotController"),o=cc._decorator,i=o.ccclass,s=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spritesFrame=null,e.slotsController=null,e.border=null,e.zoomAni=null,e.a=.5,e.c=1900,e.maxCount=5,e.id="",e.x=0,e.y=0,e.count=0,e}return __extends(e,t),e.prototype.onLoad=function(){this.isMove=!1,this.time=0,this.duration=0,this.y0=this.node.y,this.distance=0,this.maxY=(this.slotsController.maxRow+.5)*this.slotsController.distanceItemY,this.minY=-.5*this.slotsController.distanceItemY,this.initZoomAnimation()},e.prototype.setItemInfo=function(t,e,n){if(this.id=t.id,this.spritesFrame.spriteFrame=t.spritesFrame,this.x=e,this.y=n,this.slotsController._listBoderImg.length>0)if(this.checkSpecialItem(t.id)){var r=this.slotsController._listBoderImg.find(function(e){return e.id===t.id});this.border.active=!0,this.border.getComponent(cc.Sprite).spriteFrame=r.img}else this.border.active=!1},e.prototype.setItemSprite=function(t){var e=this;if(t)t=this.slotsController.getRandomItem(),this.spritesFrame.spriteFrame=t.spritesFrame;else if(t=this.slotsController.getRandomItem(),null!=this.arrResult&&this.y<=this.slotsController.maxRow-1){var n=this.slotsController.maxCol*(this.slotsController.maxRow-this.y-1)+this.x;t=this.slotsController._listItemData.find(function(t){return t.id==e.arrResult[n]}),this.id=t.id,this.spritesFrame.spriteFrame=t.spritesFrame}if(this.slotsController._listBoderImg.length>0)if(this.checkSpecialItem(t.id)){var r=this.slotsController._listBoderImg.find(function(e){return e.id===t.id});this.border.active=!0,this.border.getComponent(cc.Sprite).spriteFrame=r.img}else this.border.active=!1},e.prototype.checkSpecialItem=function(t){return"b"==t||"s"==t||"w"==t},e.prototype.move=function(){var t=this,e=this;this.node.runAction(cc.sequence(cc.moveTo(.3,cc.v2(this.node.x,(this.y+.6)*this.slotsController.distanceItemY)),cc.callFunc(function(){t.isMove=!0,t.time=0,t.y0=e.node.y,t.count=0})))},e.prototype.setMatrixEnd=function(t){this.arrResult=t},e.prototype.stop=function(){this.endingMove=!0},e.prototype.scaleAnim=function(t){var e=this,n=cc.scaleTo(.5,1.2);this.node.runAction(n),setTimeout(function(){var t=cc.scaleTo(.5,1);null!=e.node&&e.node.runAction(t)},500)},e.prototype.initZoomAnimation=function(){this.mainItem=this.node.children[1]||this.node,this.mainItem.addComponent(cc.Animation),this.zoomAnimation=this.mainItem.getComponent(cc.Animation),this.zoomAni.speed=1.1,this.zoomAnimation.addClip(this.zoomAni)},e.prototype.playZoomAnimation=function(){this.zoomAnimation.play("ZoomItem")},e.prototype.stopZoomAnimation=function(){this.zoomAnimation.setCurrentTime(0),this.zoomAnimation.stop("ZoomItem")},e.prototype.update=function(t){if(this.time+=t,this.duration+=t,1==this.isMove){if(this.node.y=this.y0-this.c*this.time,this.node.y<=this.minY){if(this.count++,!this.reallyStop){var e=this.minY-this.node.y;this.node.y=this.maxY-e,this.y0=this.node.y,this.time=0}var n=this.slotsController.getRandomItem();this.setItemSprite(n);var r=this.maxCount;this.count>=r&&(this.endingMove=!0,this.setItemSprite(null),this.reallyStop=!0)}this.reallyStop&&this.node.y<=(this.y+.3)*this.slotsController.distanceItemY&&(this.node.y=(this.y+.3)*this.slotsController.distanceItemY,this.endingMove=!1,this.isMove=!1,this.node.runAction(cc.moveTo(.2,cc.v2(this.node.x,(this.y+.5)*this.slotsController.distanceItemY)).easing(cc.easeBackOut())),this.reallyStop=!1)}},__decorate([s(cc.Sprite)],e.prototype,"spritesFrame",void 0),__decorate([s(r.default)],e.prototype,"slotsController",void 0),__decorate([s(cc.Node)],e.prototype,"border",void 0),__decorate([s(cc.AnimationClip)],e.prototype,"zoomAni",void 0),__decorate([s],e.prototype,"a",void 0),__decorate([s],e.prototype,"c",void 0),__decorate([s],e.prototype,"maxCount",void 0),e=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{"./SlotController":"SlotController"}],Socket:[function(t,e,n){"use strict";cc._RF.push(e,"9e325AnWpBFIpYAbyYs+aqr","Socket"),cc._RF.pop()},{}],Start:[function(t,e,n){"use strict";cc._RF.push(e,"b84degjEwlMgb9Fb6T4/ijg","Start"),Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,o=r.ccclass,i=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){setTimeout(function(){},100)},e=__decorate([o],e)}(cc.Component));n.default=i,cc._RF.pop()},{}],TopBarController:[function(t,e,n){"use strict";cc._RF.push(e,"45740NJ8+xLiYAmUQFFrNMf","TopBarController"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../lib/Util"),o=t("../Components/CoinLabel"),i=t("../Concos"),s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinLabel=null,e.userLevel=null,e.userName=null,e.userClan=null,e.freeSpinNode=null,e._isShowFreeSpin=!1,e.freeSpinLabel=null,e.coinController=null,e._eventList=[],e._isShow=!1,e.container=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.initialize(),this.registerEvent()},e.prototype.initialize=function(){this.coinController=new o.default(this.coinLabel),this.coinLabel.string=r.default.formatMoney(window.GameController.userBalance),this.freeSpinLabel=this.freeSpinNode.getComponentInChildren(cc.Label),this.container=this.node.getChildByName("container")},e.prototype.toggleBar=function(t){void 0===t&&(t=.5),this.container.runAction(cc.moveBy(t,cc.v2(0,this.container.height*(this._isShow?1:-1))).easing(cc.easeSineOut())),this.container.runAction(this._isShow?cc.fadeOut(t):cc.fadeIn(t)),this._isShow=!this._isShow},e.prototype.registerEvent=function(){this._eventList=[i.default.register(i.Event.UPDATE_USER_BALANCE,this.updateUserBalance.bind(this))]},e.prototype.updateUserBalance=function(t,e){return void 0===e&&(e=3e3),__awaiter(this,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,r.default.delay(e)];case 1:return n.sent(),this.coinController.updateUserBalance(t),[2]}})})},e.prototype.onDestroy=function(){this._eventList.forEach(function(t){return i.default.unRegister(t)})},e.prototype.updateFreeSpin=function(t){this.freeSpinLabel.string="FREE SPINS: "+t},e.prototype.showFreeSpin=function(t){void 0===t&&(t=.3),this._isShowFreeSpin||(this._isShowFreeSpin=!0,this.freeSpinNode.active=!0,this.freeSpinNode.runAction(cc.moveBy(t,cc.v2(0,-50))))},e.prototype.hideFreeSpin=function(t){var e=this;void 0===t&&(t=.3),this._isShowFreeSpin&&(this._isShowFreeSpin=!1,this.freeSpinNode.runAction(cc.sequence(cc.moveBy(t,cc.v2(0,50)),cc.callFunc(function(){e.freeSpinNode.active=!1}))))},e.prototype.update=function(t){this.coinController._updateUserBalance(t)},__decorate([c(cc.Label)],e.prototype,"coinLabel",void 0),__decorate([c(cc.Label)],e.prototype,"userLevel",void 0),__decorate([c(cc.Label)],e.prototype,"userName",void 0),__decorate([c(cc.Label)],e.prototype,"userClan",void 0),__decorate([c(cc.Node)],e.prototype,"freeSpinNode",void 0),e=__decorate([a],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../Components/CoinLabel":"CoinLabel","../Concos":"Concos","../lib/Util":"Util"}],UserInfoController:[function(t,e,n){"use strict";cc._RF.push(e,"0983ea9pZtEF4fD8mosgb6y","UserInfoController"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Components/CoinLabel"),o=t("../Concos"),i=cc._decorator,s=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinLabel=null,e.userLevel=null,e.userName=null,e.userClan=null,e.coinController=null,e._eventList=[],e}return __extends(e,t),e.prototype.onLoad=function(){this.initialize(),this.resgisterEvent()},e.prototype.initialize=function(){this.coinController=new r.default(this.coinLabel)},e.prototype.resgisterEvent=function(){this._eventList=[o.default.register(o.Event.UPDATE_USER_BALANCE,this.updateUserBalance.bind(this))]},e.prototype.updateUserBalance=function(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(n){return this.coinController.updateUserBalance(t,e),[2]})})},e.prototype.onDestroy=function(){this._eventList.forEach(function(t){return o.default.unRegister(t)})},e.prototype.update=function(t){this.coinController._updateUserBalance(t)},__decorate([a(cc.Label)],e.prototype,"coinLabel",void 0),__decorate([a(cc.Label)],e.prototype,"userLevel",void 0),__decorate([a(cc.Label)],e.prototype,"userName",void 0),__decorate([a(cc.Label)],e.prototype,"userClan",void 0),e=__decorate([s],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../Components/CoinLabel":"CoinLabel","../Concos":"Concos"}],Util:[function(t,e,n){"use strict";cc._RF.push(e,"f627cIfo7VP64PEhfSD+uOL","Util"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){}return t.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},t.loadRes=function(t,e){return void 0===e&&(e=null),new Promise(function(n,r){cc.loader.loadRes(t,e,function(t,e){if(t)return r(t);n(e)})})},t.formatMoney=function(t,e){return void 0===e&&(e=","),Math.floor(t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)},t.showNode=function(t,e){t.opacity=255,t.zIndex=e||0},t.hideNode=function(t){t.opacity=0,t.zIndex=-1},t.delay=function(t){return new Promise(function(e){return setTimeout(e,t)})},t}();n.default=r,cc._RF.pop()},{}],auth:[function(t,e,n){"use strict";cc._RF.push(e,"a2a548X5aVKa73+sUjHuuhj","auth"),Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()}return t.prototype._checkLocalStorageEnabled=function(){var t;try{cc.sys.localStorage,cc.sys.localStorage.setItem("__scLocalStorageTest",1),cc.sys.localStorage.removeItem("__scLocalStorageTest")}catch(e){t=e}return!t},t.prototype.saveToken=function(t,e,n,r){this.isLocalStorageEnabled&&cc.sys.localStorage?cc.sys.localStorage.setItem(t,e):this._internalStorage[t]=e,r&&r(null,e)},t.prototype.removeToken=function(t,e){var n;this.loadToken(t,function(t,e){n=e}),this.isLocalStorageEnabled&&cc.sys.localStorage?cc.sys.localStorage.removeItem(t):delete this._internalStorage[t],e&&e(null,n)},t.prototype.loadToken=function(t,e){e(null,this.isLocalStorageEnabled&&cc.sys.localStorage?cc.sys.localStorage.getItem(t):this._internalStorage[t]||null)},t}();n.AuthEngine=r,cc._RF.pop()},{}],"sc-codec-min-bin":[function(t,e,n){"use strict";cc._RF.push(e,"e5826r27qNOJ4KUbCz4TUHx","sc-codec-min-bin"),Object.defineProperty(n,"__esModule",{value:!0});var r=t("msgpack-lite"),o={codec:r.createCodec({binarraybuffer:!0,preset:!1})};n.encode=function(t){return!t||null==t.event&&null==t.rid||(function(t){if("#publish"==t.event&&null!=t.data){var e=[t.data.channel,t.data.data];null!=t.cid&&e.push(t.cid),t.p=e,delete t.event,delete t.data,delete t.cid}}(t=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(t)),function(t){null!=t.event&&(t.e=[t.event,t.data],null!=t.cid&&t.e.push(t.cid),delete t.event,delete t.data,delete t.cid)}(t),function(t){null!=t.rid&&(t.r=[t.rid,t.error,t.data],delete t.rid,delete t.error,delete t.data)}(t)),r.encode(t,o)};n.decode=function(t){t=new Uint8Array(t);var e=r.decode(t,o);return function(t){null!=t.e&&(t.event=t.e[0],t.data=t.e[1],null!=t.e[2]&&(t.cid=t.e[2]),delete t.e)}(e),function(t){null!=t.p&&(t.event="#publish",t.data={channel:t.p[0],data:t.p[1]},null!=t.p[2]&&(t.cid=t.p[2]),delete t.p)}(e),function(t){null!=t.r&&(t.rid=t.r[0],t.error=t.r[1],t.data=t.r[2],delete t.r)}(e),e},cc._RF.pop()},{"msgpack-lite":18}]},{},["Slot1","Slot1Ctr","Slot1ResCtr","AnimationController4","Slot4Ctr","Slot4ResCtr","SlotsItem4","BetResource","BetsController4","BetsItem4","AnimationController5","MinigameController5","ResourceMiniGame5","ResourceController5","SlotController5","SlotItem5","Socket","Api","CoinLabel","Concos","DialogController","NotiDialog","DownloadCtr","GameConfig","GameController","BottomBarController","GameScene","TopBarController","HomeScene","ItemGame","UserInfoController","MultiScene","AutoFitCanvas","FitWidthIphoneX","ImageScaleResolution","LocalScaleResolution","AnimationController","Item","LinesController","ResourceController","SlotController","SlotsDownloadCtr","SlotsItem","Start","Util","auth","sc-codec-min-bin"]);