window.__require=function e(t,o,n){function i(a,s){if(!o[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){return i(t[a][1][e]||e)},u,u.exports,e,t,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,o){"use strict";o.byteLength=function(e){var t=l(e),o=t[0],n=t[1];return 3*(o+n)/4-n},o.toByteArray=function(e){for(var t,o=l(e),n=o[0],a=o[1],s=new r(u(e,n,a)),c=0,p=a>0?n-4:n,d=0;d<p;d+=4)t=i[e.charCodeAt(d)]<<18|i[e.charCodeAt(d+1)]<<12|i[e.charCodeAt(d+2)]<<6|i[e.charCodeAt(d+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;2===a&&(t=i[e.charCodeAt(d)]<<2|i[e.charCodeAt(d+1)]>>4,s[c++]=255&t);1===a&&(t=i[e.charCodeAt(d)]<<10|i[e.charCodeAt(d+1)]<<4|i[e.charCodeAt(d+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t);return s},o.fromByteArray=function(e){for(var t,o=e.length,i=o%3,r=[],a=0,s=o-i;a<s;a+=16383)r.push(d(e,a,a+16383>s?s:a+16383));1===i?(t=e[o-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[o-2]<<8)+e[o-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return r.join("")};for(var n=[],i=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.indexOf("=");return-1===o&&(o=t),[o,o===t?0:4-o%4]}function u(e,t,o){return 3*(t+o)/4-o}function p(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function d(e,t,o){for(var n,i=[],r=t;r<o;r+=3)n=(e[r]<<16&16711680)+(e[r+1]<<8&65280)+(255&e[r+2]),i.push(p(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,o){(function(t){"use strict";var n=e("base64-js"),i=e("ieee754"),r=e("isarray");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,o){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,o);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return l(this,e,t,o)}function l(e,t,o,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?f(e,t,o,n):"string"==typeof t?h(e,t,o):g(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t,o,n){return u(t),t<=0?s(e,t):void 0!==o?"string"==typeof n?s(e,t).fill(o,n):s(e,t).fill(o):s(e,t)}function d(e,t){if(u(t),e=s(e,t<0?0:0|y(t)),!c.TYPED_ARRAY_SUPPORT)for(var o=0;o<t;++o)e[o]=0;return e}function h(e,t,o){if("string"==typeof o&&""!==o||(o="utf8"),!c.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var n=0|_(t,o),i=(e=s(e,n)).write(t,o);return i!==n&&(e=e.slice(0,i)),e}function m(e,t){var o=t.length<0?0:0|y(t.length);e=s(e,o);for(var n=0;n<o;n+=1)e[n]=255&t[n];return e}function f(e,t,o,n){if(t.byteLength,o<0||t.byteLength<o)throw new RangeError("'offset' is out of bounds");if(t.byteLength<o+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===o&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,o):new Uint8Array(t,o,n),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=m(e,t),e}function g(e,t){if(c.isBuffer(t)){var o=0|y(t.length);return 0===(e=s(e,o)).length?e:(t.copy(e,0,0,o),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||$(t.length)?s(e,0):m(e,t);if("Buffer"===t.type&&r(t.data))return m(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function _(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var o=e.length;if(0===o)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return o;case"utf8":case"utf-8":case void 0:return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return Q(e).length;default:if(n)return q(e).length;t=(""+t).toLowerCase(),n=!0}}function v(e,t,o){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),o<=0)return"";if((o>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,o);case"utf8":case"utf-8":return R(this,t,o);case"ascii":return P(this,t,o);case"latin1":case"binary":return B(this,t,o);case"base64":return N(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,o);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function S(e,t,o,n,i){if(0===e.length)return-1;if("string"==typeof o?(n=o,o=0):o>2147483647?o=2147483647:o<-2147483648&&(o=-2147483648),o=+o,isNaN(o)&&(o=i?0:e.length-1),o<0&&(o=e.length+o),o>=e.length){if(i)return-1;o=e.length-1}else if(o<0){if(!i)return-1;o=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:E(e,t,o,n,i);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,o):Uint8Array.prototype.lastIndexOf.call(e,t,o):E(e,[t],o,n,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,o,n,i){var r,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,o/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(r=o;r<s;r++)if(l(e,r)===l(t,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===c)return u*a}else-1!==u&&(r-=r-u),u=-1}else for(o+c>s&&(o=s-c),r=o;r>=0;r--){for(var p=!0,d=0;d<c;d++)if(l(e,r+d)!==l(t,d)){p=!1;break}if(p)return r}return-1}function C(e,t,o,n){o=Number(o)||0;var i=e.length-o;n?(n=Number(n))>i&&(n=i):n=i;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");n>r/2&&(n=r/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[o+a]=s}return a}function I(e,t,o,n){return X(q(t,e.length-o),e,o,n)}function A(e,t,o,n){return X(J(t),e,o,n)}function w(e,t,o,n){return A(e,t,o,n)}function k(e,t,o,n){return X(Q(t),e,o,n)}function T(e,t,o,n){return X(Z(t,e.length-o),e,o,n)}function N(e,t,o){return 0===t&&o===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,o))}function R(e,t,o){o=Math.min(e.length,o);for(var n=[],i=t;i<o;){var r,a,s,c,l=e[i],u=null,p=l>239?4:l>223?3:l>191?2:1;if(i+p<=o)switch(p){case 1:l<128&&(u=l);break;case 2:128==(192&(r=e[i+1]))&&(c=(31&l)<<6|63&r)>127&&(u=c);break;case 3:r=e[i+1],a=e[i+2],128==(192&r)&&128==(192&a)&&(c=(15&l)<<12|(63&r)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:r=e[i+1],a=e[i+2],s=e[i+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&(c=(15&l)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,p=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=p}return L(n)}o.Buffer=c,o.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},o.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),o.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,o){return l(null,e,t,o)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,o){return p(null,e,t,o)},c.allocUnsafe=function(e){return d(null,e)},c.allocUnsafeSlow=function(e){return d(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var o=e.length,n=t.length,i=0,r=Math.min(o,n);i<r;++i)if(e[i]!==t[i]){o=e[i],n=t[i];break}return o<n?-1:n<o?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var o;if(void 0===t)for(t=0,o=0;o<e.length;++o)t+=e[o].length;var n=c.allocUnsafe(t),i=0;for(o=0;o<e.length;++o){var a=e[o];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):v.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=o.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,o,n,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||o>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=o)return 0;if(n>=i)return-1;if(t>=o)return 1;if(t>>>=0,o>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var r=i-n,a=o-t,s=Math.min(r,a),l=this.slice(n,i),u=e.slice(t,o),p=0;p<s;++p)if(l[p]!==u[p]){r=l[p],a=u[p];break}return r<a?-1:a<r?1:0},c.prototype.includes=function(e,t,o){return-1!==this.indexOf(e,t,o)},c.prototype.indexOf=function(e,t,o){return S(this,e,t,o,!0)},c.prototype.lastIndexOf=function(e,t,o){return S(this,e,t,o,!1)},c.prototype.write=function(e,t,o,n){if(void 0===t)n="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)n=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(o)?(o|=0,void 0===n&&(n="utf8")):(n=o,o=void 0)}var i=this.length-t;if((void 0===o||o>i)&&(o=i),e.length>0&&(o<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var r=!1;;)switch(n){case"hex":return C(this,e,t,o);case"utf8":case"utf-8":return I(this,e,t,o);case"ascii":return A(this,e,t,o);case"latin1":case"binary":return w(this,e,t,o);case"base64":return k(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,o);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),r=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function L(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);for(var o="",n=0;n<t;)o+=String.fromCharCode.apply(String,e.slice(n,n+=O));return o}function P(e,t,o){var n="";o=Math.min(e.length,o);for(var i=t;i<o;++i)n+=String.fromCharCode(127&e[i]);return n}function B(e,t,o){var n="";o=Math.min(e.length,o);for(var i=t;i<o;++i)n+=String.fromCharCode(e[i]);return n}function D(e,t,o){var n=e.length;(!t||t<0)&&(t=0),(!o||o<0||o>n)&&(o=n);for(var i="",r=t;r<o;++r)i+=K(e[r]);return i}function F(e,t,o){for(var n=e.slice(t,o),i="",r=0;r<n.length;r+=2)i+=String.fromCharCode(n[r]+256*n[r+1]);return i}function M(e,t,o){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function x(e,t,o,n,i,r){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<r)throw new RangeError('"value" argument is out of bounds');if(o+n>e.length)throw new RangeError("Index out of range")}function U(e,t,o,n){t<0&&(t=65535+t+1);for(var i=0,r=Math.min(e.length-o,2);i<r;++i)e[o+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function G(e,t,o,n){t<0&&(t=4294967295+t+1);for(var i=0,r=Math.min(e.length-o,4);i<r;++i)e[o+i]=t>>>8*(n?i:3-i)&255}function W(e,t,o,n,i,r){if(o+n>e.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("Index out of range")}function H(e,t,o,n,r){return r||W(e,0,o,4),i.write(e,t,o,n,23,4),o+4}function V(e,t,o,n,r){return r||W(e,0,o,8),i.write(e,t,o,n,52,8),o+8}c.prototype.slice=function(e,t){var o,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=c.prototype;else{var i=t-e;o=new c(i,void 0);for(var r=0;r<i;++r)o[r]=this[r+e]}return o},c.prototype.readUIntLE=function(e,t,o){e|=0,t|=0,o||M(e,t,this.length);for(var n=this[e],i=1,r=0;++r<t&&(i*=256);)n+=this[e+r]*i;return n},c.prototype.readUIntBE=function(e,t,o){e|=0,t|=0,o||M(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,o){e|=0,t|=0,o||M(e,t,this.length);for(var n=this[e],i=1,r=0;++r<t&&(i*=256);)n+=this[e+r]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,o){e|=0,t|=0,o||M(e,t,this.length);for(var n=t,i=1,r=this[e+--n];n>0&&(i*=256);)r+=this[e+--n]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},c.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},c.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||x(this,e,t,o,Math.pow(2,8*o)-1,0);var i=1,r=0;for(this[t]=255&e;++r<o&&(i*=256);)this[t+r]=e/i&255;return t+o},c.prototype.writeUIntBE=function(e,t,o,n){(e=+e,t|=0,o|=0,n)||x(this,e,t,o,Math.pow(2,8*o)-1,0);var i=o-1,r=1;for(this[t+i]=255&e;--i>=0&&(r*=256);)this[t+i]=e/r&255;return t+o},c.prototype.writeUInt8=function(e,t,o){return e=+e,t|=0,o||x(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,o){return e=+e,t|=0,o||x(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,o){return e=+e,t|=0,o||x(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,o){return e=+e,t|=0,o||x(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):G(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,o){return e=+e,t|=0,o||x(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,o,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*o-1);x(this,e,t,o,i-1,-i)}var r=0,a=1,s=0;for(this[t]=255&e;++r<o&&(a*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+o},c.prototype.writeIntBE=function(e,t,o,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*o-1);x(this,e,t,o,i-1,-i)}var r=o-1,a=1,s=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+o},c.prototype.writeInt8=function(e,t,o){return e=+e,t|=0,o||x(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,o){return e=+e,t|=0,o||x(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,o){return e=+e,t|=0,o||x(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,o){return e=+e,t|=0,o||x(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):G(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,o){return e=+e,t|=0,o||x(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):G(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,o){return H(this,e,t,!0,o)},c.prototype.writeFloatBE=function(e,t,o){return H(this,e,t,!1,o)},c.prototype.writeDoubleLE=function(e,t,o){return V(this,e,t,!0,o)},c.prototype.writeDoubleBE=function(e,t,o){return V(this,e,t,!1,o)},c.prototype.copy=function(e,t,o,n){if(o||(o=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<o&&(n=o),n===o)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(o<0||o>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-o&&(n=e.length-t+o);var i,r=n-o;if(this===e&&o<t&&t<n)for(i=r-1;i>=0;--i)e[i+t]=this[i+o];else if(r<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)e[i+t]=this[i+o];else Uint8Array.prototype.set.call(e,this.subarray(o,o+r),t);return r},c.prototype.fill=function(e,t,o,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,o=this.length):"string"==typeof o&&(n=o,o=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<o)throw new RangeError("Out of range index");if(o<=t)return this;var r;if(t>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0),"number"==typeof e)for(r=t;r<o;++r)this[r]=e;else{var a=c.isBuffer(e)?e:q(new c(e,n).toString()),s=a.length;for(r=0;r<o-t;++r)this[r+t]=a[r%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function Y(e){if((e=z(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function K(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){var o;t=t||1/0;for(var n=e.length,i=null,r=[],a=0;a<n;++a){if((o=e.charCodeAt(a))>55295&&o<57344){if(!i){if(o>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&r.push(239,191,189);continue}i=o;continue}if(o<56320){(t-=3)>-1&&r.push(239,191,189),i=o;continue}o=65536+(i-55296<<10|o-56320)}else i&&(t-=3)>-1&&r.push(239,191,189);if(i=null,o<128){if((t-=1)<0)break;r.push(o)}else if(o<2048){if((t-=2)<0)break;r.push(o>>6|192,63&o|128)}else if(o<65536){if((t-=3)<0)break;r.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(o<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return r}function J(e){for(var t=[],o=0;o<e.length;++o)t.push(255&e.charCodeAt(o));return t}function Z(e,t){for(var o,n,i,r=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(o=e.charCodeAt(a))>>8,i=o%256,r.push(i),r.push(n);return r}function Q(e){return n.toByteArray(Y(e))}function X(e,t,o,n){for(var i=0;i<n&&!(i+o>=t.length||i>=e.length);++i)t[i+o]=e[i];return i}function $(e){return e!=e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:4,isarray:3}],3:[function(e,t,o){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],4:[function(e,t,o){o.read=function(e,t,o,n,i){var r,a,s=8*i-n-1,c=(1<<s)-1,l=c>>1,u=-7,p=o?i-1:0,d=o?-1:1,h=e[t+p];for(p+=d,r=h&(1<<-u)-1,h>>=-u,u+=s;u>0;r=256*r+e[t+p],p+=d,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=n;u>0;a=256*a+e[t+p],p+=d,u-=8);if(0===r)r=1-l;else{if(r===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),r-=l}return(h?-1:1)*a*Math.pow(2,r-n)},o.write=function(e,t,o,n,i,r){var a,s,c,l=8*r-i-1,u=(1<<l)-1,p=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:r-1,m=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+p>=1?d/c:d*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=u?(s=0,a=u):a+p>=1?(s=(t*c-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[o+h]=255&s,h+=m,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[o+h]=255&a,h+=m,a/=256,l-=8);e[o+h-m]|=128*f}},{}],5:[function(e,t,o){(function(e){void 0!==t&&(t.exports=e);var o="listeners",n={on:function(e,t){return a(this,e).push(t),this},once:function(e,t){var o=this;return n.originalListener=t,a(o,e).push(n),o;function n(){r.call(o,e,n),t.apply(this,arguments)}},off:r,emit:function(e,t){var o=this,n=a(o,e,!0);if(!n)return!1;var i=arguments.length;if(1===i)n.forEach(function(e){e.call(o)});else if(2===i)n.forEach(function(e){e.call(o,t)});else{var r=Array.prototype.slice.call(arguments,1);n.forEach(function(e){e.apply(o,r)})}return!!n.length}};function i(e){for(var t in n)e[t]=n[t];return e}function r(e,t){var n;if(arguments.length){if(t){if(n=a(this,e,!0)){if(!(n=n.filter(function(e){return e!==t&&e.originalListener!==t})).length)return r.call(this,e);this[o][e]=n}}else if((n=this[o])&&(delete n[e],!Object.keys(n).length))return r.call(this)}else delete this[o];return this}function a(e,t,n){if(!n||e[o]){var i=e[o]||(e[o]={});return i[t]||(i[t]=[])}}i(e.prototype),e.mixin=i})(function e(){if(!(this instanceof e))return new e})},{}],6:[function(e,t,o){arguments[4][4][0].apply(o,arguments)},{dup:4}],7:[function(e,t,o){(function(e){!function(t){var o,n="undefined",i=n!==typeof e&&e,r=n!==typeof Uint8Array&&Uint8Array,a=n!==typeof ArrayBuffer&&ArrayBuffer,s=[0,0,0,0,0,0,0,0],c=Array.isArray||function(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)},l=4294967296,u=16777216;function p(e,c,p){var E=c?0:4,C=c?4:0,I=c?0:3,A=c?1:2,w=c?2:1,k=c?3:0,T=c?_:b,N=c?v:S,R=P.prototype,O="is"+e,L="_"+O;return R.buffer=void 0,R.offset=0,R[L]=!0,R.toNumber=F,R.toString=function(e){var t=this.buffer,o=this.offset,n=x(t,o+E),i=x(t,o+C),r="",a=!p&&2147483648&n;a&&(n=~n,i=l-i);e=e||10;for(;;){var s=n%e*l+i;if(n=Math.floor(n/e),i=Math.floor(s/e),r=(s%e).toString(e)+r,!n&&!i)break}a&&(r="-"+r);return r},R.toJSON=F,R.toArray=d,i&&(R.toBuffer=h),r&&(R.toArrayBuffer=m),P[O]=function(e){return!(!e||!e[L])},t[e]=P,P;function P(e,t,o,n){return this instanceof P?B(this,e,t,o,n):new P(e,t,o,n)}function B(e,t,i,c,l){if(r&&a&&(t instanceof a&&(t=new r(t)),c instanceof a&&(c=new r(c))),t||i||c||o){if(!f(t,i))l=i,c=t,i=0,t=new(o||Array)(8);e.buffer=t,e.offset=i|=0,n!==typeof c&&("string"==typeof c?D(t,i,c,l||10):f(c,l)?g(t,i,c,l):"number"==typeof l?(M(t,i+E,c),M(t,i+C,l)):c>0?T(t,i,c):c<0?N(t,i,c):g(t,i,s,0))}else e.buffer=y(s,0)}function D(e,t,o,n){var i=0,r=o.length,a=0,s=0;"-"===o[0]&&i++;for(var c=i;i<r;){var u=parseInt(o[i++],n);if(!(u>=0))break;s=s*n+u,a=a*n+Math.floor(s/l),s%=l}c&&(a=~a,s?s=l-s:a++),M(e,t+E,a),M(e,t+C,s)}function F(){var e=this.buffer,t=this.offset,o=x(e,t+E),n=x(e,t+C);return p||(o|=0),o?o*l+n:n}function M(e,t,o){e[t+k]=255&o,o>>=8,e[t+w]=255&o,o>>=8,e[t+A]=255&o,o>>=8,e[t+I]=255&o}function x(e,t){return e[t+I]*u+(e[t+A]<<16)+(e[t+w]<<8)+e[t+k]}}function d(e){var t=this.buffer,n=this.offset;return o=null,!1!==e&&0===n&&8===t.length&&c(t)?t:y(t,n)}function h(t){var n=this.buffer,r=this.offset;if(o=i,!1!==t&&0===r&&8===n.length&&e.isBuffer(n))return n;var a=new i(8);return g(a,0,n,r),a}function m(e){var t=this.buffer,n=this.offset,i=t.buffer;if(o=r,!1!==e&&0===n&&i instanceof a&&8===i.byteLength)return i;var s=new r(8);return g(s,0,t,n),s.buffer}function f(e,t){var o=e&&e.length;return t|=0,o&&t+8<=o&&"string"!=typeof e[t]}function g(e,t,o,n){t|=0,n|=0;for(var i=0;i<8;i++)e[t++]=255&o[n++]}function y(e,t){return Array.prototype.slice.call(e,t,t+8)}function _(e,t,o){for(var n=t+8;n>t;)e[--n]=255&o,o/=256}function v(e,t,o){var n=t+8;for(o++;n>t;)e[--n]=255&-o^255,o/=256}function b(e,t,o){for(var n=t+8;t<n;)e[t++]=255&o,o/=256}function S(e,t,o){var n=t+8;for(o++;t<n;)e[t++]=255&-o^255,o/=256}p("Uint64BE",!0,!0),p("Int64BE",!0,!1),p("Uint64LE",!1,!0),p("Int64LE",!1,!1)}("object"==typeof o&&"string"!=typeof o.nodeName?o:this||{})}).call(this,e("buffer").Buffer)},{buffer:2}],8:[function(e,t,o){arguments[4][3][0].apply(o,arguments)},{dup:3}],9:[function(e,t,o){o.encode=e("./encode").encode,o.decode=e("./decode").decode,o.Encoder=e("./encoder").Encoder,o.Decoder=e("./decoder").Decoder,o.createCodec=e("./ext").createCodec,o.codec=e("./codec").codec},{"./codec":18,"./decode":20,"./decoder":21,"./encode":23,"./encoder":24,"./ext":28}],10:[function(e,t,o){(function(e){function o(e){return e&&e.isBuffer&&e}t.exports=o(void 0!==e&&e)||o(this.Buffer)||o("undefined"!=typeof window&&window.Buffer)||this.Buffer}).call(this,e("buffer").Buffer)},{buffer:2}],11:[function(e,t,o){o.copy=function(e,t,o,n){var i;o||(o=0);n||0===n||(n=this.length);t||(t=0);var r=n-o;if(e===this&&o<t&&t<n)for(i=r-1;i>=0;i--)e[i+t]=this[i+o];else for(i=0;i<r;i++)e[i+t]=this[i+o];return r},o.toString=function(e,t,o){var n=0|t;o||(o=this.length);var i="",r=0;for(;n<o;)(r=this[n++])<128?i+=String.fromCharCode(r):(192==(224&r)?r=(31&r)<<6|63&this[n++]:224==(240&r)?r=(15&r)<<12|(63&this[n++])<<6|63&this[n++]:240==(248&r)&&(r=(7&r)<<18|(63&this[n++])<<12|(63&this[n++])<<6|63&this[n++]),r>=65536?(r-=65536,i+=String.fromCharCode(55296+(r>>>10),56320+(1023&r))):i+=String.fromCharCode(r));return i},o.write=function(e,t){var o=t||(t|=0),n=e.length,i=0,r=0;for(;r<n;)(i=e.charCodeAt(r++))<128?this[o++]=i:i<2048?(this[o++]=192|i>>>6,this[o++]=128|63&i):i<55296||i>57343?(this[o++]=224|i>>>12,this[o++]=128|i>>>6&63,this[o++]=128|63&i):(i=65536+(i-55296<<10|e.charCodeAt(r++)-56320),this[o++]=240|i>>>18,this[o++]=128|i>>>12&63,this[o++]=128|i>>>6&63,this[o++]=128|63&i);return o-t}},{}],12:[function(e,t,o){var n=e("./bufferish");function i(e){return new Array(e)}(o=t.exports=i(0)).alloc=i,o.concat=n.concat,o.from=function(e){if(!n.isBuffer(e)&&n.isView(e))e=n.Uint8Array.from(e);else if(n.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return n.from.call(o,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(e)}},{"./bufferish":16}],13:[function(e,t,o){var n=e("./bufferish"),i=n.global;function r(e){return new i(e)}(o=t.exports=n.hasBuffer?r(0):[]).alloc=n.hasBuffer&&i.alloc||r,o.concat=n.concat,o.from=function(e){if(!n.isBuffer(e)&&n.isView(e))e=n.Uint8Array.from(e);else if(n.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return n.from.call(o,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return i.from&&1!==i.from.length?i.from(e):new i(e)}},{"./bufferish":16}],14:[function(e,t,o){var n=e("./buffer-lite");o.copy=c,o.slice=l,o.toString=function(e,t,o){return(!a&&i.isBuffer(this)?this.toString:n.toString).apply(this,arguments)},o.write=function(e){return function(){return(this[e]||n[e]).apply(this,arguments)}}("write");var i=e("./bufferish"),r=i.global,a=i.hasBuffer&&"TYPED_ARRAY_SUPPORT"in r,s=a&&!r.TYPED_ARRAY_SUPPORT;function c(e,t,o,r){var a=i.isBuffer(this),c=i.isBuffer(e);if(a&&c)return this.copy(e,t,o,r);if(s||a||c||!i.isView(this)||!i.isView(e))return n.copy.call(this,e,t,o,r);var u=o||null!=r?l.call(this,o,r):this;return e.set(u,t),u.length}function l(e,t){var o=this.slice||!s&&this.subarray;if(o)return o.call(this,e,t);var n=i.alloc.call(this,t-e);return c.call(this,n,0,e,t),n}},{"./buffer-lite":11,"./bufferish":16}],15:[function(e,t,o){var n=e("./bufferish");function i(e){return new Uint8Array(e)}(o=t.exports=n.hasArrayBuffer?i(0):[]).alloc=i,o.concat=n.concat,o.from=function(e){if(n.isView(e)){var t=e.byteOffset,i=e.byteLength;(e=e.buffer).byteLength!==i&&(e.slice?e=e.slice(t,t+i):(e=new Uint8Array(e)).byteLength!==i&&(e=Array.prototype.slice.call(e,t,t+i)))}else{if("string"==typeof e)return n.from.call(o,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(e)}},{"./bufferish":16}],16:[function(e,t,o){var n=o.global=e("./buffer-global"),i=o.hasBuffer=n&&!!n.isBuffer,r=o.hasArrayBuffer="undefined"!=typeof ArrayBuffer,a=o.isArray=e("isarray");o.isArrayBuffer=r?function(e){return e instanceof ArrayBuffer||m(e)}:y;var s=o.isBuffer=i?n.isBuffer:y,c=o.isView=r?ArrayBuffer.isView||_("ArrayBuffer","buffer"):y;o.alloc=h,o.concat=function(e,t){t||(t=0,Array.prototype.forEach.call(e,function(e){t+=e.length}));var n=this!==o&&this||e[0],i=h.call(n,t),r=0;return Array.prototype.forEach.call(e,function(e){r+=d.copy.call(e,i,r)}),i},o.from=function(e){return"string"==typeof e?f.call(this,e):g(this).from(e)};var l=o.Array=e("./bufferish-array"),u=o.Buffer=e("./bufferish-buffer"),p=o.Uint8Array=e("./bufferish-uint8array"),d=o.prototype=e("./bufferish-proto");function h(e){return g(this).alloc(e)}var m=_("ArrayBuffer");function f(e){var t=3*e.length,o=h.call(this,t),n=d.write.call(o,e);return t!==n&&(o=d.slice.call(o,0,n)),o}function g(e){return s(e)?u:c(e)?p:a(e)?l:i?u:r?p:l}function y(){return!1}function _(e,t){return e="[object "+e+"]",function(o){return null!=o&&{}.toString.call(t?o[t]:o)===e}}},{"./buffer-global":10,"./bufferish-array":12,"./bufferish-buffer":13,"./bufferish-proto":14,"./bufferish-uint8array":15,isarray:8}],17:[function(e,t,o){var n=e("isarray");o.createCodec=c,o.install=function(e){for(var t in e)r.prototype[t]=a(r.prototype[t],e[t])},o.filter=function(e){return n(e)?s(e):e};var i=e("./bufferish");function r(e){if(!(this instanceof r))return new r(e);this.options=e,this.init()}function a(e,t){return e&&t?function(){return e.apply(this,arguments),t.apply(this,arguments)}:e||t}function s(e){return e=e.slice(),function(o){return e.reduce(t,o)};function t(e,t){return t(e)}}function c(e){return new r(e)}r.prototype.init=function(){var e=this.options;return e&&e.uint8array&&(this.bufferish=i.Uint8Array),this},o.preset=c({preset:!0})},{"./bufferish":16,isarray:8}],18:[function(e,t,o){e("./read-core"),e("./write-core"),o.codec={preset:e("./codec-base").preset}},{"./codec-base":17,"./read-core":30,"./write-core":33}],19:[function(e,t,o){o.DecodeBuffer=i;var n=e("./read-core").preset;function i(e){if(!(this instanceof i))return new i(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}e("./flex-buffer").FlexDecoder.mixin(i.prototype),i.prototype.codec=n,i.prototype.fetch=function(){return this.codec.decode(this)}},{"./flex-buffer":29,"./read-core":30}],20:[function(e,t,o){o.decode=function(e,t){var o=new n(t);return o.write(e),o.read()};var n=e("./decode-buffer").DecodeBuffer},{"./decode-buffer":19}],21:[function(e,t,o){o.Decoder=r;var n=e("event-lite"),i=e("./decode-buffer").DecodeBuffer;function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}r.prototype=new i,n.mixin(r.prototype),r.prototype.decode=function(e){arguments.length&&this.write(e),this.flush()},r.prototype.push=function(e){this.emit("data",e)},r.prototype.end=function(e){this.decode(e),this.emit("end")}},{"./decode-buffer":19,"event-lite":5}],22:[function(e,t,o){o.EncodeBuffer=i;var n=e("./write-core").preset;function i(e){if(!(this instanceof i))return new i(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}e("./flex-buffer").FlexEncoder.mixin(i.prototype),i.prototype.codec=n,i.prototype.write=function(e){this.codec.encode(this,e)}},{"./flex-buffer":29,"./write-core":33}],23:[function(e,t,o){o.encode=function(e,t){var o=new n(t);return o.write(e),o.read()};var n=e("./encode-buffer").EncodeBuffer},{"./encode-buffer":22}],24:[function(e,t,o){o.Encoder=r;var n=e("event-lite"),i=e("./encode-buffer").EncodeBuffer;function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}r.prototype=new i,n.mixin(r.prototype),r.prototype.encode=function(e){this.write(e),this.emit("data",this.read())},r.prototype.end=function(e){arguments.length&&this.encode(e),this.flush(),this.emit("end")}},{"./encode-buffer":22,"event-lite":5}],25:[function(e,t,o){o.ExtBuffer=function e(t,o){if(!(this instanceof e))return new e(t,o);this.buffer=n.from(t);this.type=o};var n=e("./bufferish")},{"./bufferish":16}],26:[function(e,t,o){o.setExtPackers=function(e){e.addExtPacker(14,Error,[p,c]),e.addExtPacker(1,EvalError,[p,c]),e.addExtPacker(2,RangeError,[p,c]),e.addExtPacker(3,ReferenceError,[p,c]),e.addExtPacker(4,SyntaxError,[p,c]),e.addExtPacker(5,TypeError,[p,c]),e.addExtPacker(6,URIError,[p,c]),e.addExtPacker(10,RegExp,[u,c]),e.addExtPacker(11,Boolean,[l,c]),e.addExtPacker(12,String,[l,c]),e.addExtPacker(13,Date,[Number,c]),e.addExtPacker(15,Number,[l,c]),"undefined"!=typeof Uint8Array&&(e.addExtPacker(17,Int8Array,a),e.addExtPacker(18,Uint8Array,a),e.addExtPacker(19,Int16Array,a),e.addExtPacker(20,Uint16Array,a),e.addExtPacker(21,Int32Array,a),e.addExtPacker(22,Uint32Array,a),e.addExtPacker(23,Float32Array,a),"undefined"!=typeof Float64Array&&e.addExtPacker(24,Float64Array,a),"undefined"!=typeof Uint8ClampedArray&&e.addExtPacker(25,Uint8ClampedArray,a),e.addExtPacker(26,ArrayBuffer,a),e.addExtPacker(29,DataView,a));i.hasBuffer&&e.addExtPacker(27,r,i.from)};var n,i=e("./bufferish"),r=i.global,a=i.Uint8Array.from,s={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function c(t){return n||(n=e("./encode").encode),n(t)}function l(e){return e.valueOf()}function u(e){(e=RegExp.prototype.toString.call(e).split("/")).shift();var t=[e.pop()];return t.unshift(e.join("/")),t}function p(e){var t={};for(var o in s)t[o]=e[o];return t}},{"./bufferish":16,"./encode":23}],27:[function(e,t,o){o.setExtUnpackers=function(e){e.addExtUnpacker(14,[s,l(Error)]),e.addExtUnpacker(1,[s,l(EvalError)]),e.addExtUnpacker(2,[s,l(RangeError)]),e.addExtUnpacker(3,[s,l(ReferenceError)]),e.addExtUnpacker(4,[s,l(SyntaxError)]),e.addExtUnpacker(5,[s,l(TypeError)]),e.addExtUnpacker(6,[s,l(URIError)]),e.addExtUnpacker(10,[s,c]),e.addExtUnpacker(11,[s,u(Boolean)]),e.addExtUnpacker(12,[s,u(String)]),e.addExtUnpacker(13,[s,u(Date)]),e.addExtUnpacker(15,[s,u(Number)]),"undefined"!=typeof Uint8Array&&(e.addExtUnpacker(17,u(Int8Array)),e.addExtUnpacker(18,u(Uint8Array)),e.addExtUnpacker(19,[p,u(Int16Array)]),e.addExtUnpacker(20,[p,u(Uint16Array)]),e.addExtUnpacker(21,[p,u(Int32Array)]),e.addExtUnpacker(22,[p,u(Uint32Array)]),e.addExtUnpacker(23,[p,u(Float32Array)]),"undefined"!=typeof Float64Array&&e.addExtUnpacker(24,[p,u(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&e.addExtUnpacker(25,u(Uint8ClampedArray)),e.addExtUnpacker(26,p),e.addExtUnpacker(29,[p,u(DataView)]));i.hasBuffer&&e.addExtUnpacker(27,u(r))};var n,i=e("./bufferish"),r=i.global,a={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function s(t){return n||(n=e("./decode").decode),n(t)}function c(e){return RegExp.apply(null,e)}function l(e){return function(t){var o=new e;for(var n in a)o[n]=t[n];return o}}function u(e){return function(t){return new e(t)}}function p(e){return new Uint8Array(e).buffer}},{"./bufferish":16,"./decode":20}],28:[function(e,t,o){e("./read-core"),e("./write-core"),o.createCodec=e("./codec-base").createCodec},{"./codec-base":17,"./read-core":30,"./write-core":33}],29:[function(e,t,o){o.FlexDecoder=s,o.FlexEncoder=c;var n=e("./bufferish"),i=2048,r=65536,a="BUFFER_SHORTAGE";function s(){if(!(this instanceof s))return new s}function c(){if(!(this instanceof c))return new c}function l(){throw new Error("method not implemented: write()")}function u(){throw new Error("method not implemented: fetch()")}function p(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function d(e){(this.buffers||(this.buffers=[])).push(e)}function h(){return(this.buffers||(this.buffers=[])).shift()}function m(e){return function(t){for(var o in e)t[o]=e[o];return t}}s.mixin=m(function(){return{bufferish:n,write:function(e){var t=this.offset?n.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=t?e?this.bufferish.concat([t,e]):t:e,this.offset=0},fetch:u,flush:function(){for(;this.offset<this.buffer.length;){var e,t=this.offset;try{e=this.fetch()}catch(e){if(e&&e.message!=a)throw e;this.offset=t;break}this.push(e)}},push:d,pull:h,read:p,reserve:function(e){var t=this.offset,o=t+e;if(o>this.buffer.length)throw new Error(a);return this.offset=o,t},offset:0}}()),s.mixin(s.prototype),c.mixin=m(function(){return{bufferish:n,write:l,fetch:function(){var e=this.start;if(e<this.offset){var t=this.start=this.offset;return n.prototype.slice.call(this.buffer,e,t)}},flush:function(){for(;this.start<this.offset;){var e=this.fetch();e&&this.push(e)}},push:d,pull:function(){var e=this.buffers||(this.buffers=[]),t=e.length>1?this.bufferish.concat(e):e[0];return e.length=0,t},read:p,reserve:function(e){var t=0|e;if(this.buffer){var o=this.buffer.length,n=0|this.offset,i=n+t;if(i<o)return this.offset=i,n;this.flush(),e=Math.max(e,Math.min(2*o,this.maxBufferSize))}return e=Math.max(e,this.minBufferSize),this.buffer=this.bufferish.alloc(e),this.start=0,this.offset=t,0},send:function(e){var t=e.length;if(t>this.minBufferSize)this.flush(),this.push(e);else{var o=this.reserve(t);n.prototype.copy.call(e,this.buffer,o)}},maxBufferSize:r,minBufferSize:i,offset:0,start:0}}()),c.mixin(c.prototype)},{"./bufferish":16}],30:[function(e,t,o){var n=e("./ext-buffer").ExtBuffer,i=e("./ext-unpacker"),r=e("./read-format").readUint8,a=e("./read-token"),s=e("./codec-base");function c(e){var t=a.getReadToken(e);return function(e){var o=r(e),n=t[o];if(!n)throw new Error("Invalid type: "+(o?"0x"+o.toString(16):o));return n(e)}}function l(){var e=this.options;return this.decode=c(e),e&&e.preset&&i.setExtUnpackers(this),this}s.install({addExtUnpacker:function(e,t){(this.extUnpackers||(this.extUnpackers=[]))[e]=s.filter(t)},getExtUnpacker:function(e){return(this.extUnpackers||(this.extUnpackers=[]))[e]||function(t){return new n(t,e)}},init:l}),o.preset=l.call(s.preset)},{"./codec-base":17,"./ext-buffer":25,"./ext-unpacker":27,"./read-format":31,"./read-token":32}],31:[function(e,t,o){var n=e("ieee754"),i=e("int64-buffer"),r=i.Uint64BE,a=i.Int64BE;o.getReadFormat=function(e){var t=s.hasArrayBuffer&&e&&e.binarraybuffer,o=e&&e.int64;return{map:l&&e&&e.usemap?d:p,array:h,str:m,bin:t?g:f,ext:y,uint8:_,uint16:b,uint32:E,uint64:I(8,o?k:A),int8:v,int16:S,int32:C,int64:I(8,o?T:w),float32:I(4,N),float64:I(8,R)}},o.readUint8=_;var s=e("./bufferish"),c=e("./bufferish-proto"),l="undefined"!=typeof Map,u=!0;function p(e,t){var o,n={},i=new Array(t),r=new Array(t),a=e.codec.decode;for(o=0;o<t;o++)i[o]=a(e),r[o]=a(e);for(o=0;o<t;o++)n[i[o]]=r[o];return n}function d(e,t){var o,n=new Map,i=new Array(t),r=new Array(t),a=e.codec.decode;for(o=0;o<t;o++)i[o]=a(e),r[o]=a(e);for(o=0;o<t;o++)n.set(i[o],r[o]);return n}function h(e,t){for(var o=new Array(t),n=e.codec.decode,i=0;i<t;i++)o[i]=n(e);return o}function m(e,t){var o=e.reserve(t),n=o+t;return c.toString.call(e.buffer,"utf-8",o,n)}function f(e,t){var o=e.reserve(t),n=o+t,i=c.slice.call(e.buffer,o,n);return s.from(i)}function g(e,t){var o=e.reserve(t),n=o+t,i=c.slice.call(e.buffer,o,n);return s.Uint8Array.from(i).buffer}function y(e,t){var o=e.reserve(t+1),n=e.buffer[o++],i=o+t,r=e.codec.getExtUnpacker(n);if(!r)throw new Error("Invalid ext type: "+(n?"0x"+n.toString(16):n));return r(c.slice.call(e.buffer,o,i))}function _(e){var t=e.reserve(1);return e.buffer[t]}function v(e){var t=e.reserve(1),o=e.buffer[t];return 128&o?o-256:o}function b(e){var t=e.reserve(2),o=e.buffer;return o[t++]<<8|o[t]}function S(e){var t=e.reserve(2),o=e.buffer,n=o[t++]<<8|o[t];return 32768&n?n-65536:n}function E(e){var t=e.reserve(4),o=e.buffer;return 16777216*o[t++]+(o[t++]<<16)+(o[t++]<<8)+o[t]}function C(e){var t=e.reserve(4),o=e.buffer;return o[t++]<<24|o[t++]<<16|o[t++]<<8|o[t]}function I(e,t){return function(o){var n=o.reserve(e);return t.call(o.buffer,n,u)}}function A(e){return new r(this,e).toNumber()}function w(e){return new a(this,e).toNumber()}function k(e){return new r(this,e)}function T(e){return new a(this,e)}function N(e){return n.read(this,e,!1,23,4)}function R(e){return n.read(this,e,!1,52,8)}},{"./bufferish":16,"./bufferish-proto":14,ieee754:6,"int64-buffer":7}],32:[function(e,t,o){var n=e("./read-format");function i(e){var t,o=new Array(256);for(t=0;t<=127;t++)o[t]=a(t);for(t=128;t<=143;t++)o[t]=c(t-128,e.map);for(t=144;t<=159;t++)o[t]=c(t-144,e.array);for(t=160;t<=191;t++)o[t]=c(t-160,e.str);for(o[192]=a(null),o[193]=null,o[194]=a(!1),o[195]=a(!0),o[196]=s(e.uint8,e.bin),o[197]=s(e.uint16,e.bin),o[198]=s(e.uint32,e.bin),o[199]=s(e.uint8,e.ext),o[200]=s(e.uint16,e.ext),o[201]=s(e.uint32,e.ext),o[202]=e.float32,o[203]=e.float64,o[204]=e.uint8,o[205]=e.uint16,o[206]=e.uint32,o[207]=e.uint64,o[208]=e.int8,o[209]=e.int16,o[210]=e.int32,o[211]=e.int64,o[212]=c(1,e.ext),o[213]=c(2,e.ext),o[214]=c(4,e.ext),o[215]=c(8,e.ext),o[216]=c(16,e.ext),o[217]=s(e.uint8,e.str),o[218]=s(e.uint16,e.str),o[219]=s(e.uint32,e.str),o[220]=s(e.uint16,e.array),o[221]=s(e.uint32,e.array),o[222]=s(e.uint16,e.map),o[223]=s(e.uint32,e.map),t=224;t<=255;t++)o[t]=a(t-256);return o}function r(e){var t,o=i(e).slice();for(o[217]=o[196],o[218]=o[197],o[219]=o[198],t=160;t<=191;t++)o[t]=c(t-160,e.bin);return o}function a(e){return function(){return e}}function s(e,t){return function(o){var n=e(o);return t(o,n)}}function c(e,t){return function(o){return t(o,e)}}o.getReadToken=function(e){var t=n.getReadFormat(e);return e&&e.useraw?r(t):i(t)}},{"./read-format":31}],33:[function(e,t,o){var n=e("./ext-buffer").ExtBuffer,i=e("./ext-packer"),r=e("./write-type"),a=e("./codec-base");function s(e){var t=r.getWriteType(e);return function(e,o){var n=t[typeof o];if(!n)throw new Error('Unsupported type "'+typeof o+'": '+o);n(e,o)}}function c(){var e=this.options;return this.encode=s(e),e&&e.preset&&i.setExtPackers(this),this}a.install({addExtPacker:function(e,t,o){o=a.filter(o);var i=t.name;if(i&&"Object"!==i){var r=this.extPackers||(this.extPackers={});r[i]=c}else{var s=this.extEncoderList||(this.extEncoderList=[]);s.unshift([t,c])}function c(t){return o&&(t=o(t)),new n(t,e)}},getExtPacker:function(e){var t=this.extPackers||(this.extPackers={}),o=e.constructor,n=o&&o.name&&t[o.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),r=i.length,a=0;a<r;a++){var s=i[a];if(o===s[0])return s[1]}},init:c}),o.preset=c.call(a.preset)},{"./codec-base":17,"./ext-buffer":25,"./ext-packer":26,"./write-type":35}],34:[function(e,t,o){var n=e("ieee754"),i=e("int64-buffer"),r=i.Uint64BE,a=i.Int64BE,s=e("./write-uint8").uint8,c=e("./bufferish"),l=c.global,u=c.hasBuffer&&"TYPED_ARRAY_SUPPORT"in l&&!l.TYPED_ARRAY_SUPPORT,p=c.hasBuffer&&l.prototype||{};function d(){var e=h();return e[202]=_(202,4,S),e[203]=_(203,8,E),e}function h(){var e=s.slice();return e[196]=f(196),e[197]=g(197),e[198]=y(198),e[199]=f(199),e[200]=g(200),e[201]=y(201),e[202]=_(202,4,p.writeFloatBE||S,!0),e[203]=_(203,8,p.writeDoubleBE||E,!0),e[204]=f(204),e[205]=g(205),e[206]=y(206),e[207]=_(207,8,v),e[208]=f(208),e[209]=g(209),e[210]=y(210),e[211]=_(211,8,b),e[217]=f(217),e[218]=g(218),e[219]=y(219),e[220]=g(220),e[221]=y(221),e[222]=g(222),e[223]=y(223),e}function m(){var e=s.slice();return e[196]=_(196,1,l.prototype.writeUInt8),e[197]=_(197,2,l.prototype.writeUInt16BE),e[198]=_(198,4,l.prototype.writeUInt32BE),e[199]=_(199,1,l.prototype.writeUInt8),e[200]=_(200,2,l.prototype.writeUInt16BE),e[201]=_(201,4,l.prototype.writeUInt32BE),e[202]=_(202,4,l.prototype.writeFloatBE),e[203]=_(203,8,l.prototype.writeDoubleBE),e[204]=_(204,1,l.prototype.writeUInt8),e[205]=_(205,2,l.prototype.writeUInt16BE),e[206]=_(206,4,l.prototype.writeUInt32BE),e[207]=_(207,8,v),e[208]=_(208,1,l.prototype.writeInt8),e[209]=_(209,2,l.prototype.writeInt16BE),e[210]=_(210,4,l.prototype.writeInt32BE),e[211]=_(211,8,b),e[217]=_(217,1,l.prototype.writeUInt8),e[218]=_(218,2,l.prototype.writeUInt16BE),e[219]=_(219,4,l.prototype.writeUInt32BE),e[220]=_(220,2,l.prototype.writeUInt16BE),e[221]=_(221,4,l.prototype.writeUInt32BE),e[222]=_(222,2,l.prototype.writeUInt16BE),e[223]=_(223,4,l.prototype.writeUInt32BE),e}function f(e){return function(t,o){var n=t.reserve(2),i=t.buffer;i[n++]=e,i[n]=o}}function g(e){return function(t,o){var n=t.reserve(3),i=t.buffer;i[n++]=e,i[n++]=o>>>8,i[n]=o}}function y(e){return function(t,o){var n=t.reserve(5),i=t.buffer;i[n++]=e,i[n++]=o>>>24,i[n++]=o>>>16,i[n++]=o>>>8,i[n]=o}}function _(e,t,o,n){return function(i,r){var a=i.reserve(t+1);i.buffer[a++]=e,o.call(i.buffer,r,a,n)}}function v(e,t){new r(this,t,e)}function b(e,t){new a(this,t,e)}function S(e,t){n.write(this,e,t,!1,23,4)}function E(e,t){n.write(this,e,t,!1,52,8)}o.getWriteToken=function(e){return e&&e.uint8array?d():u||c.hasBuffer&&e&&e.safe?m():h()}},{"./bufferish":16,"./write-uint8":36,ieee754:6,"int64-buffer":7}],35:[function(e,t,o){var n=e("isarray"),i=e("int64-buffer"),r=i.Uint64BE,a=i.Int64BE,s=e("./bufferish"),c=e("./bufferish-proto"),l=e("./write-token"),u=e("./write-uint8").uint8,p=e("./ext-buffer").ExtBuffer,d="undefined"!=typeof Uint8Array,h="undefined"!=typeof Map,m=[];m[1]=212,m[2]=213,m[4]=214,m[8]=215,m[16]=216,o.getWriteType=function(e){var t=l.getWriteToken(e),o=e&&e.useraw,i=d&&e&&e.binarraybuffer,f=i?s.isArrayBuffer:s.isBuffer,g=i?function(e,t){C(e,new Uint8Array(t))}:C,y=h&&e&&e.usemap?function(e,o){if(!(o instanceof Map))return A(e,o);var n=o.size;t[n<16?128+n:n<=65535?222:223](e,n);var i=e.codec.encode;o.forEach(function(t,o,n){i(e,o),i(e,t)})}:A;return{boolean:function(e,o){t[o?195:194](e,o)},function:S,number:function(e,o){var n,i=0|o;if(o!==i)return void t[n=203](e,o);n=-32<=i&&i<=127?255&i:0<=i?i<=255?204:i<=65535?205:206:-128<=i?208:-32768<=i?209:210;t[n](e,i)},object:o?function(e,t){if(f(t))return w(e,t);b(e,t)}:b,string:function(e){return function(o,n){var i=n.length,r=5+3*i;o.offset=o.reserve(r);var a=o.buffer,s=e(i),l=o.offset+s;i=c.write.call(a,n,l);var u=e(i);if(s!==u){var p=l+u-s,d=l+i;c.copy.call(a,a,p,l,d)}t[1===u?160+i:u<=3?215+u:219](o,i),o.offset+=i}}(o?function(e){return e<32?1:e<=65535?3:5}:function(e){return e<32?1:e<=255?2:e<=65535?3:5}),symbol:S,undefined:S};function _(e,o){t[207](e,o.toArray())}function v(e,o){t[211](e,o.toArray())}function b(e,t){if(null===t)return S(e,t);if(f(t))return g(e,t);if(n(t))return E(e,t);if(r.isUint64BE(t))return _(e,t);if(a.isInt64BE(t))return v(e,t);var o=e.codec.getExtPacker(t);if(o&&(t=o(t)),t instanceof p)return I(e,t);y(e,t)}function S(e,o){t[192](e,o)}function E(e,o){var n=o.length,i=n<16?144+n:n<=65535?220:221;t[i](e,n);for(var r=e.codec.encode,a=0;a<n;a++)r(e,o[a])}function C(e,o){var n=o.length,i=n<255?196:n<=65535?197:198;t[i](e,n),e.send(o)}function I(e,o){var n=o.buffer,i=n.length,r=m[i]||(i<255?199:i<=65535?200:201);t[r](e,i),u[o.type](e),e.send(n)}function A(e,o){var n=Object.keys(o),i=n.length,r=i<16?128+i:i<=65535?222:223;t[r](e,i);var a=e.codec.encode;n.forEach(function(t){a(e,t),a(e,o[t])})}function w(e,o){var n=o.length,i=n<32?160+n:n<=65535?218:219;t[i](e,n),e.send(o)}}},{"./bufferish":16,"./bufferish-proto":14,"./ext-buffer":25,"./write-token":34,"./write-uint8":36,"int64-buffer":7,isarray:8}],36:[function(e,t,o){for(var n=o.uint8=new Array(256),i=0;i<=255;i++)n[i]=r(i);function r(e){return function(t){var o=t.reserve(1);t.buffer[o]=e}}},{}],37:[function(e,t,o){var n=e("msgpack-lite"),i={codec:n.createCodec({binarraybuffer:!0,preset:!1})},r=function(e){if("#publish"==e.event&&null!=e.data){var t=[e.data.channel,e.data.data];null!=e.cid&&t.push(e.cid),e.p=t,delete e.event,delete e.data,delete e.cid}},a=function(e){null!=e.p&&(e.event="#publish",e.data={channel:e.p[0],data:e.p[1]},null!=e.p[2]&&(e.cid=e.p[2]),delete e.p)},s=function(e){null!=e.event&&(e.e=[e.event,e.data],null!=e.cid&&e.e.push(e.cid),delete e.event,delete e.data,delete e.cid)},c=function(e){null!=e.e&&(e.event=e.e[0],e.data=e.e[1],null!=e.e[2]&&(e.cid=e.e[2]),delete e.e)},l=function(e){null!=e.rid&&(e.r=[e.rid,e.error,e.data],delete e.rid,delete e.error,delete e.data)},u=function(e){null!=e.r&&(e.rid=e.r[0],e.error=e.r[1],e.data=e.r[2],delete e.r)},p=function(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t},d=function(e){return e=p(e),r(e),s(e),l(e),e},h=function(e){c(e),a(e),u(e)};t.exports.encode=function(e){if(e)if(Array.isArray(e))for(var t=e.length,o=0;o<t;o++)e[o]=d(e[o]);else null==e.event&&null==e.rid||(e=d(e));return n.encode(e,i)},t.exports.decode=function(e){e=new Uint8Array(e);var t=n.decode(e,i);if(Array.isArray(t))for(var o=t.length,r=0;r<o;r++)h(t[r]);else h(t);return t}},{"msgpack-lite":9}],AccumulatedBar1:[function(e,t,o){"use strict";cc._RF.push(t,"70436sroTRDw6DUOZ0pjarm","AccumulatedBar1"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Components/AccumulatedBar"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../scripts/Components/AccumulatedBar":"AccumulatedBar"}],AccumulatedBar2:[function(e,t,o){"use strict";cc._RF.push(t,"2400bjcxatI3aMiaRjnFYPJ","AccumulatedBar2"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Components/AccumulatedBar"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../scripts/Components/AccumulatedBar":"AccumulatedBar"}],AccumulatedBar:[function(e,t,o){"use strict";cc._RF.push(t,"d943fjlle1CPIHPsnhlogIb","AccumulatedBar"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=cc._decorator,r=i.ccclass,a=i.property;(function(e){e[e.BAR=1]="BAR",e[e.CIRCLE=2]="CIRCLE"})(n=o.EType||(o.EType={}));var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bar=null,t.lbPercent=null,t.type=n.BAR,t.maxLength=0,t.minLength=0,t.progress=1,t.lerpRatio=10,t.fps=30,t.loop=!1,t.listenner=void 0,t.loopListenner=void 0,t.nodeTail=void 0,t.maskTail=void 0,t._tempProgress=0,t._tempSetTimeout=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.updateProgress(0),this.type==n.CIRCLE&&(this.maskTail=this.bar.getChildByName("tail"),this.maskTail&&(this.nodeTail=this.maskTail.getChildByName("tail")))},t.prototype.setProgress=function(e,t){return void 0===t&&(t=!0),__awaiter(this,void 0,void 0,function(){var o=this;return __generator(this,function(n){switch(n.label){case 0:return t?this.loop?[3,1]:(this.updateProgress(e),[3,4]):[3,5];case 1:return e<this.progress?(this.updateProgress(1),[4,new Promise(function(e,t){o.lerpRatio=50,o.loopListenner=function(t){1===t&&e()}})]):[3,3];case 2:n.sent(),this&&this.node&&this._tempProgress&&this.updateLength&&(this.lerpRatio=10,this._tempProgress=0,this.updateLength()),n.label=3;case 3:this&&this.node&&this.updateProgress&&this.updateProgress(e),n.label=4;case 4:return[3,6];case 5:this.progress=e,this._tempProgress=e,this.updateLength(),n.label=6;case 6:return[2]}})})},t.prototype.updateProgress=function(e){var t=this;if(null!=e&&(e>1&&(e=1),e<0&&(e=0),this.progress=e),this.updateLength(),Math.abs(this.progress-this._tempProgress)<.004)return this._tempProgress=this.progress,1==this._tempProgress&&this.type==n.CIRCLE&&!this.loop&&this.nodeTail&&(this.nodeTail.stopAllActions(),this.nodeTail.runAction(cc.repeatForever(cc.sequence(cc.rotateBy(.7,360).easing(cc.easeCubicActionOut()),cc.delayTime(.4))))),!0;var o=this.progress-this._tempProgress;-1!=this.lerpRatio?this._tempProgress=o*this.lerpRatio/10/this.fps+this._tempProgress:this._tempProgress+=.2*(this.progress-this._tempProgress),this.node.runAction(cc.sequence(cc.delayTime(1/this.fps),cc.callFunc(function(){t.updateProgress(),t.lbPercent&&(t.lbPercent.string=(100*t._tempProgress).toFixed(0)+"%"),t.listenner&&t.listenner(100*t._tempProgress),t.loopListenner&&t.loopListenner(t._tempProgress)})))},t.prototype.setListener=function(e){this.listenner=e},t.prototype.onDestroy=function(){},t.prototype.updateLength=function(){this.type===n.BAR?this.bar.width=(this.maxLength-this.minLength)*this._tempProgress+this.minLength:this.type===n.CIRCLE&&(this.bar.getComponent(cc.Sprite).fillRange=-this._tempProgress,this.maskTail&&(this.nodeTail.getNumberOfRunningActions()&&this.nodeTail.stopAllActions(),this._tempProgress<.4?this.maskTail.setContentSize(cc.size(.5*this.bar.width,this.bar.height)):this._tempProgress>=.4&&this.maskTail.setContentSize(cc.size(0,0))),this.maskTail&&this.nodeTail&&(this.nodeTail.rotation=360*this._tempProgress+5))},__decorate([a(cc.Node)],t.prototype,"bar",void 0),__decorate([a(cc.Label)],t.prototype,"lbPercent",void 0),__decorate([a({type:cc.Enum(n)})],t.prototype,"type",void 0),__decorate([a(cc.Float)],t.prototype,"maxLength",void 0),__decorate([a(cc.Float)],t.prototype,"minLength",void 0),__decorate([a({type:cc.Float,min:0,max:1,slide:!0})],t.prototype,"progress",void 0),__decorate([a(cc.Integer)],t.prototype,"lerpRatio",void 0),__decorate([a(cc.Integer)],t.prototype,"fps",void 0),__decorate([a(cc.Boolean)],t.prototype,"loop",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],AndroidAdmob:[function(e,t,o){"use strict";cc._RF.push(t,"5d46851zJRPi7E2wa+NDVIh","AndroidAdmob"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="AndroidAdmob",this.isBannerShow=!1}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){game.log(this.tag,"admob","init");var t=sdkbox.PluginAdMob;t.setListener({adViewDidReceiveAd:function(t){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.DIDRECEIVEAD,name:t})},adViewDidFailToReceiveAdWithError:function(t,o){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.DIDFAILTORECEIVEADWITHERROR,name:t,msg:o})},adViewWillPresentScreen:function(t){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.WILLPRESENTSCREEN,name:t})},adViewDidDismissScreen:function(t){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.DIDDISMISSSCREEN,name:t})},adViewWillDismissScreen:function(t){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.WILLDISMISSSCREEN,name:t})},adViewWillLeaveApplication:function(t){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.WILLLEAVEAPPLICATION,name:t})},reward:function(t,o,n){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.REWARD,name:t,currency:o,amount:n})}}),t.init()},e.prototype.cache=function(){game.log(this.tag,"admob","cache"),sdkbox.PluginAdMob.cache("banner"),sdkbox.PluginAdMob.cache("interstitial"),sdkbox.PluginAdMob.cache("rewarded")},e.prototype.showBanner=function(){game.log(this.tag,"admob","show banner"),sdkbox.PluginAdMob.show("banner"),this.isBannerShow=!0},e.prototype.hideBanner=function(){game.log(this.tag,"admob","hide banner"),sdkbox.PluginAdMob.hide("banner"),this.isBannerShow=!1},e.prototype.getBannerHeight=function(){var e=0;return this.isBannerShow&&(e=sdkbox.PluginAdMob.getCurrBannerHeightInPixel("banner")),game.log(this.tag,"admob","get banner banner height",e),e},e.prototype.getBannerWidth=function(){var e=sdkbox.PluginAdMob.getCurrBannerWidthInPixel("banner");return game.log(this.tag,"admob","get banner banner width",e),e},e.prototype.isShowBanner=function(){var e=this.isBannerShow;return game.log(this.tag,"admob","is show banner",e),e},e.prototype.isAvailableBanner=function(){var e=sdkbox.PluginAdMob.isAvailable("banner");return game.log(this.tag,"admob","is avaiable banner",e),e},e.prototype.showInterstitial=function(){game.log(this.tag,"admob","show interstitial"),sdkbox.PluginAdMob.show("interstitial")},e.prototype.isAvailableInterstitial=function(){var e=sdkbox.PluginAdMob.isAvailable("interstitial");return game.log(this.tag,"admob","is avaiable interstitial",e),e},e.prototype.showRewarded=function(){game.log(this.tag,"admob","show rewarded"),sdkbox.PluginAdMob.show("rewarded")},e.prototype.isAvailableRewarded=function(){var e=sdkbox.PluginAdMob.isAvailable("rewarded");return game.log(this.tag,"admob","is avaiable rewarded",e),e},e.prototype.listenner=function(e){e&&e.name&&("banner"===e.name?this.bannerListenner(e):"interstitial"===e.name?this.interstitialListenner(e):"rewarded"===e.name&&this.rewardedListenner(e))},e.prototype.bannerListenner=function(e){if(e&&e.type)switch(e.type){case define.type.ADMOB_LISTENNER.DIDRECEIVEAD:game.log(this.tag,"banner listenner","DIDRECEIVEAD");break;case define.type.ADMOB_LISTENNER.DIDFAILTORECEIVEADWITHERROR:game.log(this.tag,"banner listenner","DIDFAILTORECEIVEADWITHERROR");break;case define.type.ADMOB_LISTENNER.WILLPRESENTSCREEN:game.log(this.tag,"banner listenner","WILLPRESENTSCREEN");break;case define.type.ADMOB_LISTENNER.DIDDISMISSSCREEN:game.log(this.tag,"banner listenner","DIDDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLDISMISSSCREEN:game.log(this.tag,"banner listenner","WILLDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLLEAVEAPPLICATION:game.log(this.tag,"banner listenner","WILLLEAVEAPPLICATION");break;case define.type.ADMOB_LISTENNER.REWARD:game.log(this.tag,"banner listenner","REWARD");break;default:game.log(this.tag,"banner listenner","UKNOW")}},e.prototype.interstitialListenner=function(e){if(e&&e.type)switch(e.type){case define.type.ADMOB_LISTENNER.DIDRECEIVEAD:game.log(this.tag,"interstitial listenner","DIDRECEIVEAD");break;case define.type.ADMOB_LISTENNER.DIDFAILTORECEIVEADWITHERROR:game.log(this.tag,"interstitial listenner","DIDFAILTORECEIVEADWITHERROR");break;case define.type.ADMOB_LISTENNER.WILLPRESENTSCREEN:game.log(this.tag,"interstitial listenner","WILLPRESENTSCREEN");break;case define.type.ADMOB_LISTENNER.DIDDISMISSSCREEN:game.log(this.tag,"interstitial listenner","DIDDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLDISMISSSCREEN:game.log(this.tag,"interstitial listenner","WILLDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLLEAVEAPPLICATION:game.log(this.tag,"interstitial listenner","WILLLEAVEAPPLICATION");break;case define.type.ADMOB_LISTENNER.REWARD:game.log(this.tag,"interstitial listenner","REWARD");break;default:game.log(this.tag,"interstitial listenner","UKNOW")}},e.prototype.rewardedListenner=function(e){if(e&&e.type)switch(e.type){case define.type.ADMOB_LISTENNER.DIDRECEIVEAD:game.log(this.tag,"rewarded listenner","DIDRECEIVEAD");break;case define.type.ADMOB_LISTENNER.DIDFAILTORECEIVEADWITHERROR:game.log(this.tag,"rewarded listenner","DIDFAILTORECEIVEADWITHERROR");break;case define.type.ADMOB_LISTENNER.WILLPRESENTSCREEN:game.log(this.tag,"rewarded listenner","WILLPRESENTSCREEN");break;case define.type.ADMOB_LISTENNER.DIDDISMISSSCREEN:game.log(this.tag,"rewarded listenner","DIDDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLDISMISSSCREEN:game.log(this.tag,"rewarded listenner","WILLDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLLEAVEAPPLICATION:game.log(this.tag,"rewarded listenner","WILLLEAVEAPPLICATION");break;case define.type.ADMOB_LISTENNER.REWARD:game.log(this.tag,"rewarded listenner","REWARD");break;default:game.log(this.tag,"rewarded listenner","UKNOW")}},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],AndroidFacebook:[function(e,t,o){"use strict";cc._RF.push(t,"d798b1Ca29DtajfzxSu6ujS","AndroidFacebook"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="AndroidFacebook",this.loginCallback=void 0}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){return game.log(this.tag,"facebook","init"),!!sdkbox&&(!!sdkbox.PluginFacebook&&(sdkbox.PluginFacebook.setListener({onLogin:function(t,o){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.LOGIN,isLogin:t,msg:o})},onAPI:function(t,o){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.API,tag:t,data:o})},onSharedSuccess:function(t){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.SHARED_SUCCESS,data:t})},onSharedFailed:function(t){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.SHARED_FAILED,data:t})},onSharedCancel:function(){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.SHARED_CANCEL})},onPermission:function(t,o){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.PERMISSON,isLogin:t,msg:o})}}),sdkbox.PluginFacebook.init(),!0))},e.prototype.login=function(){var e=this;return game.log(this.tag,"facebook","login"),tracking.send(tracking.event.FACEBOOK_LOGIN_CLICK),new Promise(function(t,o){sdkbox&&sdkbox.PluginFacebook?(sdkbox.PluginFacebook.requestReadPermissions(["public_profile","email"]),sdkbox.PluginFacebook.login()):(game.log(e.tag,"login facebook: sdkbox or plugin null"),o()),e.loginCallback=function(){t(platform.facebook.getAccessToken())}})},e.prototype.logout=function(){game.log(this.tag,"facebook","logout"),sdkbox&&sdkbox.PluginFacebook?sdkbox.PluginFacebook.logout():game.log("login facebook: sdkbox or plugin null")},e.prototype.isLoggedIn=function(){if(sdkbox&&sdkbox.PluginFacebook){var e=sdkbox.PluginFacebook.isLoggedIn();return game.log(this.tag,"facebook","is loggedin",e),e}game.log("login facebook: sdkbox or plugin null")},e.prototype.getUserID=function(){if(sdkbox&&sdkbox.PluginFacebook){var e=sdkbox.PluginFacebook.getUserID();return game.log(this.tag,"facebook","userId: ",e),e}game.log("login facebook: sdkbox or plugin null")},e.prototype.getAccessToken=function(){if(sdkbox&&sdkbox.PluginFacebook){var e=sdkbox.PluginFacebook.getAccessToken();return game.log(this.tag,"facebook","userId: ",e),e}game.log("login facebook: sdkbox or plugin null")},e.prototype.shareHandle=function(e){if(e&&e.type){game.log(this.tag,"facebook","share handle",e),tracking.send(tracking.event.FACEBOOK_SHARE_CLICK);var t=e;sdkbox.PluginFacebook.dialog(t)}},e.prototype.share=function(e){e&&this.shareHandle(__assign({type:"link"},e))},e.prototype.sharePhoto=function(e){e&&this.shareHandle(__assign({type:"photo"},e))},e.prototype.sendLogEvent=function(e,t){game.log(this.tag,"facebook","send log event",e,t),void 0===t?sdkbox.PluginFacebook.logEvent(e):sdkbox.PluginFacebook.logEvent(e,t)},e.prototype.sendLogPurchase=function(e,t){game.log(this.tag,"facebook","send log purchase",e,t),sdkbox.PluginFacebook.logPurchase(e,t)},e.prototype.openGroup=function(){game.warn(this.tag,"openGroup method not implemented.")},e.prototype.openFanpage=function(){game.warn(this.tag,"openFanpage method not implemented.")},e.prototype.listenner=function(e){var t=this;if(e&&e.type)switch(e.type){case define.type.FACEBOOK_LISTENNER.LOGIN:game.log(this.tag,"facebook listenner","LOGIN","isLogin: "+e.isLogin+" - msg: "+e.msg);var o=cc.sys.localStorage.getItem(define.key.local.LOGIN_DATA.replace("IP",api.HOST))||JSON.stringify({expires:void 0,token:"",type:0,uid:0}),n=JSON.parse(o);game.log("IOSFacebook","listenner",JSON.stringify(n)),n.type!==define.type.LOGIN_TYPE.FACEBOOK?api.sendGD({e:"connectFB",accessToken:platform.facebook.getAccessToken()},function(e,o){if(game.log("IOSFacebook","send connect facebook",JSON.stringify(e),JSON.stringify(o)),e)return game.error(e);var n=function(e){api.getToken({type:define.type.LOGIN_TYPE.FACEBOOK,data:platform.facebook.getAccessToken()}).then(function(t){var o={expires:t.expires,token:t.token,type:define.type.LOGIN_TYPE.FACEBOOK,uid:t.uid};cc.sys.localStorage.setItem(define.key.local.LOGIN_DATA.replace("IP",api.HOST),JSON.stringify(o)),e&&e()})};switch(o.code){case 402:game.log(t.tag,"Login FB success","need merge facebook",o),controller.ui.showDialog({title:"Account already exists",name:"facebook_accout_exists",message:{message:o.message},buttons:[{title:"Cancel",theme:define.type.CLASS_THEME.DANGER},{title:"OK",theme:define.type.CLASS_THEME.SUCCESS,callback:function(){api.sendGD({e:"confirmMergeFB",uid:game.user.id},function(e,o){if(e)return game.error(e);"success"===o?(game.log(t.tag,"Login FB success","merge facebook success"),n(function(){cc.game.restart()})):game.error("Cai nay chua lam")})}},{title:"Another\nAccount",theme:define.type.CLASS_THEME.SUCCESS,callback:function(){t.logout(),t.login()}}]});break;case 401:game.log(t.tag,"Login FB success","facebook loged"),controller.ui.showDialog({title:"Alert",name:"facebook_accout_logged",message:{message:"Your account has been logged on this device"},buttons:[{title:"Confirm",theme:define.type.CLASS_THEME.DANGER}]});break;default:controller.ui.showDialog({title:"Messaage",name:"facebook_success",message:{message:"Loggin facebook success"},buttons:[{title:"OK",theme:define.type.CLASS_THEME.SUCCESS}]}),n(function(){t.loginCallback&&t.loginCallback()}),game.user.fbid=platform.facebook.getUserID(),store.emit(store.key.UPDATE_USER_AVATAR,"")}}):this.loginCallback&&this.loginCallback();break;case define.type.FACEBOOK_LISTENNER.API:game.log(this.tag,"facebook listenner","API","tag: "+e.tag+" - data: "+e.data);break;case define.type.FACEBOOK_LISTENNER.SHARED_SUCCESS:game.log(this.tag,"facebook listenner","SHARED_SUCCESS","data: "+e.data),tracking.send(tracking.event.FACEBOOK_SHARE_SUCCESS);break;case define.type.FACEBOOK_LISTENNER.SHARED_FAILED:if(game.log(this.tag,"facebook listenner","SHARED_FAILED","data: "+e.data),tracking.send(tracking.event.FACEBOOK_SHARE_FAILED),!platform.handle.checkAppInstall("com.facebook.katana "))return void this.listenner({type:define.type.FACEBOOK_LISTENNER.FACEBOOK_NOT_INSTALL});controller.ui.showDialog({title:"Message",type:define.type.DIALOG_TYPE.NORMAL,name:"share_failed",message:{message:"Facebook shared failed"},buttons:[{title:"Confirm",theme:define.type.CLASS_THEME.DANGER}]});break;case define.type.FACEBOOK_LISTENNER.SHARED_CANCEL:game.log(this.tag,"facebook listenner","SHARED_CANCEL"),tracking.send(tracking.event.FACEBOOK_SHARE_CANCELED);break;case define.type.FACEBOOK_LISTENNER.PERMISSON:game.log(this.tag,"facebook listenner","LOGIN","isLogin: "+e.isLogin+" - msg: "+e.msg);break;case define.type.FACEBOOK_LISTENNER.FETCHFRIENDS:game.log(this.tag,"facebook listenner","FETCHFRIENDS");break;case define.type.FACEBOOK_LISTENNER.REQUESTINVITABLEFRIENDS:game.log(this.tag,"facebook listenner","REQUESTINVITABLEFRIENDS");break;case define.type.FACEBOOK_LISTENNER.INVITEFRIENDSWITHINVITEIDSRESULT:game.log(this.tag,"facebook listenner","INVITEFRIENDSWITHINVITEIDSRESULT");break;case define.type.FACEBOOK_LISTENNER.INVITEFRIENDSRESULT:game.log(this.tag,"facebook listenner","INVITEFRIENDSRESULT");break;case define.type.FACEBOOK_LISTENNER.GETUSERINFO:game.log(this.tag,"facebook listenner","GETUSERINFO");break;case define.type.FACEBOOK_LISTENNER.REQUESTGIFTRESULT:game.log(this.tag,"facebook listenner","REQUESTGIFTRESULT");break;case define.type.FACEBOOK_LISTENNER.SENDGIFTRESULT:game.log(this.tag,"facebook listenner","SENDGIFTRESULT");break;case define.type.FACEBOOK_LISTENNER.FACEBOOK_NOT_INSTALL:game.log(this.tag,"facebook listenner","FACEBOOK_NOT_INSTALL"),controller.ui.showDialog({title:"Message",type:define.type.DIALOG_TYPE.NORMAL,name:"facebook_not_install",message:{message:"Facebook application has not been installed"},buttons:[{title:"Confirm",theme:define.type.CLASS_THEME.DANGER}]});break;default:game.log(this.tag,"facebook listenner","UNKNOW")}},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],AndroidFirebase:[function(e,t,o){"use strict";cc._RF.push(t,"677c4+YLy9Nk4QmModf6JFB","AndroidFirebase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="AndroidFirebase"}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){return!(!sdkbox||!sdkbox.firebase)&&(game.log(this.tag,"firebase","init"),sdkbox.firebase.Analytics.init(),!0)},e.prototype.sendLogEvent=function(e,t){game.log(this.tag,"firebase","send log event",e,t),sdkbox.firebase.Analytics.logEvent(e,t)},e.prototype.getVersion=function(){var e=sdkbox.firebase.Analytics.getVersion();return game.log(this.tag,"getVersion",e),e},e.prototype.setUserProperty=function(e,t){game.log(this.tag,"setUserProperty",e,t),sdkbox.firebase.Analytics.setUserProperty(e,t)},e.prototype.setUserID=function(e){game.log(this.tag,"setUserID",e),sdkbox.firebase.Analytics.setUserID(e)},e.prototype.setScreenName=function(e,t){game.log(this.tag,"setScreenName",e,t),sdkbox.firebase.Analytics.setScreenName(e,t)},e.prototype.resetAnalyticsData=function(){game.log(this.tag,"resetAnalyticsData"),sdkbox.firebase.Analytics.resetAnalyticsData()},e.prototype.setAnalyticsCollectionEnabled=function(e){game.log(this.tag,"setAnalyticsCollectionEnabled",e),sdkbox.firebase.Analytics.setAnalyticsCollectionEnabled(e)},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],AndroidHandle:[function(e,t,o){"use strict";cc._RF.push(t,"a2dadPUYytOtopxd0oqNJmk","AndroidHandle"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="AndroidHandle"}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.showMessageBox=function(e,t){var o=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/PlatformHandle","showMessageBox","(Ljava/lang/String;Ljava/lang/String;)Z",e,t);return game.log(this.tag,"handle","send message box",o),o},e.prototype.getDeviceId=function(){var e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/PlatformHandle","getDeviceId","()Ljava/lang/String;");return game.log(this.tag,"handle","get device id",e),e},e.prototype.getPackageName=function(){var e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/PlatformHandle","getPackageName","()Ljava/lang/String;");return game.log(this.tag,"handle","get package name",e),e},e.prototype.getVersionGame=function(){var e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/PlatformHandle","getVersionGame","()Ljava/lang/String;");return game.log(this.tag,"handle","get version game",e),e},e.prototype.getCountryCode=function(){var e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/PlatformHandle","getCountryCode","()Ljava/lang/String;");return game.log(this.tag,"handle","get country code",e),"string"==typeof e&&(e=e.toLowerCase()),e},e.prototype.getOSVersion=function(){var e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/PlatformHandle","getOSVersion","()Ljava/lang/String;");return game.log(this.tag,"handle","get os version",e),e},e.prototype.isConnecting=function(){var e=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/PlatformHandle","isConnecting","()Z");return game.log(this.tag,"handle","is connecting",e),e},e.prototype.checkAppInstall=function(e){var t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/PlatformHandle","checkAppInstall","(Ljava/lang/String;)Z",e);return game.log(this.tag,"handle","check app installed",t),t},e.prototype.setWakeLock=function(e){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/PlatformHandle","setWakeLock","(Z)V",e),game.log(this.tag,"handle","check set wakelock")},e.prototype.openLink=function(e){e&&"string"==typeof e?cc.sys.openURL(e):game.error(this.tag,"handle","url is not useable")},e.prototype.screenshot=function(){var e=new cc.Node;e.parent=cc.director.getScene(),e.x=.5*cc.winSize.width,e.y=.5*cc.winSize.height;var t=e.addComponent(cc.Camera);t.cullingMask=4294967295;var o=new cc.RenderTexture,n=cc.game._renderContext;o.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),t.targetTexture=o,t.render();for(var i=o.readPixels(),r=4*o.width,a=new Uint8Array(i.length),s=0;s<o.height;s++)for(var c=(o.height-1-s)*o.width*4,l=0;l<r;l++)a[s*r+l]=i[c+l];var u=this.getWritablePath("screenshot.png");return this.saveImageData({data:a,width:o.width,height:o.height,filePath:u}),e.destroy(),game.log(this.tag,"screenshot","save in path",u),{texture:o,path:u}},e.prototype.getWritablePath=function(e){if("string"==typeof e)return jsb.fileUtils.getWritablePath()+e;game.warn(this.tag,"getWritablePath","suffix error",e)},e.prototype.saveImageData=function(e){void 0!==(e=e||{}).data&&"number"==typeof e.width&&"number"==typeof e.height&&"string"==typeof e.filePath?jsb.saveImageData(e.data,e.width,e.height,e.filePath):game.warn(this.tag,"saveImageData","input error",e)},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],AndroidIap:[function(e,t,o){"use strict";cc._RF.push(t,"b8037ZMYAZL27vXSFUgiY8C","AndroidIap"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="AndroidIap",this.listenner={onInitialized:function(e){game.log("platform.iap","iap listenner","on initialized","success: "+JSON.stringify(e))},onSuccess:function(e){tracking.send(tracking.event.IAP_PURCHASE_SUCCESS,this.itemBuying),tracking.purchase(e.id,e.priceValue),game.log("platform.iap","iap listenner","on success","product: "+JSON.stringify(e)),game.log("platform.iap","iap listenner","send game data"),this.itemBuying.type===define.type.ESHOP.GENERAL_SHOP?api.sendGD({e:define.key.api.BUY_SHOP_ITEM,method:"IAP_ANDROID",itemId:this.itemBuying.id,receipt:JSON.parse(e.receipt)},function(e,t){game.log("platform.iap","iap listenner","receive data",e,JSON.stringify(t)),t.megaWheel&&(view.popup.shop&&view.popup.shop.onClose(),game.data.megaWheel=t.megaWheel,view.screen.wheelBonus?(view.screen.wheelBonus.init(),view.screen.wheelBonus.onSpin()):controller.ui.openWheelBonus(define.type.WHEEL_BONUS.GOLD));var o=void 0,n="";e?(1==e&&(e="Error"),n=e):(o="Thank you",n="Your purchase was successful"),controller.ui.showDialog({title:o,type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:n},buttons:[{title:"OK",theme:e?define.type.CLASS_THEME.DANGER:define.type.CLASS_THEME.SUCCESS}]})}):this.itemBuying.type===define.type.ESHOP.MEGA_WHEEL?api.sendGD({e:"buyMegaWheel",method:"IAP_ANDROID",receipt:JSON.parse(e.receipt)},function(e,t){if(e)return 1==e&&(e="Error"),void controller.ui.showDialog({title:"Message",type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:e},buttons:[{title:"OK",theme:define.type.CLASS_THEME.DANGER}]});t&&t.status&&t.megaWheel&&(game.data.megaWheel={array:t.megaWheel.array,result:t.megaWheel.result},view.screen.wheelBonus?(view.screen.wheelBonus.init(),view.screen.wheelBonus.onSpin()):controller.ui.openWheelBonus(define.type.WHEEL_BONUS.GOLD))}):this.itemBuying.type===define.type.ESHOP.DEAL_SHOP&&api.sendGD({e:define.key.api.BUY_DEAL_SHOP,method:"IAP_ANDROID",receipt:JSON.parse(e.receipt)},function(e,t){if(1==e&&(e="Error"),controller.ui.showDialog({title:"Message",type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:e},buttons:[{title:"OK",theme:define.type.CLASS_THEME.DANGER}]}),t){game.data.shop[define.type.ESHOP.DEAL_SHOP]=void 0,store.emit(store.key.UPDATE_SHOP_DATA,game.data.shop);controller.ui.showDialog({title:"Thank you",type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:"Your purchase was successful"},buttons:[{title:"OK",theme:e?define.type.CLASS_THEME.DANGER:define.type.CLASS_THEME.SUCCESS}]})}})}.bind(this),onFailure:function(e,t){tracking.send(tracking.event.IAP_PURCHASE_FAILED),game.error("platform.iap","iap listenner","on failure","product: "+JSON.stringify(e)+" - msg: "+JSON.stringify(t)),controller.ui.showDialog({type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:"Purchase failure"},buttons:[{title:"OK",theme:define.type.CLASS_THEME.DANGER}]})},onCanceled:function(e){tracking.send(tracking.event.IAP_PURCHASE_CANCELED),game.warn("platform.iap","iap listenner","on canceled","product: "+JSON.stringify(e)),controller.ui.showDialog({type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:"Purchase canceled"},buttons:[{title:"OK",theme:define.type.CLASS_THEME.DANGER}]})},onRestored:function(e){tracking.send(tracking.event.IAP_PURCHASE_RESTORED),game.log("platform.iap","iap listenner","on restored","product: "+JSON.stringify(e))},onRestoreComplete:function(e,t){tracking.send(tracking.event.IAP_PURCHASE_RESTOR_COMPLETED),game.log("platform.iap","iap listenner","on restore complete","ok: "+JSON.stringify(e)+" - msg: "+JSON.stringify(t))},onProductRequestSuccess:function(e){game.log("platform.iap","iap listenner","on product request success","product: "+JSON.stringify(e));for(var t=0;t<e.length;t++);},onProductRequestFailure:function(e){game.log("platform.iap","iap listenner","on product request failure","msg: "+JSON.stringify(e))},onShouldAddStorePayment:function(e){game.log("platform.iap","iap listenner","on should add store payment","productName: "+JSON.stringify(e))},onFetchStorePromotionOrder:function(e,t){game.log("platform.iap","iap listenner","on fetch store promotion order","productNames: "+JSON.stringify(e)+" - error: "+JSON.stringify(t))},onFetchStorePromotionVisibility:function(e,t,o){game.log("platform.iap","iap listenner","on fetch store promotion visibility","productName: "+JSON.stringify(e)+" - visibility: "+JSON.stringify(t)+" - error: "+JSON.stringify(o))},onUpdateStorePromotionOrder:function(e){game.log("platform.iap","iap listenner","on update store promotion order","error: "+JSON.stringify(e))},onUpdateStorePromotionVisibility:function(e){game.log("platform.iap","iap listenner","on update store promotion visibility","error: "+JSON.stringify(e))},onPurchaseHistory:function(e){game.log("platform.iap","iap listenner","on purchase history","purchase: "+JSON.stringify(e))},onConsumed:function(e,t){game.log("platform.iap","iap listenner","on consumed","p: "+JSON.stringify(e)+") - error: "+JSON.stringify(t))},onDeferred:function(e){game.log("platform.iap","iap listenner","on deferred","p: "+JSON.stringify(e))}}}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){game.log(this.tag,"iap","init");var e=sdkbox.IAP;e.setListener(this.listenner),e.init(),e.enableUserSideVerification()},e.prototype.setDebug=function(e){game.log(this.tag,"iap","set debug"),sdkbox.IAP.setDebug(e)},e.prototype.purchase=function(e){tracking.send(tracking.event.IAP_PURCHASE_CLICK,{pack:e}),config.setup.testIAP&&this.purchaseTest(e),game.log(this.tag,"iap","purchase",e),sdkbox.IAP.purchase(e)},e.prototype.purchaseByProductID=function(e){var t=Object.values(define.key.iap.android).find(function(t){return t.id==e});t?this.purchase(t.name):game.warn(this.tag,"purchaseByProductID","item wasn't defined")},e.prototype.purchaseTest=function(e){var t=this,o=Object.values(define.key.iap.web).find(function(t){return t.name==e});if(!o)return game.warn(this.tag,"purchaseByProductID","item wasn't defined");api.sendGD({e:"deleteReceipt",orderId:JSON.parse(o.test.receipt).orderId},function(e,n){game.log(e,n),t.listenner.onSuccess(o.test)})},e.prototype.refresh=function(){game.log(this.tag,"iap","refresh"),sdkbox.IAP.refresh()},e.prototype.restore=function(){game.log(this.tag,"iap","restore"),sdkbox.IAP.restore()},e.prototype.removeListener=function(){game.log(this.tag,"iap","remove listener"),sdkbox.IAP.removeListener()},e.prototype.enableUserSideVerification=function(){game.log(this.tag,"iap","enable user side verification"),sdkbox.IAP.enableUserSideVerification()},e.prototype.isAutoFinishTransaction=function(){return game.log(this.tag,"iap","is auto finish transaction"),sdkbox.IAP.isAutoFinishTransaction()},e.prototype.setAutoFinishTransaction=function(e){game.log(this.tag,"iap","set auto finish transaction"),sdkbox.IAP.setAutoFinishTransaction(e)},e.prototype.finishTransaction=function(e){game.log(this.tag,"iap","finish transaction","productid: "+e),sdkbox.IAP.finishTransaction(e)},e.prototype.fetchStorePromotionOrder=function(){game.log(this.tag,"iap","fetch store promotion order"),sdkbox.IAP.fetchStorePromotionOrder()},e.prototype.updateStorePromotionOrder=function(e){game.log(this.tag,"iap","update store promotion order","productNames: "+e),sdkbox.IAP.updateStorePromotionOrder(e)},e.prototype.fetchStorePromotionVisibility=function(e){game.log(this.tag,"iap","fetchStore promotion visibility","productNames: "+e),sdkbox.IAP.fetchStorePromotionVisibility(e)},e.prototype.updateStorePromotionVisibility=function(e,t){game.log(this.tag,"iap","updateStore promotion visibility","productNames: "+e),sdkbox.IAP.updateStorePromotionVisibility(e,t)},e.prototype.getPurchaseHistory=function(){game.log(this.tag,"iap","get purchase history"),sdkbox.IAP.getPurchaseHistory()},e.prototype.getInitializedErrMsg=function(){game.log(this.tag,"iap","get initialized err msg"),sdkbox.IAP.getInitializedErrMsg()},e.prototype.requestUpdateTransaction=function(){game.log(this.tag,"iap","request update transaction"),sdkbox.IAP.requestUpdateTransaction()},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],AndroidOnesignal:[function(e,t,o){"use strict";cc._RF.push(t,"41083zECpxE26nO/v/eDZiS","AndroidOnesignal"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="AndroidOnesignal"}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){game.log(this.tag,"onesignal","init");var e=sdkbox.PluginOneSignal;e.setListener({onSendTag:function(e,t,o){game.log("onesignal","send tag","success: "+e+" - key: "+t+" - message: "+o)},onGetTags:function(e){game.log("onesignal","get tag","jsonString: "+e)},onIdsAvailable:function(e,t){game.log("onesignal","ids avaiable","userId: "+e+" - pushToken: "+t)},onPostNotification:function(e,t){game.log("onesignal","on post notification","success: "+e+" - message: "+t)},onNotification:function(e,t,o){game.log("onesignal","on notification","isActive: "+e+" - message: "+t+" - additionalData: "+o)}}),e.init()},e.prototype.registerPushNotifications=function(){game.log(this.tag,"onesignal","register push notification"),sdkbox.PluginOneSignal.registerForPushNotifications()},e.prototype.sendTag=function(e,t){game.log(this.tag,"onesignal","send tag","key: "+e+" - value: "+t),sdkbox.PluginOneSignal.sendTag(e,t)},e.prototype.getTags=function(){game.log(this.tag,"onesignal","get tags"),sdkbox.PluginOneSignal.getTags()},e.prototype.deleteTag=function(e){game.log(this.tag,"onesignal","delete tag","key: "+e),sdkbox.PluginOneSignal.deleteTag(e)},e.prototype.setEmail=function(e){game.log(this.tag,"onesignal","set email","email: "+e),sdkbox.PluginOneSignal.setEmail(e)},e.prototype.idsAvailable=function(){game.log(this.tag,"onesignal","ids avaiable"),sdkbox.PluginOneSignal.idsAvailable()},e.prototype.enableInAppAlertNotification=function(e){game.log(this.tag,"onesignal","in app alert notification","enable: "+e),sdkbox.PluginOneSignal.enableInAppAlertNotification(e)},e.prototype.setSubscription=function(e){game.log(this.tag,"onesignal","set subscription","enable: "+e),sdkbox.PluginOneSignal.setSubscription(e)},e.prototype.postNotification=function(e){game.log(this.tag,"onesignal","post notification","json: "+e),sdkbox.PluginOneSignal.postNotification(e)},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],AnimationController1:[function(e,t,o){"use strict";cc._RF.push(t,"ec6025Cc+VDc6CR9njwzZi6","AnimationController1"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([i],t)}(e("../../../scripts/Slots/AnimationController").default));o.default=r,cc._RF.pop()},{"../../../scripts/Slots/AnimationController":"AnimationController"}],AnimationController2:[function(e,t,o){"use strict";cc._RF.push(t,"d376a4AvPRFcZsBDpwXN4gl","AnimationController2"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([i],t)}(e("../../../scripts/Slots/AnimationController").default));o.default=r,cc._RF.pop()},{"../../../scripts/Slots/AnimationController":"AnimationController"}],AnimationController3:[function(e,t,o){"use strict";cc._RF.push(t,"d08e5PKM71AlqXM2LdKQkVO","AnimationController3"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([i],t)}(e("../../../scripts/Slots/AnimationController").default));o.default=r,cc._RF.pop()},{"../../../scripts/Slots/AnimationController":"AnimationController"}],AnimationController4:[function(e,t,o){"use strict";cc._RF.push(t,"48afd1zIvdKjqMzMyWdrWo7","AnimationController4"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Slots/AnimationController"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boderWinItem=null,t.nodeAnchor=null,t.reward=0,t.ItemIds=null,t._lines=[],t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this._slotController=this.node.getComponent("SlotController4")},t.prototype.checkWay=function(e){var t=this;this._listItem=this._slotController.strMatrixToArray(e.spinResult.mat[0],5,3);var o=[],n=[];return config.game.PAY_LINES[243].forEach(function(e,i){var r=e.map(function(e,o){return t._listItem[o][e]}),a=r[0],s=1;r.forEach(function(e,t){0!=t&&(s<t||(e!==a&&"w"!=e&&"w"!=a||s++,"w"==a&&"w"!=e&&(a=e)))}),s>2&&(n.push(a),o.push(i),0)}),this.ItemIds=Array.from(new Set(n)),o},t.prototype.setAnimationData=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.reward=e.spinResult.score.reward,this._lines=this.checkWay(e),[2]})})},t.prototype.showAllLines=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:if(!this)return[2];if(e&&this._slotController.isSpin)return[2];for(t=0;t<this._lines.length;t++)this.showAllBox(this._lines[t]);return[4,util.game.delay(2e3)];case 1:return o.sent(),[2]}})})},t.prototype.showEachLine=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(o){switch(o.label){case 0:if(!this)return[2];e=this._lines.length,t=0,o.label=1;case 1:return t<e?this._slotController.isSpin?[3,4]:(this.showBox(this._lines[t]),[4,util.game.delay(2e3)]):[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.showAllBox=function(e){if(null!=this._slotController&&this)for(var t=this._slotController.reelController[0]._listItem.slice(1),o=config.game.PAY_LINES[this.totalPayLines][e],n=0;n<this.ItemIds.length;n++)for(var i=function(e){var i=r.checkIndex(o[e]);if(t[i][e].id!=r.ItemIds[n]&&t[i][e].id!=r.wildItemId)return"break";t[i][e].playZoomAnimation(),setTimeout(function(){return t[i][e].stopZoomAnimation()},1400)},r=this,a=0;a<o.length;a++){if("break"===i(a))break}},t.prototype.showBox=function(e){var t=this._slotController.reelController[0]._listItem.slice(1),o=config.game.PAY_LINES[this.totalPayLines][e];if(this.ItemIds)for(var n=0;n<this.ItemIds.length;n++)if(this.ItemIds){for(var i=0;i<o.length;i++){var r=this.checkIndex(o[i]);if(t[r][i].id!=this.ItemIds[n]&&t[r][i].id!=this.wildItemId)break;t[r][i].playZoomAnimation()}util.game.delay(2e3)}},t.prototype.checkIndex=function(e){var t=e;return t=2==t?0:0==t?2:1},t.prototype.showPartical=function(e){var t=this;this._slotController.reelController[0]._listItem.slice(1).forEach(function(e){e.forEach(function(e){"w"==e.id&&(e.partical.active=!0,e.partical.zIndex=1,game.log(e.partical.zIndex),setTimeout(function(){e.partical.runAction(cc.moveTo(.5,t.nodeAnchor.getPosition()).easing(cc.easeCircleActionInOut()))},1e3))})})},__decorate([a(cc.Node)],t.prototype,"boderWinItem",void 0),__decorate([a(cc.Node)],t.prototype,"nodeAnchor",void 0),t=__decorate([r],t)}(n.default);o.default=s,cc._RF.pop()},{"../../../scripts/Slots/AnimationController":"AnimationController"}],AnimationController5:[function(e,t,o){"use strict";cc._RF.push(t,"f9738wVjnRMMKzciCT5eApg","AnimationController5"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([i],t)}(e("../../../scripts/Slots/AnimationController").default));o.default=r,cc._RF.pop()},{"../../../scripts/Slots/AnimationController":"AnimationController"}],AnimationController6:[function(e,t,o){"use strict";cc._RF.push(t,"9eb0bFXKA9ETYLDQu2Hy5+K","AnimationController6"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.setAnimationData=function(t){t.features.freeReelGame&&t.features.freeReelGame.userSpined?(this.lines=t.features.freeReelGameResult.map(function(e){return e.score.lines}),this.reward=t.spinResult.score.reward):e.prototype.setAnimationData.call(this,t)},t=__decorate([i],t)}(e("../../../scripts/Slots/AnimationController").default));o.default=r,cc._RF.pop()},{"../../../scripts/Slots/AnimationController":"AnimationController"}],AnimationController7:[function(e,t,o){"use strict";cc._RF.push(t,"5ef01XT1HpLlp3tCOqxW2WJ","AnimationController7"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shieldSke=null,t.parShield=null,t.tornado=null,t.birdAni=null,t.dataShield=[],t.listShield=[],t.shield=[],t.position=[],t}return __extends(t,e),t.prototype.onLoad=function(){this.shieldSke.enabled=!1,e.prototype.onLoad.call(this),this._slotController7=this.node.getComponent("SlotController7")},t.prototype.setAnimationData=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return e.prototype.setAnimationData.call(this,t),[4,this.animationShield()];case 1:return o.sent(),[2]}})})},t.prototype.animationShield=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.listShield=[],this.shield=[],this.position=[],this.dataShield=this._slotController7.dataSpin.spinResult.score.sum[6].arr,this._slotController7.dataSpin.freeSpin.c>0&&this._slotController7.dataSpin.freeSpin.b>0?(this.dataShield.forEach(function(t){if(t.valid){var o=e._slotController7._listItem[t.position.col][t.position.row+1];"k"!=o.id&&(e.listShield.push(o),e.shield.push(t))}}),this.listShield.length>0?[4,util.game.delay(500)]:[3,2]):[3,4];case 1:t.sent(),t.label=2;case 2:return this.listShield.forEach(function(t){e.position.push(t.node.getPosition())}),this.position.length>0?[4,this.aniShield()]:[3,4];case 3:t.sent(),t.label=4;case 4:return[4,this.shieldEffect()];case 5:return t.sent(),[2]}})})},t.prototype.aniShield=function(){var e=this;return new Promise(function(t){var o=e._slotController7.tableView.getPosition(),n=e.birdAni.getComponent(sp.Skeleton);n.setCompleteListener(function(){n.loop=!1,n.animation="ani_attack",setTimeout(function(){e.position&&e&&(e.position.forEach(function(t,n){setTimeout(function(){e.parShield&&e&&t&&(e.parShield.active=!0,e.parShield.runAction(cc.sequence([cc.moveTo(1,cc.v2(t.x+o.x,t.y+o.y)).easing(cc.easeQuadraticActionIn()),cc.callFunc(function(){e.listShield[n].node.runAction(cc.sequence([cc.callFunc(function(){e.tornado.setPosition(t.x+o.x,t.y+o.y),e.tornado.getComponent(sp.Skeleton).enabled=!0}),cc.callFunc(function(){e.listShield[n].node.children[1].active=!0,e.listShield[n].node.children[0].getComponent(sp.Skeleton).animation="caikhien","number"==typeof e.shield[n].value?e.listShield[n].node.children[1].getComponent(cc.Label).string=util.game.abbreviateNumber(e.shield[n].value*e._slotController7.dataSpin.spinResult.totalBet,0):e.listShield[n].node.children[1].getComponent(cc.Label).string=""+e.shield[n].value}),cc.callFunc(function(){setTimeout(function(){e.tornado&&e&&(e.tornado.getComponent(sp.Skeleton).enabled=!1,e.tornado.getComponent(sp.Skeleton).setBonesToSetupPose())},1e3)})]))})])),e.parShield.zIndex=1)},1200*n)}),setTimeout(function(){e.parShield&&e&&(e.parShield.setPosition(358,-135),e.parShield.getComponent(cc.ParticleSystem).resetSystem(),e.parShield.active=!1,t())},1200*e.position.length+500))},1200),n.setCompleteListener(function(){n.loop=!0,n.animation="ani_bay",n.setCompleteListener(function(){return null})})})})},t.prototype.shieldEffect=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.dataShield.length?[4,util.game.delay(1500)]:[2];case 1:return t.sent(),this.dataShield.forEach(function(t){if(t.valid){var o=e._slotController7._listItem[t.position.col][t.position.row+1].node;o.runAction(cc.sequence([cc.callFunc(function(){o.children[2].active=!0,o.children[2].getComponent(sp.Skeleton).animation="chem_ani"}),cc.scaleTo(.3,1.2),cc.scaleTo(.2,1)]))}}),[4,this._slotController7.totalWin()];case 2:return t.sent(),[4,util.game.delay(500)];case 3:return[2,t.sent()]}})})},__decorate([r(sp.Skeleton)],t.prototype,"shieldSke",void 0),__decorate([r(cc.Node)],t.prototype,"parShield",void 0),__decorate([r(cc.Node)],t.prototype,"tornado",void 0),__decorate([r(cc.Node)],t.prototype,"birdAni",void 0),t=__decorate([i],t)}(e("../../../scripts/Slots/AnimationController").default);o.default=a,cc._RF.pop()},{"../../../scripts/Slots/AnimationController":"AnimationController"}],AnimationController8:[function(e,t,o){"use strict";cc._RF.push(t,"2126fiOpBJPi6tDIw5/aCCo","AnimationController8"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([i],t)}(e("../../../scripts/Slots/AnimationController").default));o.default=r,cc._RF.pop()},{"../../../scripts/Slots/AnimationController":"AnimationController"}],AnimationController:[function(e,t,o){"use strict";cc._RF.push(t,"3d72bR6jslGsYSbra1OLiEg","AnimationController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.delayTime=2.2,t.wildItemId="w",t.totalPayLines=20,t.lines=null,t.reward=0,t._tempIsShowWin=!1,t.reelController=null,t}return __extends(t,e),t.prototype.onLoad=function(){this._slotController=this.node.getComponent("SlotController")},t.prototype.refreshSlotAnimation=function(){this.reelController=this.reelController||this._slotController.reelController,this._slotController.reelController.forEach(function(e){return e.linesController.refreshShowLines()}),this.stopZoomLineItems(),this._tempIsShowWin=!1},t.prototype.setAnimationData=function(e){this.lines=[e.spinResult.score.lines],this.reward=e.spinResult.score.reward},t.prototype.setLinesData=function(e){var t=config.game.GAME_SIZE[this._slotController.gameSizeType],o=t.length*t[0];game.log(o)},t.prototype.showAllLines=function(e){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(o){switch(o.label){case 0:return e&&this._slotController.isSpin?[2]:[4,Promise.all(this._slotController.reelController.map(function(e,o){return e.linesController.showAllLines(t.lines[o].map(function(e){return e.l}).filter(function(e){return e>=0}),t.totalPayLines)}))];case 1:return o.sent(),[2]}})})},t.prototype.showWinAmount=function(){!this._tempIsShowWin&&view.screen.slot&&this._slotController.uuid===view.screen.slot.SlotController.uuid&&view.bar.bottom.gameBar.updateWinAmount(this.reward),this._tempIsShowWin=!0},t.prototype.showEachLine=function(){return __awaiter(this,void 0,void 0,function(){var e,t,o,n,i;return __generator(this,function(r){switch(r.label){case 0:if(!this||!this.lines)return[2];e=this.lines,t=function(t,n){return __generator(this,function(n){switch(n.label){case 0:return o._slotController.isSpin?[2,"break"]:!e||!e[0][t]||e[0][t].l<0?[2,"continue"]:(o.playZoomLineItems(e[0][t]),[4,Promise.all(o._slotController.reelController.map(function(o){return o.linesController.showLine(e[0][t].l)}))]);case 1:return n.sent(),o.stopZoomLineItems(),[2]}})},o=this,n=0,i=e[0].length,r.label=1;case 1:return n<i?[5,t(n,i)]:[3,4];case 2:if("break"===r.sent())return[3,4];r.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.playZoomLineItems=function(e){var t=this,o=this.reelController[0]._listItem.slice(1),n=config.game.PAY_LINES[this.totalPayLines][e.l],i=parseInt(e.s[0]),r=!1;n.forEach(function(e,n){r||(o[e][n].id==i||o[e][n].id==t.wildItemId?o[e][n].playZoomAnimation():r=!0)})},t.prototype.stopZoomLineItems=function(){this&&this.reelController&&this.reelController.map(function(e){return e._listItem.slice(1)}).forEach(function(e){return e.forEach(function(e){return e.forEach(function(e){return e.stopZoomAnimation()})})})},t.prototype.spinItems=function(e){var t=this;e.forEach(function(e){e.forEach(function(e){t.node.runAction(cc.sequence([cc.delayTime(.2*e.x),cc.callFunc(function(){e.move()})]))})})},t.prototype.stopAllAction=function(){if(this&&this.lines){for(var e=this.lines,t=0,o=e[0].length;t<o;t++)e[0][t].l<0||this._slotController.reelController.map(function(e){return e.linesController.stopShowLines()});e[0]&&(e[0].length=0),this.stopZoomLineItems()}},__decorate([r(cc.Float)],t.prototype,"delayTime",void 0),__decorate([r(cc.String)],t.prototype,"wildItemId",void 0),__decorate([r(cc.Integer)],t.prototype,"totalPayLines",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],Api:[function(e,t,o){"use strict";cc._RF.push(t,"798c96BirVCt69SsVnT+Xy6","Api"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("sc-codec-min-bin"),i=e("./Define/DefineKey"),r=e("./lib/auth"),a=e("./Define/DefineType"),s=function(){function e(){return this.HOST="64.120.114.208",this.key=i.api,e.instance||(e.instance=this)}return e.prototype.loginNow=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(o){try{if(e=cc.sys.localStorage.getItem(define.key.local.LOGIN_DATA.replace("IP",api.HOST))||JSON.stringify({expires:void 0,token:"",type:0,uid:0}),t=JSON.parse(e),game.log(t),game.user.loginType=t.type,!t.token||t.expires&&new Date(t.expires)<new Date)return game.log("API","token not exist or expied","login type:",t.type),this.login(t.type),[2];game.log("API","token exist login now","login type:",define.type.LOGIN_TYPE[t.type]),this.connectSocket(t.token)}catch(e){game.log("get token error",e),tracking.send(tracking.event.LOGIN_FAILED)}return[2]})})},e.prototype.login=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,n;return __generator(this,function(i){switch(i.label){case 0:return t=void 0,e!==a.LOGIN_TYPE.FACEBOOK?[3,2]:[4,platform.facebook.login()];case 1:return t=i.sent(),[3,3];case 2:t=game.data.deviceId,i.label=3;case 3:return[4,this.getToken({type:e,data:t})];case 4:return o=i.sent(),game.log("API","get token done",o),n={token:o.token,expires:o.expires,uid:o.uid,type:e},cc.sys.localStorage.setItem(define.key.local.LOGIN_DATA.replace("IP",api.HOST),JSON.stringify(n)),this.connectSocket(n.token),[2]}})})},e.prototype.getToken=function(e){var t=this;return game.log("API","start get token",e),new Promise(function(o,n){var i,r="",a="";e.type==define.type.LOGIN_TYPE.FACEBOOK?(r="http://"+t.HOST+":8000/v1/authfb",a="accessToken"):(r="http://"+t.HOST+":8000/v1/authdev",a="ID");var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4==s.readyState){if(s.status>=200&&s.status<400){tracking.send(tracking.event.GET_TOKKEN_SUCCESSED);var e=JSON.parse(s.responseText);return o(e)}return tracking.send(tracking.event.GET_TOKKEN_ERROR),n(s.responseText)}},s.open("POST",r,!0),cc.sys.isNative&&s.setRequestHeader("Accept-Encoding","gzip,deflate"),s.setRequestHeader("Content-Type","application/json;charset=utf-8"),s.send(JSON.stringify(((i={})[a]=e.data,i)))})},e.prototype.connectSocket=function(e){var t=this;e&&(new r.AuthEngine).saveToken("socketCluster.authToken",e),this.socket=socketCluster.connect({port:8001,hostname:this.HOST,perMessageDeflate:!0,codecEngine:n,multiplex:!1,autoReconnect:!1}),this.socket.on("error",function(e){game.error("socket.on error",JSON.stringify(e))}),this.socket.on("connect",function(e){return __awaiter(t,void 0,void 0,function(){var t,o,n;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),game.log("Socket is connected",this.socket.authToken,this.socket.signedAuthToken,e),[4,this.sendGDPromise({e:"regisClient",deviceInfo:"developer",deviceOs:game.data.deviceOs,packageName:game.data.packageName,versionGame:game.data.versionGame})];case 1:return t=i.sent(),tracking.send(tracking.event.LOGIN_SUCCESSED),store.emit(store.key.LOGIN_DONE,""),game.logEvent("Login data:",t),view.dialog.connection_error&&view.dialog.connection_error.onClose(),tracking.setUserID(t.userid),game.user.id=t.userid,game.user.fbid=t.authfb&&t.authfb.fbid?t.authfb.fbid:"",game.data.shop=t.shop,game.data.megaWheel=t.megaWheel,store.emit(store.key.UPDATE_USER_BALANCE,0,{delayTime:0,lerpRatio:200}),store.emit(store.key.UPDATE_USER_BALANCE,t.coin,{delayTime:0,lerpRatio:50}),store.emit(store.key.UPDATE_USER_LEVEL,t.level,{delayTime:0,lerpRatio:50}),store.emit(store.key.UPDATE_USER_AVATAR,""),store.emit(store.key.UPDATE_SHOP_DATA,game.data.shop),store.emit(store.key.DAILYQUEST,t.dailyQuest,{delayTime:0,lerpRatio:50}),store.emit(store.key.DAILYBONUS,t.dailyBonus,{delayTime:0,lerpRatio:50}),store.emit(store.key.WEEKLY_ACCUMILATION,t.weeklyAccumilation,{delayTime:0,lerpRatio:50}),game.data.megaWheel&&store.emit(store.key.UPDATE_MEGAWHEEL_DATA,game.data.megaWheel),game.data.now=new Date(t.now),game.data.dTime=(new Date).getTime()-game.data.now.getTime(),e.isAuthenticated&&(o=this.socket.authToken,this.subscribeChanel(o.uid)),[3,3];case 2:return n=i.sent(),game.log(n),tracking.send(tracking.event.LOGIN_FAILED),[3,3];case 3:return[2]}})})}),this.socket.on("authenticate",function(e){game.log("on.authenticate",e)}),this.socket.on("deauthenticate",function(e,t,o){this.socket.disconnect(),this.loginNow()}.bind(this)),this.socket.on("random",function(e){game.log('Received "random" event with data: '+e.number)}),this.socket.on("disconnect",function(e){var t=this;controller.ui.showDialog({title:"Connection Error",type:define.type.DIALOG_TYPE.FORCE,name:"connection_error",message:{message:"Failed to connect to the server.\nPlease check your Internet connection."},buttons:[{title:"Reload",theme:define.type.CLASS_THEME.DANGER,callback:function(){t.socket.reconnect()}}]})}.bind(this)),this.socket.on("error",function(e){controller.ui.showDialog({title:"Connection Error",type:define.type.DIALOG_TYPE.FORCE,name:"connection_error",message:{message:"Failed to connect to the server.\nPlease check your Internet connection."},buttons:[{title:"Reload",theme:define.type.CLASS_THEME.DANGER,callback:function(){t.socket.reconnect()}}]})})},e.prototype.subscribeChanel=function(e){var t=this.socket.subscribe("u:"+e);t.unwatch(),t.on("subscribeFail",function(e){game.error("Failed to subscribe to the channelME channel due to error: "+e)}),t.watch(function(e){switch(game.logEvent(e),e.type){case api.key.SLOT_SPIN:var t=Object.values(view.slot).find(function(t){return t&&t.gameId==e.spinResult.id});t&&t.SlotController.watchEvent(e),store.emit(store.key.UPDATE_USER_BALANCE,e.userInfo.coinBalance);var o=game.user.level;store.emit(store.key.UPDATE_USER_LEVEL,__assign({},o,{currentExp:e.userInfo.exp}));break;case api.key.SLOT_BONUS_RESULT:if(game.user.balance=e.ccoin,view.screen.game)if(Object.values(view.slot).find(function(t){return t&&t.gameId==e.smid}))return;store.emit(store.key.UPDATE_USER_BALANCE,e.ccoin);break;case api.key.LEVEL_UP:var n=e.rewards;e.nextRewards;store.emit(store.key.UPDATE_USER_BALANCE,e.balance,{delayTime:0,lerpRatio:50}),store.emit(store.key.UPDATE_USER_LEVEL,{currentExp:e.exp,currentLevel:e.level,requiredExp:e.requiredExp},{delayTime:0,lerpRatio:50});var i=view.screen.slot;i&&i.SlotController.getStatusGame().then(function(){i.SlotController.importData()}),api.sendGD({e:define.key.api.GET_SHOP_INFO,method:game.data.deviceOs},function(e,t){store.emit(store.key.UPDATE_SHOP_DATA,t)}),controller.ui.playPrefabAnimation("levelup",{level:e.level,coin:n});break;case api.key.DAILYQUEST_INFO:store.emit(store.key.DAILYQUEST,e);break;case api.key.WEEKLY_ACCUMILATION_INFO:store.emit(store.key.WEEKLY_ACCUMILATION,e);break;default:e.coin&&store.emit(store.key.UPDATE_USER_BALANCE,e.coin)}})},e.prototype.registerClient=function(){this.sendGD({e:api.key.REGIS},function(e,t){if(e)return game.log(e);game.log(t)})},e.prototype.sendGD=function(e,t){this.socket.emit("GD",e,function(e,o){game.logEvent(e,o),t(e,o)})},e.prototype.sendGDPromise=function(e){var t=this;return new Promise(function(o,n){var i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e[0]?n(e[0]):o(e[1])};t.socket.emit("GD",e,function(e,t){game.logEvent(e,t),i(e,t)})})},e.prototype.onSceneChanged=function(e){game.log("onSceneChanged",e),this.socket.emit("clientreact",{data:e||1},function(e,t){game.log("clientreact result",e,t)})},e}();o.default=new s,cc._RF.pop()},{"./Define/DefineKey":"DefineKey","./Define/DefineType":"DefineType","./lib/auth":"auth","sc-codec-min-bin":37}],AtributeStatic:[function(e,t,o){"use strict";cc._RF.push(t,"150e3IRMttCLZc24LilVNrB","AtributeStatic"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return __extends(t,e),o=t,t.prototype.setIdBetSelect=function(e){o.idBetSelect=e},t.idBetSelect=null,t.bonusData=[],t.loop=0,t.idJackpot=0,t=o=__decorate([i],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],AutoFitCanvas:[function(e,t,o){"use strict";cc._RF.push(t,"47ca3UOMgpCWrc3zu85EsQe","AutoFitCanvas"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=cc.view.getFrameSize(),t=e.width/e.height,o=this.node.getComponent(cc.Canvas);t<1280/720?(o.fitHeight=!1,o.fitWidth=!0):(o.fitHeight=!0,o.fitWidth=!1)},t=__decorate([i],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],Avatar:[function(e,t,o){"use strict";cc._RF.push(t,"9b7c3vvUBNKn6t+X9JOuCHf","Avatar"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.img=void 0,t.border=void 0,t.callback=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.setAvatar=function(e){var t=this,o=(e=e||{}).facebookID,n=e.avatarID;if(void 0===o&&void 0===n)return game.warn("Avatar","input error");if(o){var i=define.string.URL_AVT_FACEBOOK.replace("%facebookID%",o);util.game.loadSpriteFrame(i,function(e){t.img.spriteFrame=e.spriteFrame,t.img.node.setContentSize(cc.size(56,56))})}},t.prototype.setCallback=function(e){this.callback=e},t.prototype.onClickAvatart=function(){game.log("On click avatar"),this.callback&&this.callback()},__decorate([r(cc.Sprite)],t.prototype,"img",void 0),__decorate([r(cc.Sprite)],t.prototype,"border",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],BasePopup:[function(e,t,o){"use strict";cc._RF.push(t,"ab08aBub7hPBqf0+XKkL0BI","BasePopup"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Define/DefineType"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.popupName="",t.type=n.POPUP_TYPE.NONE,t.effect=n.EFFECT_TYPE.BOUCE,t.overlay=void 0,t.popBg=void 0,t.autoOpen=!0,t.allowClose=!0,t.autoRelease=!0,t.timeIn=.25,t.timeOut=.12,t.isOpen=!1,t.mask=void 0,t.popup=void 0,t.oriPos=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){this.mask=this.overlay||this.node.getChildByName("mask"),this.popup=this.popBg||this.node.getChildByName("popup"),this.oriPos=this.node.getPosition(),this.popup||cc.warn("BasePopup","Please add popup background in script for run"),this.popupName&&(view.popup[this.popupName]=this),this.mask&&(this.mask.active=!0),this.type!==n.POPUP_TYPE.NONE&&(this.node.zIndex=this.type),this.autoOpen||(util.game.hideNode(this.node),this.node.x=cc.winSize.width+this.oriPos.x)},t.prototype.start=function(){this.autoOpen&&this.onOpen()},t.prototype.init=function(e){},t.prototype.reOpen=function(e){this.init(e),this.onOpen()},t.prototype.onOpen=function(e){var t=this;return new Promise(function(o,i){var r=t,a=r.popup,s=r.mask,c=r.timeIn,l=r.node,u=r.popupName,p=r.type,d=r.oriPos;if(a){util.game.showNode(l,p!==n.POPUP_TYPE.NONE?p:1),l.x=d.x,a.opacity=0,s&&(s.opacity=0),l.stopAllActions(),a.stopAllActions(),s&&s.stopAllActions(),s&&s.runAction(cc.fadeTo(c,175));var h={time:c,callback:function(){game.log("BasePopup","popup "+u+" open complete"),t.isOpen=!0,e&&e(),t.openCallback(),o()}},m=effect.getEffectName(n.EFFECT_KIND.IN,t.effect);a.runAction(effect.get(m,h))}else cc.warn("BasePopup","Please add popup background in script for run")})},t.prototype.onClose=function(e){var t=this,o=this,i=o.popup,r=o.mask,a=o.popupName,s=o.autoRelease,c=o.timeOut,l=o.node,u=o.oriPos;if(i){l.stopAllActions(),i.stopAllActions(),r&&r.stopAllActions(),r&&r.runAction(cc.fadeOut(c));var p={time:c,callback:function(){game.log("BasePopup","popup "+a+" close complete"),t.isOpen=!1,s?t.onRelease():(util.game.hideNode(l),l.x=cc.winSize.width+u.x),e&&e(),t.closeCallback()}},d=effect.getEffectName(n.EFFECT_KIND.OUT,this.effect);i.runAction(effect.get(d,p))}else cc.warn("BasePopup","Please add popup background in script for run")},t.prototype.openCallback=function(){},t.prototype.closeCallback=function(){},t.prototype.onClickClose=function(e){this.allowClose||!e||"btnClose"!==e.currentTarget.name&&e.currentTarget.name!==this.mask.name?(game.log("BasePopup","onClickClose"),this.onClose()):game.log("BasePopup","onClose","popup do not allow close by close button or mask")},t.prototype.onRelease=function(){var e=this.node,t=this.popupName;e.destroy(),t&&view.popup[t]&&delete view.popup[t]},__decorate([a],t.prototype,"popupName",void 0),__decorate([a({type:cc.Enum(n.POPUP_TYPE),displayName:"Popup Type"})],t.prototype,"type",void 0),__decorate([a({type:cc.Enum(n.EFFECT_TYPE)})],t.prototype,"effect",void 0),__decorate([a({type:cc.Node})],t.prototype,"overlay",void 0),__decorate([a({type:cc.Node,displayName:"Popup Background"})],t.prototype,"popBg",void 0),__decorate([a],t.prototype,"autoOpen",void 0),__decorate([a],t.prototype,"allowClose",void 0),__decorate([a],t.prototype,"autoRelease",void 0),__decorate([a],t.prototype,"timeIn",void 0),__decorate([a],t.prototype,"timeOut",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./Define/DefineType":"DefineType"}],BottomBarController:[function(e,t,o){"use strict";cc._RF.push(t,"2e8benZlMBIu42SLCLkIQOe","BottomBarController"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=cc._decorator,r=i.ccclass;i.property;(function(e){e.HOME="HOME",e.GAME="GAME"})(n||(n={}));var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.homeBar=void 0,t.gameBar=void 0,t.model=void 0,t.barType=n.HOME,t}return __extends(t,e),t.prototype.onLoad=function(){this.homeBar=this.node.getChildByName("home").getComponent("BottomHomeBarController"),this.gameBar=this.node.getChildByName("game").getComponent("BottomGameBarController"),this.model=this.node.getChildByName("model"),this.updateBarView()},t.prototype.lock=function(){this.model.active=!0},t.prototype.unlock=function(){this.model.active=!1},t.prototype.hide=function(e){var t=this;return void 0===e&&(e=!0),new Promise(function(o,n){e?(t.node.y=-360,t.node.stopAllActions(),t.lock(),t.node.runAction(cc.sequence(cc.moveBy(.1,cc.v2(0,-t.node.height)),cc.callFunc(function(){t.unlock(),o()})))):(t.node.y=-360-t.node.height,t.node.stopAllActions(),t.unlock(),o())})},t.prototype.show=function(e){var t=this;return void 0===e&&(e=!0),new Promise(function(o,n){e?(t.node.y=-360-t.node.height,t.node.stopAllActions(),t.lock(),t.node.runAction(cc.sequence(cc.moveBy(.2,cc.v2(0,t.node.height)),cc.callFunc(function(){t.unlock(),o()})))):(t.node.y=-360,t.node.stopAllActions(),t.unlock(),o())})},t.prototype.toggleEffect=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.hide()];case 1:return e.sent(),[4,this.updateBarView()];case 2:return e.sent(),[4,this.show()];case 3:return e.sent(),[2]}})})},t.prototype.updateBarView=function(){this.showNodeBar(this.barType===n.HOME?this.homeBar.node:this.gameBar.node),this.hiddenNodeBar(this.barType===n.HOME?this.gameBar.node:this.homeBar.node)},t.prototype.showGameBar=function(){this.barType!==n.GAME&&(this.barType=n.GAME,this.toggleEffect(),this.gameBar.showContentBar())},t.prototype.showHomeBar=function(){this.barType!==n.HOME&&(this.barType=n.HOME,this.toggleEffect(),this.gameBar.hiddenContentBar())},t.prototype.hiddenNodeBar=function(e){e.y=-e.height,e.opacity=0},t.prototype.showNodeBar=function(e){e.y=0,e.opacity=255},t.prototype.updateView=function(){this.barType===n.HOME&&controller.ui.onView===define.type.VIEW.HOME||this.barType===n.GAME&&controller.ui.onView===define.type.VIEW.GAME||(controller.ui.onView===define.type.VIEW.GAME?this.showGameBar():this.showHomeBar())},t=__decorate([r],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],BottomGameBarController:[function(e,t,o){"use strict";cc._RF.push(t,"87074QkXOxOTI12esJd2SQF","BottomGameBarController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winLabel=null,t.betLabel=null,t.spinButton=null,t.holdTime=500,t.autoBet=null,t.normalSpin=null,t.stopAutoSpin=null,t.stopNormalSpin=null,t.bottomActive=[],t.bottomLock=[],t.dailyNode=null,t.statusLabel=null,t.spinSprite=null,t.autoSpinLabel=null,t.lerpRatio=10,t.winAmount=0,t.currentBet=0,t.betArray=[],t.isUpdattingWinAmount=!1,t._tempWin=0,t._isPress=!1,t._setTimeout=null,t._isShow=!1,t.container=null,t.key=[],t}return __extends(t,e),t.prototype.onLoad=function(){this.initialize(),this.resetWinAmount(),this.addSpinButtonEvent(),this.registerEvent()},t.prototype.initialize=function(){this.container=this.node.getChildByName("container"),this.container.getComponent(cc.Widget).updateAlignment(),this.container.getComponent(cc.Widget).enabled=!1,this.spinSprite=this.spinButton.node.getComponent(cc.Sprite);var e=this.container.getChildByName("status");this.statusLabel=e.getChildByName("lbStatus").getComponent(cc.Label),this.autoSpinLabel=this.spinButton.node.getComponentInChildren(cc.Label)},t.prototype.onClickDailyQuest=function(){controller.ui.showPopup("daily"),game.log("BottomHomeBarController","onClickDailyQuest")},t.prototype.resetWinAmount=function(){this.winLabel.string="0"},t.prototype.addSpinButtonEvent=function(){var e=this;this.spinButton.node.on(cc.Node.EventType.TOUCH_START,function(t){game.log("Spin button start click"),e._isPress=!0,e._setTimeout=setTimeout(function(){e.autoBet.active||(e.showAutoBet(),e.autoBet.zIndex=-1),e._isPress=!1},e.holdTime)}),this.spinButton.node.on(cc.Node.EventType.TOUCH_END,function(t){game.log("Spin button end click"),e._isPress&&(view.screen.game.onClickSpin(),e.bottomBarEvent(define.type.BottomBar.lock),e.updateSpinFrame(define.type.SpinButton.stopNormalSpin),clearTimeout(e._setTimeout),e._isPress=!1)}),this.spinButton.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){game.log("Spin button cancel click"),e._isPress=!1,clearTimeout(e._setTimeout)})},t.prototype.bottomBarEvent=function(e){var t=this,o=this.betLabel.node.parent,n=["btn-bet-down","btn-bet-up"],i=this.node.getChildByName("container").getChildByName("btn-maxbet");switch(e){case define.type.BottomBar.active:n.forEach(function(e,n){o.getChildByName(e).getComponent(cc.Sprite).spriteFrame=t.bottomActive[n],o.getChildByName(e).getComponent(cc.Button).interactable=!0}),i.getComponent(cc.Sprite).spriteFrame=this.bottomActive[2],i.getComponent(cc.Button).interactable=!0;break;case define.type.BottomBar.lock:n.forEach(function(e,n){o.getChildByName(e).getComponent(cc.Sprite).spriteFrame=t.bottomLock[n],o.getChildByName(e).getComponent(cc.Button).interactable=!1}),i.getComponent(cc.Sprite).spriteFrame=this.bottomLock[2],i.getComponent(cc.Button).interactable=!1}},t.prototype.displayBetLabel=function(){this.betLabel.node.runAction(cc.scaleTo(.15,1.05)),this.betLabel.string=util.string.formatMoney(this.currentBet),this.betLabel.node.runAction(cc.sequence(cc.delayTime(.15),cc.scaleTo(.15,1)))},t.prototype.autoSpin=function(e,t){var o=this;tracking.send(tracking.event.AUTO_SPIN.replace("NUMSPIN",t)),view.screen.slot.SlotController.autoSpin(Number(t)),this.updateSpinFrame(define.type.SpinButton.stopAutoSpin),setTimeout(function(){return o.hideAutoBet()},100)},t.prototype.showAutoBet=function(){game.log("Show auto bet"),this.autoBet.active=!0,this.autoBet.runAction(cc.moveBy(.4,cc.v2(0,this.autoBet.height))),util.game.showNode(this.autoBet)},t.prototype.hideAutoBet=function(){var e=this;game.log("Hide auto bet"),this.autoBet.runAction(cc.sequence(cc.moveBy(.1,cc.v2(0,-this.autoBet.height)),cc.callFunc(function(){util.game.hideNode(e.autoBet),e.autoBet&&(e.autoBet.active=!1)})))},t.prototype.updateInfo=function(){var e=view.screen.slot||null;e&&(this.betArray=e.SlotController.betArray,this.currentBet=e.SlotController.currentBet,this.displayBetLabel(),this.winAmount=e.SlotController.lastWin,this.winLabel.string=this.winAmount.toString())},t.prototype.changeBetAmount=function(e,t){game.log("BottomGameBarController","changeBetAmount"),t=Number(t);var o=this.betArray.indexOf(this.currentBet);0==o&&-1==t?this.currentBet=this.betArray[this.betArray.length-1]:o==this.betArray.length-1&&1==t?this.currentBet=this.betArray[0]:this.currentBet=o<0?this.betArray[0]:this.betArray[o+t],view.screen.slot&&view.screen.slot.SlotController.updateCurrentBet(this.currentBet),this.displayBetLabel()},t.prototype.updateSpinFrame=function(e){switch(e){case define.type.SpinButton.normal:this.spinSprite.spriteFrame=this.normalSpin,this.autoSpinLabel.node.active=!1;break;case define.type.SpinButton.stopAutoSpin:this.spinSprite.spriteFrame=this.stopAutoSpin,this.autoSpinLabel.node.active=!0;break;case define.type.SpinButton.stopNormalSpin:this.spinSprite.spriteFrame=this.stopNormalSpin}},t.prototype.updateAutoSpinTime=function(e){try{this.autoSpinLabel.string=e<0?"BONUS":e.toString(),this.updateSpinFrame(define.type.SpinButton.stopAutoSpin)}catch(e){game.log(e)}},t.prototype.maxBetAmount=function(){this.currentBet=this.betArray[this.betArray.length-1],view.screen.slot&&view.screen.slot.SlotController.updateCurrentBet(this.currentBet),this.displayBetLabel()},t.prototype.updateWinAmount=function(e){this.winAmount=e,this.isUpdattingWinAmount=!0},t.prototype.update=function(e){this._updateWinAmount(e)},t.prototype._updateWinAmount=function(e){if(this.isUpdattingWinAmount){var t=this.winAmount-this._tempWin;this._tempWin=t*this.lerpRatio*e+this._tempWin,this.winLabel.string=util.string.formatMoney(this._tempWin),this.winAmount-this._tempWin<1&&(this.winLabel.string=util.string.formatMoney(this.winAmount),this.isUpdattingWinAmount=!1,this._tempWin=0)}},t.prototype.updateStatus=function(e){var t=this.statusLabel,o=!1;if(e.freeSpin?(o=!t.string.includes("Freespin"),t.string="Freespin: "+e.freeSpin):e.winType===define.type.WIN_TYPE.MEGAWIN?(o=!t.string.includes("Mega Win"),t.string="Mega Win"):e.winType===define.type.WIN_TYPE.BIGWIN?(o=!t.string.includes("Big Win"),t.string="Big Win"):(o=!(t.string.includes("Win")&&!t.string.includes("Big")&&!t.string.includes("Mega")),t.string="Win"),o){var n=cc.v2(0,8);t.node.stopAllActions(),t.node.runAction(cc.sequence(cc.moveBy(.2,cc.v2(0,-100)),cc.moveTo(.3,n)))}},t.prototype.showContentBar=function(){if(view.screen.slot){var e=view.screen.slot.SlotController;view.screen.slot.SlotController.autoSpinTimes<=0?(this.bottomBarEvent(define.type.BottomBar.active),this.updateSpinFrame(define.type.SpinButton.normal)):(this.bottomBarEvent(define.type.BottomBar.lock),this.updateAutoSpinTime(e.autoSpinTimes)),e.statusGame.freeSpin=e.freeSpin,e.freeSpin>0&&this.updateStatus(e.statusGame),game.log("FS",e.freeSpin),game.log("AUTO",e.autoSpinTimes)}},t.prototype.hiddenContentBar=function(){this.spinButton.node.parent.getChildByName("list-auto").active&&this.hideAutoBet()},t.prototype.registerEvent=function(){var e=this,t=store.register(store.key.DAILYQUEST,function(t){var o=e.dailyNode.getChildByName("content"),n=o.getChildByName("text").getComponent(cc.Label),i=o.getChildByName("progress").getComponent("AccumulatedBar");if(t&&t.missions&&void 0!==t.currentQuest&&t.missions[t.currentQuest]){game.data.dailyQuest=t;var r=t.currentProgress/t.missions[t.currentQuest].goal;(r=r>100?100:r)>=i.progress?i.updateProgress(r):(i.setProgress(0,!1),i.updateProgress(r)),e.dailyNode.stopAllActions();var a=t.missions[t.currentQuest];if(3===a.requireType||a.goal==t.currentProgress){if(a.goal<=t.currentProgress)n.string="Claim";else{var s=t.currentCount;n.string=s+" "+(s>1?"times":"time")}n.node.opacity=255,e.dailyNode.runAction(cc.sequence(cc.callFunc(function(){if(n&&i){var e=effect.bouceIn({time:.3}),t=effect.bouceOut({time:.3});255==n.node.opacity?(n.node.runAction(t),i.node.runAction(e)):(n.node.runAction(e),i.node.runAction(t))}}),cc.delayTime(3)).repeatForever())}else n.node.opacity=0,i.node.opacity=255,i.node.runAction(effect.bouceIn({time:.3}))}else t.completeAll&&(i.node.opacity=0,n.node.opacity=255,n.string="Completed")});this.key.push(t)},t.prototype.onDestroy=function(){this.key.forEach(function(e){return store.unRegister(e)})},__decorate([r(cc.Label)],t.prototype,"winLabel",void 0),__decorate([r(cc.Label)],t.prototype,"betLabel",void 0),__decorate([r(cc.Button)],t.prototype,"spinButton",void 0),__decorate([r(cc.Integer)],t.prototype,"holdTime",void 0),__decorate([r(cc.Node)],t.prototype,"autoBet",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"normalSpin",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"stopAutoSpin",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"stopNormalSpin",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"bottomActive",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"bottomLock",void 0),__decorate([r(cc.Node)],t.prototype,"dailyNode",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],BottomHomeBarController:[function(e,t,o){"use strict";cc._RF.push(t,"07d6f5ZTGZNTqjNaetpjylt","BottomHomeBarController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeWheel=void 0,t.lbDailyTitle=void 0,t.lbDailyTime=void 0,t.lbTitle=void 0,t.lbTime=void 0,t.key=[],t}return __extends(t,e),t.prototype.onLoad=function(){this.countTimeWheelBonus(),this.registerStore()},t.prototype.countTimeWheelBonus=function(){setInterval(function(){this.lbDailyTime&&this.lbDailyTime.node&&this.lbTime&&(this.lbDailyTime.string=util.string.formatTime(util.game.timeToNextday()),this.lbTime.string=util.string.formatTime(util.game.timeToNextday()))}.bind(this),1e3)},t.prototype.registerStore=function(){var e=store.register(store.key.DAILYBONUS,function(e){e&&e.freeWheel&&(e.freeWheel.isTaken?(this.lbDailyTime.node.active=!0,this.lbDailyTitle.string="DAILY BONUS",this.lbDailyTitle.node.y=18,this.lbDailyTitle.getComponent(cc.Animation).stop()):(this.lbDailyTime.node.active=!1,this.lbDailyTitle.string="SPIN AND WIN",this.lbDailyTitle.node.y=8,this.lbDailyTitle.getComponent(cc.Animation).play()))}.bind(this));this.key.push(e);var t=store.register(store.key.DAILYQUEST,function(e){e&&(this.lbTitle.string=e.completedQuests.length+"/"+e.missions.length)}.bind(this));this.key.push(t)},t.prototype.onClickWheelBonus=function(){if(game.log("BottomHomeBarController","onClickWheelBonus"),game.data.dailyBonus.freeWheel.isTaken)controller.ui.openWheelBonus(define.type.WHEEL_BONUS.GOLD);else{var e=game.data.dailyBonus.freeWheel,t=e.array,o=e.result;controller.ui.openWheelBonus(define.type.WHEEL_BONUS.SILVER,{result:o,items:t})}},t.prototype.onClickDailyQuest=function(){game.log("BottomHomeBarController","onClickDailyQuest"),controller.ui.showPopup("daily")},t.prototype.onClickDailyGift=function(){game.log("BottomHomeBarController","onClickDailyGift")},t.prototype.onDestroy=function(){this.key.forEach(function(e){return store.unRegister(e)})},__decorate([r(cc.Node)],t.prototype,"nodeWheel",void 0),__decorate([r(cc.Label)],t.prototype,"lbDailyTitle",void 0),__decorate([r(cc.Label)],t.prototype,"lbDailyTime",void 0),__decorate([r(cc.Label)],t.prototype,"lbTitle",void 0),__decorate([r(cc.Label)],t.prototype,"lbTime",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],CoinAnimation:[function(e,t,o){"use strict";cc._RF.push(t,"d54917s8iZLHKZg3jb3DkMU","CoinAnimation"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coin=[],t}return __extends(t,e),t.prototype.play=function(){var e=this;return new Promise(function(t,o){e.coin.forEach(function(e){e&&e.resetSystem()}),setTimeout(function(){t()},3800)})},__decorate([r({type:[cc.ParticleSystem]})],t.prototype,"coin",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],CoinLabel:[function(e,t,o){"use strict";cc._RF.push(t,"38713mHWmRFML2UHJo56Vtc","CoinLabel"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(e,t,o,n,i){this.coinLabel=null,this.lerpRatio=10,this.userBalance=0,this._tempUserBalance=0,this.isUpdattingBalance=!1,this.prefix="",this.subfix="",this.fps=30,this.coinLabel=e,t&&(this.lerpRatio=t),o&&(this.prefix=o),n&&(this.subfix=n),i&&(this.fps=i)}return e.prototype.updateUserBalance=function(e,t){return __awaiter(this,void 0,void 0,function(){var o,n=this;return __generator(this,function(i){switch(i.label){case 0:return t?t.delayTime?[4,util.game.delay(t.delayTime,this.coinLabel.node).catch(function(e){})]:[3,2]:[3,3];case 1:i.sent(),i.label=2;case 2:t.lerpRatio&&(this.lerpRatio=t.lerpRatio),t.prefix&&(this.prefix=t.prefix),t.subfix&&(this.subfix=t.subfix),i.label=3;case 3:return"number"==typeof e&&(this._tempUserBalance=this.userBalance,this.userBalance=e,this.isUpdattingBalance=!0),o=this.userBalance-this._tempUserBalance,this._tempUserBalance=o*this.lerpRatio/this.fps+this._tempUserBalance,this.coinLabel&&this.coinLabel.node&&(this.coinLabel.string=this.prefix+util.string.formatMoney(this._tempUserBalance)+this.subfix,Math.abs(this.userBalance-this._tempUserBalance)<1)?(this.coinLabel.string=this.prefix+util.string.formatMoney(this.userBalance)+this.subfix,[2,!0]):(setTimeout(function(){n.coinLabel.node&&n.coinLabel.node.isValid&&n.updateUserBalance()},1e3/this.fps),[2])}})})},e}();o.default=n,cc._RF.pop()},{}],DailyRewardAnimation:[function(e,t,o){"use strict";cc._RF.push(t,"59c48nfPKpAVIUyy5sSA0hz","DailyRewardAnimation"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Components/CoinLabel"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=void 0,t.nodeTitle=void 0,t.lbCoin=void 0,t.icGift=void 0,t.icMark=void 0,t.data=void 0,t.coinController=void 0,t.effectLayout=void 0,t}return __extends(t,e),t.prototype.init=function(e){this.data=e},t.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.coinController=new n.default(this.lbCoin),this.effectLayout=this.getComponent("EffectLayout"),this.icMark.opacity=0,this.lbCoin.node.opacity=0,this.bg.opacity=0,[4,this.onOpen()];case 1:return e.sent(),[4,this.onClose()];case 2:return e.sent(),[2]}})})},t.prototype.onOpen=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return[4,Promise.all([new Promise(function(t,o){e.effectLayout.onOpen().then(function(){t()})}),new Promise(function(t,o){e.bg?e.bg.runAction(effect.bouceIn({time:.5,callback:function(){t()}})):t()})])];case 1:return t.sent(),[4,new Promise(function(t,o){return __awaiter(e,void 0,void 0,function(){var e=this;return __generator(this,function(o){switch(o.label){case 0:return this.coinController&&this.lbCoin?[4,Promise.all([new Promise(function(t,o){e.coinController.updateUserBalance(e.data.coin,{subfix:" Coins"}).then(function(){t()})}),new Promise(function(t,o){e.lbCoin.node.runAction(effect.bouceIn({callback:function(){t()}}))})])]:[3,2];case 1:o.sent(),o.label=2;case 2:return t(),[2]}})})})];case 2:return t.sent(),[4,new Promise(function(t,o){e.node.runAction(effect.delay({time:1.5,callback:function(){t()}}))})];case 3:return t.sent(),[4,new Promise(function(t,o){var n=effect.stamp({scale:4,rotate:!1});e.icMark&&e.icMark.runAction(n);var i=cc.sequence(cc.delayTime(.9*n.getDuration()),effect.springy({callback:function(){t()}}));e.bg?e.bg.runAction(i):t()})];case 4:return t.sent(),[4,new Promise(function(t,o){e.node.runAction(effect.delay({time:2,callback:function(){t()}}))})];case 5:return t.sent(),[2]}})})},t.prototype.onClose=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,o){e.bg.runAction(effect.bouceOut({callback:function(){t()}}))})];case 1:return t.sent(),this.effectLayout?[4,this.effectLayout.onClose()]:[3,3];case 2:t.sent(),t.label=3;case 3:return this.node&&this.onRelease(),[2]}})})},t.prototype.onRelease=function(){this.effectLayout.onRelease()},__decorate([a(cc.Node)],t.prototype,"bg",void 0),__decorate([a(cc.Node)],t.prototype,"nodeTitle",void 0),__decorate([a(cc.Label)],t.prototype,"lbCoin",void 0),__decorate([a(cc.Node)],t.prototype,"icGift",void 0),__decorate([a(cc.Node)],t.prototype,"icMark",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../Components/CoinLabel":"CoinLabel"}],DefineColor:[function(e,t,o){"use strict";cc._RF.push(t,"23ce2zcWh1E2rVuEE6tWton","DefineColor"),Object.defineProperty(o,"__esModule",{value:!0}),o.Green={r:137,g:239,b:149,a:255},o.Yellow={r:219,g:176,b:23,a:255},o.Orange={r:255,g:192,b:37,a:255},o.Red={r:188,g:12,b:22,a:255},o.Blue={r:6,g:154,b:220,a:255},o.Violet={r:147,g:76,b:147,a:255},cc._RF.pop()},{}],DefineInterface:[function(e,t,o){"use strict";cc._RF.push(t,"ab72a0pQsxG05X00Uj6BcTR","DefineInterface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],DefineKey:[function(e,t,o){"use strict";cc._RF.push(t,"3c8d9kaaFNEJ4e05E2NMq5m","DefineKey"),Object.defineProperty(o,"__esModule",{value:!0}),o.CONFIG_SOUND="CONFIG_SOUND",o.CONFIG_MUSIC="CONFIG_MUSIC",o.local={LOGIN_DATA:"LOGIN_DATA_IP",DEVICE_ID:"DEVICE_ID",PLATFORM_INIT:"PLATFORM_INIT"},o.store={LOGIN_DONE:"LOGIN_DONE",UPDATE_USER_AVATAR:"UPDATE_USER_AVATAR",UPDATE_USER_BALANCE:"UPDATE_USER_BALANCE",UPDATE_USER_LEVEL:"UPDATE_USER_LEVEL",UPDATE_SHOP_DATA:"UPDATE_SHOP_DATA",UPDATE_MEGAWHEEL_DATA:"UPDATE_MEGAWHEEL_DATA",DAILYQUEST:"DAILY_QUEST",DAILYBONUS:"DAILYBONUS",WEEKLY_ACCUMILATION:"WEEKLY_ACCUMILATION"},o.api={REGIS:"regisClient",SMINFO:"sminfo",SLOT_SPIN:"slotspin",LEVEL_UP:"levelUp",BUY_COIN:"buycoin",SLOT_GET_BONUS:"slotgetbonus",SLOT_BONUS_RESULT:"slotbonus",SLOT_FREE_REEL_GAME:"spinFreeReelGameWheel",DAILYQUEST_REWARD:"getDailyQuestRewards",DAILYQUEST_INFO:"dailyquestinfo",WEEKLY_ACCUMILATION_INFO:"getWeeklyAccumilationInfo",WEEKLY_ACCUMILATION_REWARD:"getWeeklyAccumilationRewards",BUY_SHOP_ITEM:"buyShopItem",BUY_MEGA_WHEEL:"buyMegaWheel",GET_MEGA_WHEEL_REWARD:"getMegaWheelReward",GET_DAILY_BONUS_REWARD:"getDailyBonusReward",GET_SHOP_INFO:"getShopInfo",BUY_DEAL_SHOP:"buyDealShop"},o.iap={android:{item1:{id:"org.cocos.slotpro.shop.1",name:"item1",test:"item1"},item2:{id:"org.cocos.slotpro.shop.2",name:"item2",test:{receiptCipheredPayload:"dc3TGyGHPUFOybmNe2SZjZpvvkGo+HA55W7JAHQskC1x413YbMfsSsuQcqVn3y5tSMSQNHHvXBzB2HKBjLQmcD4oKPTi5+uxQtrjcVQ4VlzoXfrhuLnILBsUSxG/+h8PIbcmdl+zxncrsyMxOcT338+kcQDXhu9zsYwE8LZBHLBqh+9dOVWAAppS7sP2tsQqvYLDr3YXftBuAFrhFfNpX6lj5NaNLihlvlKybnN+hocAPmvuo4WmTp8ctxrG/I5f/TuMVJMkygegSLnbsrD6VnU1cPIl/W0emodxV7XkNA/vjxGnDNaYJIrRpb2Zff7GS92ZIRO5FtEe0omgWHM3Xg==",receipt:'{"orderId":"GPA.3309-2982-4662-75240","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.2","purchaseTime":1565962353107,"purchaseState":0,"purchaseToken":"kbfmbdjnjomipffjgpfbkbbi.AO-J1OwLkWhi4xiddtlL3YVT4Ixw35jnxkzQ0a-oPNbxONJsqvtCdWmBxVM8VTTm4F_UrZxYtdwXzmN6Wf6mSKbtKc8WdpMfJLPJrTZcZb7IC0543DHaykv6lxucA-hqE-a8wbNvA9sG"}',currencyCode:"VND",transactionID:"GPA.3309-2982-4662-75240",priceValue:23e3,price:"23.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.2",name:"item2"}},item3:{id:"org.cocos.slotpro.shop.3",name:"item3",test:{receiptCipheredPayload:"HU4sA2376TuMAk8kYpd68/eesfTJXtt7yOxmPDf54988zB0IJLD+37PFcGA1NleeWY1U1W+ZYcxmfZ0Wy1D3EMQxcNMzZaNIZMFdONhxLslG3WhLvp2BRNFUUV+1v0g5F0AToedBHV3IXIx1mJY1/hI3RFST4xwHLfztjed1j/qFH8zso3RqjT2FGPfmN4X6VgZPqkdEILvUB+bLftgAjxPWZqg4w4mublFz0ayDirXxB+SVBv2KckQ99PJoMgyfoowAy/H50G4bI0o23/H4T68d9gntpsLjIm/DZzF8mrLU+yQkq0aFeV+N1BzS6GyCc9w2r8SAnxIXZtKUU/HeiQ==",receipt:'{"orderId":"GPA.3391-9127-1603-74381","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.3","purchaseTime":1565962284557,"purchaseState":0,"purchaseToken":"pkigamijfljbbnimclkimhca.AO-J1OzHF-XYwDV5V02kYXvkrJh5DN-KvN2C8KDcLvNVxZH2TtG0SqX1gDe_hjjw2F5zX2-c-wDQhjYyTNHHYm6lGuifaC2QwZoOwoff5zAxf3VKAe-Q4g0AVhAfwzuoiofZ1tHuItIx"}',currencyCode:"VND",transactionID:"GPA.3391-9127-1603-74381",priceValue:46e3,price:"46.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.3",name:"item3"}},item4:{id:"org.cocos.slotpro.shop.4",name:"item4",test:{receiptCipheredPayload:"IH4vO25y1e5lbKIanA9Tdtxq0FHASjqiAxq02a5LgtNL4NsV8cQnsGCkkRF3SoE5y2jC/HHGJpcgJ2/4QlnKcdnI+ExxqnLoHYQXZqq6vV209VJd9Er5kpdm9hRhosO3sdpCX/clVDpboKB/SoqXizP0ouUWOT2Fd0fpyObbEN1Kv8K1YnTkYVavv5+s8wlsaT4hwuw5un+LtweJk3qf7bKa5H7sZz8tGDpDzG1+f6JHe6cISLUE1JMer3Dd/MFidb4uhkq3f/C87RvtHDmiQ1J5lgrTi6PFdLYgv9Dn3z2v7bYwifp/ZMJgw9RrUNiictOo7P4AvT/JoSVzedTb1g==",receipt:'{"orderId":"GPA.3328-3045-4691-76797","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.4","purchaseTime":1565962489753,"purchaseState":0,"purchaseToken":"bedegoamhoccapkemcagebjg.AO-J1OybTUfGb59iBjj920rrEUYF4eXZS9l4olkvFIB_HY6mG1JiQWmvo6HxSCwwbx7TmZPXhV5aVbI3XJziLtjOLld0_-LofUl3UHxjpwZ8v6jBTlJMse2aTG3dr--CwHsSfn99hSmz"}',currencyCode:"VND",transactionID:"GPA.3328-3045-4691-76797",priceValue:115e3,price:"115.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.4",name:"item4"}},item5:{id:"org.cocos.slotpro.shop.5",name:"item5",test:{receiptCipheredPayload:"AXiRwZY/xP2URFvaeI5FrhnzPIt5RxYrEHI3fhp8MWmyHCv40/Rm34umLUtbgrREv+vC4XXB6sioFcdi71M/p9pZJGDBBcDo3p1MqIrZOorldLUviAgAZOqlIJ/iadrTDiqtAwPafFqaiOgMply0gLmkH4A1YvsCF3w5M8V2OwMe+okmXduVECU5600JTxm1HVe+LcnQu4bY3CQxC4kOgRbWKSQ2WDCtYZ3yaTgdqNa8mE5Q4lcfosPq/+ULqcAZzre4SRA7OAHI7lEj2u8/llxkZg7BRtm2sZG+GPJWXl8vgyOddKO8/VmUWSjWk56cdfYEUQnzr8g0EK0QIHUUnw==",receipt:'{"orderId":"GPA.3331-9312-3410-01013","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.5","purchaseTime":1565962450502,"purchaseState":0,"purchaseToken":"dbmlajfmlhlfekjlmegkdflg.AO-J1OzrrqMAMT3C7ZtIbF6P2CuxG9bFRTCHZ_bq03TheQkaBAWw1p4l4f8P1J49Zg2EDQdPsQbfKxcaa5L2wgFsugwfAbSA9__hwNQQz7bKspaymOsJMW2hGwk3Cyr2NssFAJdwCj1-"}',currencyCode:"VND",transactionID:"GPA.3331-9312-3410-01013",priceValue:23e4,price:"230.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.5",name:"item5"}},item6:{id:"org.cocos.slotpro.shop.6",name:"item6",test:{receiptCipheredPayload:"DqPDJo/7Z6CSchM2cX3WfJlO+hj7avGWDG7zc4BycjL32Wl1heqaAnU/zgBZRoJX8k45USBCmatzCrok8sKiY+n/tX3AJ8CkOjEYDy8c1C67c69Gad6+Pe3n3zvmn+EL8fZAxctg0zQadgOveY47itVkh4aku8ASx1GkVBq5frvfFbbwfBKEos5bMlX3tJTQr08jBKvMXOA8CKJfln06pfLj9bzHoVnqAZNbYArclpPLevmA9HUyL1FXWcWYu7jYp/KmUK7iMUSgnX+5qUooymVHKwKfrZE8MSbsvppZxDul2bWmVetkq9699dqlSUQhX/wbSs1sp3FjxstPURIUaw==",receipt:'{"orderId":"GPA.3358-4575-3419-47067","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.6","purchaseTime":1565962516465,"purchaseState":0,"purchaseToken":"jejbeamhcifeckfdhohcgfij.AO-J1OzLCw_utrOMgNmnZM_2hqfHYuwTS51naG6lAdWj0p9WZ4NAGQ3c9xPGYA55_dpzrlFmB8ezeRSNkzAFy35uVV7fvn_mfNb0OAOCPV8sgvyH2ugNyFKNgIQx3NU0W8KcFe8I9HVd"}',currencyCode:"VND",transactionID:"GPA.3358-4575-3419-47067",priceValue:345e3,price:"345.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.6",name:"item6"}}},ios:{item1:{id:"org.cocos.slotpro.shop.1",name:"item1",test:"item1"},item2:{id:"org.cocos.slotpro.shop.2",name:"item2",test:{receiptCipheredPayload:"dc3TGyGHPUFOybmNe2SZjZpvvkGo+HA55W7JAHQskC1x413YbMfsSsuQcqVn3y5tSMSQNHHvXBzB2HKBjLQmcD4oKPTi5+uxQtrjcVQ4VlzoXfrhuLnILBsUSxG/+h8PIbcmdl+zxncrsyMxOcT338+kcQDXhu9zsYwE8LZBHLBqh+9dOVWAAppS7sP2tsQqvYLDr3YXftBuAFrhFfNpX6lj5NaNLihlvlKybnN+hocAPmvuo4WmTp8ctxrG/I5f/TuMVJMkygegSLnbsrD6VnU1cPIl/W0emodxV7XkNA/vjxGnDNaYJIrRpb2Zff7GS92ZIRO5FtEe0omgWHM3Xg==",receipt:'{"orderId":"GPA.3309-2982-4662-75240","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.2","purchaseTime":1565962353107,"purchaseState":0,"purchaseToken":"kbfmbdjnjomipffjgpfbkbbi.AO-J1OwLkWhi4xiddtlL3YVT4Ixw35jnxkzQ0a-oPNbxONJsqvtCdWmBxVM8VTTm4F_UrZxYtdwXzmN6Wf6mSKbtKc8WdpMfJLPJrTZcZb7IC0543DHaykv6lxucA-hqE-a8wbNvA9sG"}',currencyCode:"VND",transactionID:"GPA.3309-2982-4662-75240",priceValue:23e3,price:"23.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.2",name:"item2"}},item3:{id:"org.cocos.slotpro.shop.3",name:"item3",test:{receiptCipheredPayload:"HU4sA2376TuMAk8kYpd68/eesfTJXtt7yOxmPDf54988zB0IJLD+37PFcGA1NleeWY1U1W+ZYcxmfZ0Wy1D3EMQxcNMzZaNIZMFdONhxLslG3WhLvp2BRNFUUV+1v0g5F0AToedBHV3IXIx1mJY1/hI3RFST4xwHLfztjed1j/qFH8zso3RqjT2FGPfmN4X6VgZPqkdEILvUB+bLftgAjxPWZqg4w4mublFz0ayDirXxB+SVBv2KckQ99PJoMgyfoowAy/H50G4bI0o23/H4T68d9gntpsLjIm/DZzF8mrLU+yQkq0aFeV+N1BzS6GyCc9w2r8SAnxIXZtKUU/HeiQ==",receipt:'{"orderId":"GPA.3391-9127-1603-74381","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.3","purchaseTime":1565962284557,"purchaseState":0,"purchaseToken":"pkigamijfljbbnimclkimhca.AO-J1OzHF-XYwDV5V02kYXvkrJh5DN-KvN2C8KDcLvNVxZH2TtG0SqX1gDe_hjjw2F5zX2-c-wDQhjYyTNHHYm6lGuifaC2QwZoOwoff5zAxf3VKAe-Q4g0AVhAfwzuoiofZ1tHuItIx"}',currencyCode:"VND",transactionID:"GPA.3391-9127-1603-74381",priceValue:46e3,price:"46.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.3",name:"item3"}},item4:{id:"org.cocos.slotpro.shop.4",name:"item4",test:{receiptCipheredPayload:"IH4vO25y1e5lbKIanA9Tdtxq0FHASjqiAxq02a5LgtNL4NsV8cQnsGCkkRF3SoE5y2jC/HHGJpcgJ2/4QlnKcdnI+ExxqnLoHYQXZqq6vV209VJd9Er5kpdm9hRhosO3sdpCX/clVDpboKB/SoqXizP0ouUWOT2Fd0fpyObbEN1Kv8K1YnTkYVavv5+s8wlsaT4hwuw5un+LtweJk3qf7bKa5H7sZz8tGDpDzG1+f6JHe6cISLUE1JMer3Dd/MFidb4uhkq3f/C87RvtHDmiQ1J5lgrTi6PFdLYgv9Dn3z2v7bYwifp/ZMJgw9RrUNiictOo7P4AvT/JoSVzedTb1g==",receipt:'{"orderId":"GPA.3328-3045-4691-76797","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.4","purchaseTime":1565962489753,"purchaseState":0,"purchaseToken":"bedegoamhoccapkemcagebjg.AO-J1OybTUfGb59iBjj920rrEUYF4eXZS9l4olkvFIB_HY6mG1JiQWmvo6HxSCwwbx7TmZPXhV5aVbI3XJziLtjOLld0_-LofUl3UHxjpwZ8v6jBTlJMse2aTG3dr--CwHsSfn99hSmz"}',currencyCode:"VND",transactionID:"GPA.3328-3045-4691-76797",priceValue:115e3,price:"115.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.4",name:"item4"}},item5:{id:"org.cocos.slotpro.shop.5",name:"item5",test:{receiptCipheredPayload:"AXiRwZY/xP2URFvaeI5FrhnzPIt5RxYrEHI3fhp8MWmyHCv40/Rm34umLUtbgrREv+vC4XXB6sioFcdi71M/p9pZJGDBBcDo3p1MqIrZOorldLUviAgAZOqlIJ/iadrTDiqtAwPafFqaiOgMply0gLmkH4A1YvsCF3w5M8V2OwMe+okmXduVECU5600JTxm1HVe+LcnQu4bY3CQxC4kOgRbWKSQ2WDCtYZ3yaTgdqNa8mE5Q4lcfosPq/+ULqcAZzre4SRA7OAHI7lEj2u8/llxkZg7BRtm2sZG+GPJWXl8vgyOddKO8/VmUWSjWk56cdfYEUQnzr8g0EK0QIHUUnw==",receipt:'{"orderId":"GPA.3331-9312-3410-01013","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.5","purchaseTime":1565962450502,"purchaseState":0,"purchaseToken":"dbmlajfmlhlfekjlmegkdflg.AO-J1OzrrqMAMT3C7ZtIbF6P2CuxG9bFRTCHZ_bq03TheQkaBAWw1p4l4f8P1J49Zg2EDQdPsQbfKxcaa5L2wgFsugwfAbSA9__hwNQQz7bKspaymOsJMW2hGwk3Cyr2NssFAJdwCj1-"}',currencyCode:"VND",transactionID:"GPA.3331-9312-3410-01013",priceValue:23e4,price:"230.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.5",name:"item5"}},item6:{id:"org.cocos.slotpro.shop.6",name:"item6",test:{receiptCipheredPayload:"DqPDJo/7Z6CSchM2cX3WfJlO+hj7avGWDG7zc4BycjL32Wl1heqaAnU/zgBZRoJX8k45USBCmatzCrok8sKiY+n/tX3AJ8CkOjEYDy8c1C67c69Gad6+Pe3n3zvmn+EL8fZAxctg0zQadgOveY47itVkh4aku8ASx1GkVBq5frvfFbbwfBKEos5bMlX3tJTQr08jBKvMXOA8CKJfln06pfLj9bzHoVnqAZNbYArclpPLevmA9HUyL1FXWcWYu7jYp/KmUK7iMUSgnX+5qUooymVHKwKfrZE8MSbsvppZxDul2bWmVetkq9699dqlSUQhX/wbSs1sp3FjxstPURIUaw==",receipt:'{"orderId":"GPA.3358-4575-3419-47067","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.6","purchaseTime":1565962516465,"purchaseState":0,"purchaseToken":"jejbeamhcifeckfdhohcgfij.AO-J1OzLCw_utrOMgNmnZM_2hqfHYuwTS51naG6lAdWj0p9WZ4NAGQ3c9xPGYA55_dpzrlFmB8ezeRSNkzAFy35uVV7fvn_mfNb0OAOCPV8sgvyH2ugNyFKNgIQx3NU0W8KcFe8I9HVd"}',currencyCode:"VND",transactionID:"GPA.3358-4575-3419-47067",priceValue:345e3,price:"345.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.6",name:"item6"}}},web:{item1:{id:"org.cocos.slotpro.shop.1",name:"item1",test:"item1"},item2:{id:"org.cocos.slotpro.shop.2",name:"item2",test:{receiptCipheredPayload:"dc3TGyGHPUFOybmNe2SZjZpvvkGo+HA55W7JAHQskC1x413YbMfsSsuQcqVn3y5tSMSQNHHvXBzB2HKBjLQmcD4oKPTi5+uxQtrjcVQ4VlzoXfrhuLnILBsUSxG/+h8PIbcmdl+zxncrsyMxOcT338+kcQDXhu9zsYwE8LZBHLBqh+9dOVWAAppS7sP2tsQqvYLDr3YXftBuAFrhFfNpX6lj5NaNLihlvlKybnN+hocAPmvuo4WmTp8ctxrG/I5f/TuMVJMkygegSLnbsrD6VnU1cPIl/W0emodxV7XkNA/vjxGnDNaYJIrRpb2Zff7GS92ZIRO5FtEe0omgWHM3Xg==",receipt:'{"orderId":"GPA.3309-2982-4662-75240","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.2","purchaseTime":1565962353107,"purchaseState":0,"purchaseToken":"kbfmbdjnjomipffjgpfbkbbi.AO-J1OwLkWhi4xiddtlL3YVT4Ixw35jnxkzQ0a-oPNbxONJsqvtCdWmBxVM8VTTm4F_UrZxYtdwXzmN6Wf6mSKbtKc8WdpMfJLPJrTZcZb7IC0543DHaykv6lxucA-hqE-a8wbNvA9sG"}',currencyCode:"VND",transactionID:"GPA.3309-2982-4662-75240",priceValue:23e3,price:"23.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.2",name:"item2"}},item3:{id:"org.cocos.slotpro.shop.3",name:"item3",test:{receiptCipheredPayload:"HU4sA2376TuMAk8kYpd68/eesfTJXtt7yOxmPDf54988zB0IJLD+37PFcGA1NleeWY1U1W+ZYcxmfZ0Wy1D3EMQxcNMzZaNIZMFdONhxLslG3WhLvp2BRNFUUV+1v0g5F0AToedBHV3IXIx1mJY1/hI3RFST4xwHLfztjed1j/qFH8zso3RqjT2FGPfmN4X6VgZPqkdEILvUB+bLftgAjxPWZqg4w4mublFz0ayDirXxB+SVBv2KckQ99PJoMgyfoowAy/H50G4bI0o23/H4T68d9gntpsLjIm/DZzF8mrLU+yQkq0aFeV+N1BzS6GyCc9w2r8SAnxIXZtKUU/HeiQ==",receipt:'{"orderId":"GPA.3391-9127-1603-74381","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.3","purchaseTime":1565962284557,"purchaseState":0,"purchaseToken":"pkigamijfljbbnimclkimhca.AO-J1OzHF-XYwDV5V02kYXvkrJh5DN-KvN2C8KDcLvNVxZH2TtG0SqX1gDe_hjjw2F5zX2-c-wDQhjYyTNHHYm6lGuifaC2QwZoOwoff5zAxf3VKAe-Q4g0AVhAfwzuoiofZ1tHuItIx"}',currencyCode:"VND",transactionID:"GPA.3391-9127-1603-74381",priceValue:46e3,price:"46.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.3",name:"item3"}},item4:{id:"org.cocos.slotpro.shop.4",name:"item4",test:{receiptCipheredPayload:"IH4vO25y1e5lbKIanA9Tdtxq0FHASjqiAxq02a5LgtNL4NsV8cQnsGCkkRF3SoE5y2jC/HHGJpcgJ2/4QlnKcdnI+ExxqnLoHYQXZqq6vV209VJd9Er5kpdm9hRhosO3sdpCX/clVDpboKB/SoqXizP0ouUWOT2Fd0fpyObbEN1Kv8K1YnTkYVavv5+s8wlsaT4hwuw5un+LtweJk3qf7bKa5H7sZz8tGDpDzG1+f6JHe6cISLUE1JMer3Dd/MFidb4uhkq3f/C87RvtHDmiQ1J5lgrTi6PFdLYgv9Dn3z2v7bYwifp/ZMJgw9RrUNiictOo7P4AvT/JoSVzedTb1g==",receipt:'{"orderId":"GPA.3328-3045-4691-76797","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.4","purchaseTime":1565962489753,"purchaseState":0,"purchaseToken":"bedegoamhoccapkemcagebjg.AO-J1OybTUfGb59iBjj920rrEUYF4eXZS9l4olkvFIB_HY6mG1JiQWmvo6HxSCwwbx7TmZPXhV5aVbI3XJziLtjOLld0_-LofUl3UHxjpwZ8v6jBTlJMse2aTG3dr--CwHsSfn99hSmz"}',currencyCode:"VND",transactionID:"GPA.3328-3045-4691-76797",priceValue:115e3,price:"115.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.4",name:"item4"}},item5:{id:"org.cocos.slotpro.shop.5",name:"item5",test:{receiptCipheredPayload:"AXiRwZY/xP2URFvaeI5FrhnzPIt5RxYrEHI3fhp8MWmyHCv40/Rm34umLUtbgrREv+vC4XXB6sioFcdi71M/p9pZJGDBBcDo3p1MqIrZOorldLUviAgAZOqlIJ/iadrTDiqtAwPafFqaiOgMply0gLmkH4A1YvsCF3w5M8V2OwMe+okmXduVECU5600JTxm1HVe+LcnQu4bY3CQxC4kOgRbWKSQ2WDCtYZ3yaTgdqNa8mE5Q4lcfosPq/+ULqcAZzre4SRA7OAHI7lEj2u8/llxkZg7BRtm2sZG+GPJWXl8vgyOddKO8/VmUWSjWk56cdfYEUQnzr8g0EK0QIHUUnw==",receipt:'{"orderId":"GPA.3331-9312-3410-01013","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.5","purchaseTime":1565962450502,"purchaseState":0,"purchaseToken":"dbmlajfmlhlfekjlmegkdflg.AO-J1OzrrqMAMT3C7ZtIbF6P2CuxG9bFRTCHZ_bq03TheQkaBAWw1p4l4f8P1J49Zg2EDQdPsQbfKxcaa5L2wgFsugwfAbSA9__hwNQQz7bKspaymOsJMW2hGwk3Cyr2NssFAJdwCj1-"}',currencyCode:"VND",transactionID:"GPA.3331-9312-3410-01013",priceValue:23e4,price:"230.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.5",name:"item5"}},item6:{id:"org.cocos.slotpro.shop.6",name:"item6",test:{receiptCipheredPayload:"DqPDJo/7Z6CSchM2cX3WfJlO+hj7avGWDG7zc4BycjL32Wl1heqaAnU/zgBZRoJX8k45USBCmatzCrok8sKiY+n/tX3AJ8CkOjEYDy8c1C67c69Gad6+Pe3n3zvmn+EL8fZAxctg0zQadgOveY47itVkh4aku8ASx1GkVBq5frvfFbbwfBKEos5bMlX3tJTQr08jBKvMXOA8CKJfln06pfLj9bzHoVnqAZNbYArclpPLevmA9HUyL1FXWcWYu7jYp/KmUK7iMUSgnX+5qUooymVHKwKfrZE8MSbsvppZxDul2bWmVetkq9699dqlSUQhX/wbSs1sp3FjxstPURIUaw==",receipt:'{"orderId":"GPA.3358-4575-3419-47067","packageName":"org.cocos2d.SlotPro","productId":"org.cocos.slotpro.shop.6","purchaseTime":1565962516465,"purchaseState":0,"purchaseToken":"jejbeamhcifeckfdhohcgfij.AO-J1OzLCw_utrOMgNmnZM_2hqfHYuwTS51naG6lAdWj0p9WZ4NAGQ3c9xPGYA55_dpzrlFmB8ezeRSNkzAFy35uVV7fvn_mfNb0OAOCPV8sgvyH2ugNyFKNgIQx3NU0W8KcFe8I9HVd"}',currencyCode:"VND",transactionID:"GPA.3358-4575-3419-47067",priceValue:345e3,price:"345.000\xa0\u20ab",description:"Amazing Shop",title:"Amazing Shop (Amazing Slot)",id:"org.cocos.slotpro.shop.6",name:"item6"}}}},o.track={APP_LAUNCHER:"app_launcher",GET_TOKKEN_SUCCESSED:"get_tokken_successed",GET_TOKKEN_ERROR:"get_tokken_error",LOGIN_SUCCESSED:"login_successed",LOGIN_FAILED:"login_failed",FACEBOOK_LOGIN_CLICK:"facebook_login_click",FACEBOOK_SHARE_CLICK:"facebook_share_click",FACEBOOK_SHARE_SUCCESS:"facebook_share_success",FACEBOOK_SHARE_FAILED:"facebook_share_failed",FACEBOOK_SHARE_CANCELED:"facebook_share_canceled",IAP_PURCHASE_CLICK:"iap_purchase_click",IAP_PURCHASE_ITEM:"iap_purchase_item",IAP_PURCHASE_WHEEL:"iap_purchase_wheel",IAP_PURCHASE_DEAL:"iap_purchase_deal",IAP_PURCHASE_SUCCESS:"iap_purchase_success",IAP_PURCHASE_FAILED:"iap_purchase_failed",IAP_PURCHASE_CANCELED:"iap_purchase_canceled",IAP_PURCHASE_RESTORED:"iap_purchase_restored",IAP_PURCHASE_RESTOR_COMPLETED:"iap_purchase_restor_completed",POPUP_POPUPNAME_OPEN:"popup_POPUPNAME_open",OPEN_HOME:"open_home",OPEN_GAME:"open_game",OPEN_WHEEL:"open_wheel",OPEN_BONUS:"open_bonus",OPEN_SLOT:"open_slot_SMID",MULTI_SHOW:"multi_show",MULTI_HIDE:"multi_hide",MULTI_OPEN_GAME:"multi_open_game",MINIMIZE_GAME:"minimize_game",BACK_GAME:"back_game",SOUND_OFF:"sound_off",SOUND_ON:"sound_on",MUSIC_OFF:"music_off",MUSIC_ON:"music_on",RATE_GAME:"rate_game",QUEST_COMPLETE:"quest_complete",WEEK_COMPLETE:"week_complete",SPIN_SLOT:"spin_slot",AUTO_SPIN:"auto_spin_NUMSPIN"},cc._RF.pop()},{}],DefineString:[function(e,t,o){"use strict";cc._RF.push(t,"86920azjvlF2aegI5lFwsX2","DefineString"),Object.defineProperty(o,"__esModule",{value:!0}),o.URL_STORE_ANDROID="https://play.google.com/store/apps/details?id=PACKAGE_NAME",o.URL_STORE_IOS="https://apps.apple.com/vn/app/mots-cookies/id1268958178?l=vi",o.URL_FANPAGE="https://www.facebook.com/PAGEID/",o.URL_GROUP="https://www.facebook.com/groups/GROUPID",o.URL_AVT_FACEBOOK="https://graph.facebook.com/v2.4/%facebookID%/picture?width=200&height=200&redirect=true",cc._RF.pop()},{}],DefineType:[function(e,t,o){"use strict";cc._RF.push(t,"32547KClMBKu7TJmMCb7CuI","DefineType"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./DefineZIndex");(function(e){e[e.NORMAL=0]="NORMAL",e[e.IPAD=1]="IPAD",e[e.IPHONEX=2]="IPHONEX"})(o.Device||(o.Device={})),function(e){e.IOS_NAVITE="IOS_NAVITE",e.ANDROID_NAVITE="ANDROID_NAVITE",e.WEB_MOBILE="WEB_MOBILE",e.WEB_PC="WEB_PC",e.UNKNOW="UNKNOW"}(o.DEVICE_OS||(o.DEVICE_OS={})),function(e){e[e.PLAYNOW=0]="PLAYNOW",e[e.FACEBOOK=1]="FACEBOOK"}(o.LOGIN_TYPE||(o.LOGIN_TYPE={})),function(e){e.IOS_COCOS="iOS_cocos",e.ANDROID_COCOS="Android_cocos",e.WEB_COCOS="Web_cocos"}(o.GAME_OS||(o.GAME_OS={})),function(e){e[e.LOGIN=1]="LOGIN",e[e.API=2]="API",e[e.SHARED_SUCCESS=3]="SHARED_SUCCESS",e[e.SHARED_FAILED=4]="SHARED_FAILED",e[e.SHARED_CANCEL=5]="SHARED_CANCEL",e[e.PERMISSON=6]="PERMISSON",e[e.FETCHFRIENDS=7]="FETCHFRIENDS",e[e.REQUESTINVITABLEFRIENDS=8]="REQUESTINVITABLEFRIENDS",e[e.INVITEFRIENDSWITHINVITEIDSRESULT=9]="INVITEFRIENDSWITHINVITEIDSRESULT",e[e.INVITEFRIENDSRESULT=10]="INVITEFRIENDSRESULT",e[e.GETUSERINFO=11]="GETUSERINFO",e[e.REQUESTGIFTRESULT=12]="REQUESTGIFTRESULT",e[e.SENDGIFTRESULT=13]="SENDGIFTRESULT",e[e.FACEBOOK_NOT_INSTALL=14]="FACEBOOK_NOT_INSTALL"}(o.FACEBOOK_LISTENNER||(o.FACEBOOK_LISTENNER={})),function(e){e[e.DIDRECEIVEAD=1]="DIDRECEIVEAD",e[e.DIDFAILTORECEIVEADWITHERROR=2]="DIDFAILTORECEIVEADWITHERROR",e[e.WILLPRESENTSCREEN=3]="WILLPRESENTSCREEN",e[e.DIDDISMISSSCREEN=4]="DIDDISMISSSCREEN",e[e.WILLDISMISSSCREEN=5]="WILLDISMISSSCREEN",e[e.WILLLEAVEAPPLICATION=6]="WILLLEAVEAPPLICATION",e[e.REWARD=7]="REWARD"}(o.ADMOB_LISTENNER||(o.ADMOB_LISTENNER={})),function(e){e[e.normal=1]="normal",e[e.stopAutoSpin=2]="stopAutoSpin",e[e.stopNormalSpin=3]="stopNormalSpin"}(o.SpinButton||(o.SpinButton={})),function(e){e[e.active=1]="active",e[e.lock=-1]="lock"}(o.BottomBar||(o.BottomBar={})),function(e){e.LEFT="LEFT",e.RIGHT="RIGHT",e.UP="UP",e.DOWN="DOWN"}(o.DIRECTION||(o.DIRECTION={})),function(e){e[e.BOUCE_IN=1]="BOUCE_IN",e[e.BOUCE_OUT=2]="BOUCE_OUT",e[e.MOVE_IN_BY_LEFT=3]="MOVE_IN_BY_LEFT",e[e.MOVE_IN_BY_RIGHT=4]="MOVE_IN_BY_RIGHT",e[e.MOVE_IN_BY_UP=5]="MOVE_IN_BY_UP",e[e.MOVE_IN_BY_DOWN=6]="MOVE_IN_BY_DOWN",e[e.MOVE_OUT_BY_LEFT=7]="MOVE_OUT_BY_LEFT",e[e.MOVE_OUT_BY_RIGHT=8]="MOVE_OUT_BY_RIGHT",e[e.MOVE_OUT_BY_UP=9]="MOVE_OUT_BY_UP",e[e.MOVE_OUT_BY_DOWN=10]="MOVE_OUT_BY_DOWN"}(o.EFFECT||(o.EFFECT={})),function(e){e[e.IN=1]="IN",e[e.OUT=2]="OUT"}(o.EFFECT_KIND||(o.EFFECT_KIND={})),function(e){e[e.BOUCE=1]="BOUCE",e[e.MOVE_BY_LEFT=2]="MOVE_BY_LEFT",e[e.MOVE_BY_RIGHT=3]="MOVE_BY_RIGHT",e[e.MOVE_BY_UP=4]="MOVE_BY_UP",e[e.MOVE_BY_DOWN=5]="MOVE_BY_DOWN"}(o.EFFECT_TYPE||(o.EFFECT_TYPE={})),function(e){e[e.NONE=0]="NONE",e[e.NORMAL=n.POPUP]="NORMAL",e[e.HIGH=n.HIGH_POPUP]="HIGH"}(o.POPUP_TYPE||(o.POPUP_TYPE={})),function(e){e[e.NONE=0]="NONE",e[e.NORMAL=n.DIALOG]="NORMAL",e[e.HIGH=n.HIGH_DIALOG]="HIGH",e[e.FORCE=n.FORCE_DIALOG]="FORCE"}(o.DIALOG_TYPE||(o.DIALOG_TYPE={})),function(e){e[e.NULL=0]="NULL",e[e.NORMAL=1]="NORMAL",e[e.BIGWIN=2]="BIGWIN",e[e.MEGAWIN=3]="MEGAWIN"}(o.WIN_TYPE||(o.WIN_TYPE={})),function(e){e[e.HOME=0]="HOME",e[e.GAME=1]="GAME"}(o.VIEW||(o.VIEW={})),function(e){e[e.GOLD=0]="GOLD",e[e.SILVER=1]="SILVER"}(o.WHEEL_BONUS||(o.WHEEL_BONUS={})),function(e){e[e.LUCY=1]="LUCY",e[e.LEVEL=2]="LEVEL",e[e.FREE_WHEEL=3]="FREE_WHEEL"}(o.EDailyBonus||(o.EDailyBonus={})),function(e){e[e.NONE=0]="NONE",e[e.ENABLE=1]="ENABLE"}(o.MASK_TYPE||(o.MASK_TYPE={})),function(e){e[e.NONE=0]="NONE",e[e.ACTIVE=1]="ACTIVE",e[e.PLAY_ON_LOAD=2]="PLAY_ON_LOAD",e[e.PLAY_AFTER_ANIMATION=3]="PLAY_AFTER_ANIMATION"}(o.COIN_TYPE||(o.COIN_TYPE={})),function(e){e[e.PRIMARY=0]="PRIMARY",e[e.SECONDARY=1]="SECONDARY",e[e.SUCCESS=2]="SUCCESS",e[e.DANGER=3]="DANGER",e[e.WARNING=4]="WARNING",e[e.INFO=5]="INFO",e[e.LIGHT=6]="LIGHT",e[e.DARK=7]="DARK"}(o.CLASS_THEME||(o.CLASS_THEME={})),function(e){e[e.NONE=0]="NONE",e[e.TINY=1]="TINY",e[e.NORMAL=2]="NORMAL",e[e.LANGEST=3]="LANGEST"}(o.SIZE||(o.SIZE={})),function(e){e.GENERAL_SHOP="GENERAL_SHOP",e.MEGA_WHEEL="MEGA_WHEEL",e.DEAL_SHOP="DEAL_SHOP"}(o.ESHOP||(o.ESHOP={})),cc._RF.pop()},{"./DefineZIndex":"DefineZIndex"}],DefineZIndex:[function(e,t,o){"use strict";cc._RF.push(t,"47bf7Wr5uBLNIx61CJzDgpW","DefineZIndex"),Object.defineProperty(o,"__esModule",{value:!0}),o.HOME=1,o.GAME=2,o.MINIGAME=3,o.POPUP=4,o.MULTI=5,o.BAR=6,o.HIGH_POPUP=7,o.DIALOG=8,o.HIGH_DIALOG=9,o.EFFECT=10,o.MODEL=12,o.FORCE_DIALOG=13,o.SHORT_LOADING=14,cc._RF.pop()},{}],Dialog:[function(e,t,o){"use strict";cc._RF.push(t,"3e79fLmWapEfp6KcYzgMANs","Dialog"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../BasePopup"),i=e("../Define/DefineType"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(){function e(){this.type=i.CLASS_THEME.SUCCESS,this.resource=void 0}return __decorate([s({type:cc.Enum(i.CLASS_THEME)})],e.prototype,"type",void 0),__decorate([s({type:cc.SpriteFrame})],e.prototype,"resource",void 0),e=__decorate([a("ButtonResource")],e)}();o.ButtonResource=c;var l=function(){function e(){this.node=void 0,this.message=void 0,this.editbox=void 0,this.button=void 0,this.layButton=void 0}return __decorate([s({type:cc.Node})],e.prototype,"node",void 0),__decorate([s({type:cc.Node})],e.prototype,"message",void 0),__decorate([s({type:cc.Node})],e.prototype,"editbox",void 0),__decorate([s({type:cc.Node})],e.prototype,"button",void 0),__decorate([s({type:cc.Node})],e.prototype,"layButton",void 0),e=__decorate([a("DialogItem")],e)}();o.DialogItem=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.DIALOG_TYPE.NORMAL,t.layTitle=void 0,t.lbTitle=void 0,t.buttonResource=[],t.dialogItems=new l,t.data=void 0,t.editboxs=[],t}return __extends(t,e),t.prototype.onLoad=function(){this.mask=this.overlay||this.node.getChildByName("mask"),this.popup=this.popBg||this.node.getChildByName("popup"),this.oriPos=this.node.getPosition(),this.popup||cc.warn("BasePopup","Please add popup background in script for run"),this.popupName&&(view.dialog[this.popupName]=this),this.mask&&(this.mask.active=!0),this.type!==i.DIALOG_TYPE.NONE&&(this.node.zIndex=this.type),this.autoOpen||(util.game.hideNode(this.node),this.node.x=cc.winSize.width+this.oriPos.x),this.render(),this.type===i.DIALOG_TYPE.FORCE?this.allowClose=!1:!1===this.data.allowClose?this.allowClose=!1:this.allowClose=!0},t.prototype.init=function(e){this.data=e,this.type=void 0===e.type?i.DIALOG_TYPE.NORMAL:e.type,this.popupName=e.name||util.game.generateUUID()},t.prototype.render=function(){var e=this,t=this.data,o=(t.type,t.title),n=t.message,r=t.editboxs,a=t.buttons;if(o?(this.layTitle.active=!0,this.lbTitle.string=o):this.layTitle.active=!1,n){var s=cc.instantiate(this.dialogItems.message);s.x=0,s.parent=this.popup,s.height=n.size==i.SIZE.LANGEST?330:n.size==i.SIZE.TINY?110:220;var c=s.getComponent(cc.Label);c.string=n.message,r&&(c.overflow=cc.Label.Overflow.NONE)}if(r&&(this.editboxs=r.map(function(t){var o=cc.instantiate(e.dialogItems.editbox);o.x=0,o.parent=e.popup;var n=o.getComponent(cc.EditBox);return Object.keys(t).forEach(function(e){n[e]=t[e]}),n})),a){var l=cc.instantiate(this.dialogItems.layButton).getComponent(cc.Layout);l.spacingX=2==a.length?100:30,l.node.x=0,l.node.parent=this.popup,a.forEach(function(t,o){var n=t.title,r=t.theme,a=t.countdown,s=cc.instantiate(e.dialogItems.button).getComponent(cc.Button),c=s.node.getChildByName("text").getComponent(cc.Label);s.node.parent=l.node,s.node.y=0,n=n||"OK",c.string=n;var u=e.buttonResource.find(function(e){return e.type===r})||e.buttonResource.find(function(e){return e.type===i.CLASS_THEME.SUCCESS});s.getComponent(cc.Sprite).spriteFrame=u.resource;var p=new cc.Component.EventHandler;p.target=e.node,p.component="Dialog",p.handler="onClickButton",p.customEventData=o.toString(),s.clickEvents.push(p);var d=a;a&&s.node.runAction(cc.repeat(cc.sequence(cc.delayTime(1),cc.callFunc(function(){c&&d>=0&&(c.string=n+"("+d+")"),0===d&&e&&e.onClickButton&&e.onClickButton(s,o.toString()),d--})),a+1))})}this.dialogItems.node.active=!1},t.prototype.onClose=function(){var t=this.popupName;t&&view.dialog[t]&&delete view.dialog[t],e.prototype.onClose.call(this)},t.prototype.onClickButton=function(e,t){if(game.log("Dialog","onClickButton","button:"+t),this&&this.data&&this.data.buttons&&this.data.buttons[parseInt(t)]){var o=this.data.buttons[parseInt(t)],n=o.callback||function(e){}.bind(this),i="boolean"!=typeof o.allowClose||o.allowClose;n({editboxs:this.editboxs.map(function(e){return e.string})}),i&&this.onClose()}else game.log("Dialog","onClickButton","button data error")},t.prototype.onRelease=function(){this.node.destroy()},__decorate([s({type:cc.Enum(i.DIALOG_TYPE),displayName:"Popup Type",override:!0})],t.prototype,"type",void 0),__decorate([s({type:cc.Node})],t.prototype,"layTitle",void 0),__decorate([s({type:cc.Label})],t.prototype,"lbTitle",void 0),__decorate([s({type:[c]})],t.prototype,"buttonResource",void 0),__decorate([s({type:l})],t.prototype,"dialogItems",void 0),t=__decorate([a],t)}(n.default);o.default=u,cc._RF.pop()},{"../BasePopup":"BasePopup","../Define/DefineType":"DefineType"}],DownloadCtr:[function(e,t,o){"use strict";cc._RF.push(t,"02850mIi71MA6l6R9T/3e4h","DownloadCtr"),cc.Class({extends:cc.Component,properties:{label:cc.Label,sprite:cc.Sprite,imgUrl:"http://www.cocos.com/wp-content/themes/cocos/img/download1.png",txtUrl:"https://raw.githubusercontent.com/cocos-creator/tutorial-dark-slash/master/LICENSE.md",tempImgUrl:"http://www.cocos.com/wp-content/uploads/2018/03/%E9%BB%98%E8%AE%A4%E6%A0%87%E9%A2%98_%E5%85%AC%E4%BC%97%E5%8F%B7%E5%BA%95%E9%83%A8%E4%BA%8C%E7%BB%B4%E7%A0%81_2018.03.08.png",audioUrl:"http://tools.itharbors.com/christmas/res/sounds/ss.mp3",_downloader:null,_imgTask:null,_txtTask:null,_audioTask:null,_storagePath:"",_inited:!1},onLoad:function(){this.label.string="Downloader is a NATIVE ONLY feature."},onSucceed:function(e){var t=this;switch(-1!==this._audioID&&cc.audioEngine.stop(this._audioID),e.requestURL){case this.imgUrl:cc.loader.load(e.storagePath,function(e,o){t.sprite.spriteFrame=new cc.SpriteFrame(o),t.sprite.node.active=!0,t.label.node.active=!1});break;case this.txtUrl:var o=jsb.fileUtils.getStringFromFile(e.storagePath);this.sprite.node.active=!1,this.label.node.active=!0,this.label.string=o.substr(0,350);break;case this.audioUrl:this.sprite.node.active=!1,this.label.node.active=!0,this.label.string="Audio Download Complete.",cc.loader.load(e.storagePath,function(e,o){t._audioID=cc.audioEngine.play(o)})}},onProgress:function(e,t,o,n){},onError:function(e,t,o,n){this.sprite.node.active=!1,this.label.node.active=!0,this.label.string="Failed to download file ("+e.requestURL+"): "+n+"("+t+")"},downloadImg:function(){this.imgUrl&&this._inited&&(this.sprite.node.active=!1,this.label.node.active=!0,this.label.string="Downloading image",this._imgTask=this._downloader.createDownloadFileTask(this.imgUrl,this._storagePath+"download1.png"))},loadImg:function(){var e=this;this.tempImgUrl&&this._inited&&cc.loader.load(this.tempImgUrl,function(t,o){t?console.log("Load remote image failed: "+t):(e.sprite.spriteFrame=new cc.SpriteFrame(o),e.sprite.node.active=!0,e.label.node.active=!1,cc.audioEngine.stop(e._audioID))})},loadSource:function(e){return new Promise(function(t,o){cc.loader.load(e,function(e,n){return e?(game.log(e),o(e)):t(n)})})},loadImgFromStorage:function(){var e=this,t=this._storagePath+"download1.png";game.log(jsb.fileUtils.isFileExist(t)),this.loadSource(t).then(function(t){game.log(t),e.sprite.spriteFrame=new cc.SpriteFrame(t)}).catch(function(e){game.log("error loading banner",JSON.stringify(e))})},downloadTxt:function(){this.txtUrl&&this._inited&&(this.label.node.active=!0,this.sprite.node.active=!1,this.label.string="Downloading Txt",this._txtTask=this._downloader.createDownloadFileTask(this.txtUrl,this._storagePath+"imagine.txt"))},downloadAudio:function(){this.audioUrl&&this._inited&&(this.sprite.node.active=!1,this.label.node.active=!0,this.label.string="Downloading Audio",this._audioTask=this._downloader.createDownloadFileTask(this.audioUrl,this._storagePath+"audioTest.mp3"))},onDisable:function(){cc.audioEngine.stop(this._audioID)}}),cc._RF.pop()},{}],EffectLayout:[function(e,t,o){"use strict";cc._RF.push(t,"daca62Wj9dAVLnlm9/Y1MyW","EffectLayout"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Animation/CoinAnimation"),i=e("./Animation/ItemAnimation"),r=e("./Define/DefineType"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(){function e(){this.skeletonData=void 0,this.animation="animation",this.loop=!1,this.autoRun=!0,this.fadeOut=!0,this.autoRelease=!0,this.position=new cc.Vec2(0,0)}return __decorate([c(sp.SkeletonData)],e.prototype,"skeletonData",void 0),__decorate([c()],e.prototype,"animation",void 0),__decorate([c()],e.prototype,"loop",void 0),__decorate([c()],e.prototype,"autoRun",void 0),__decorate([c()],e.prototype,"fadeOut",void 0),__decorate([c()],e.prototype,"autoRelease",void 0),__decorate([c(cc.v2)],e.prototype,"position",void 0),e=__decorate([s("AnimationData")],e)}();o.AnimationData=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.maskEnable=r.MASK_TYPE.ENABLE,t.coinEffect=r.COIN_TYPE.NONE,t.animData=new l,t.autoRelease=!0,t.mask=void 0,t.coin=void 0,t.anim=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){this.initalization()},t.prototype.init=function(e){void 0===(e=e||{}).maskEnable&&(e.maskEnable=r.MASK_TYPE.ENABLE),void 0===e.coinEffect&&(e.coinEffect=r.COIN_TYPE.NONE),void 0===e.autoRelease&&(e.autoRelease=!0),this.maskEnable=e.maskEnable,this.coinEffect=e.coinEffect,this.animData=e.animationData,this.autoRelease=e.autoRelease,this.initalization()},t.prototype.initalization=function(){this.mask&&(this.maskEnable===r.MASK_TYPE.NONE?this.mask.active=!1:(this.mask.active=!0,this.mask.opacity=0,this.mask.width=cc.winSize.width,this.mask.height=cc.winSize.height)),this.animData&&this.animData.skeletonData&&""!==this.animData.animation&&(this.anim.node.position=this.animData.position),this.coin&&this.coinEffect===r.COIN_TYPE.NONE&&(this.coin.node.active=!1)},t.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.onOpen()];case 1:return e.sent(),[4,this.onClose()];case 2:return e.sent(),this.onRelease(),[2]}})})},t.prototype.onOpen=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return this.mask&&this.mask.runAction(cc.fadeTo(.1,175)),this.coin&&this.coinEffect===r.COIN_TYPE.PLAY_ON_LOAD?(this.coin.node.active=!0,this.animData&&this.animData.skeletonData&&""!==this.animData.animation?(this.coin.play(),[3,3]):[3,1]):[3,3];case 1:return[4,this.coin.play()];case 2:t.sent(),t.label=3;case 3:return this.animData&&this.animData.skeletonData&&""!==this.animData.animation?(e=this.animData,[4,this.anim.init(e)]):[3,6];case 4:return t.sent(),this.coin&&this.coinEffect===r.COIN_TYPE.PLAY_AFTER_ANIMATION?(this.coin.node.active=!0,[4,this.coin.play()]):[3,6];case 5:t.sent(),t.label=6;case 6:return[2]}})})},t.prototype.onClose=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.mask?[4,new Promise(function(t,o){e.mask.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){t()})))})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.onRelease=function(){this.autoRelease&&(this.node.destroy(),view.animation&&(view.animation=void 0))},__decorate([c({type:cc.Enum(r.MASK_TYPE)})],t.prototype,"maskEnable",void 0),__decorate([c({type:cc.Enum(r.COIN_TYPE)})],t.prototype,"coinEffect",void 0),__decorate([c(l)],t.prototype,"animData",void 0),__decorate([c()],t.prototype,"autoRelease",void 0),__decorate([c(cc.Node)],t.prototype,"mask",void 0),__decorate([c(n.default)],t.prototype,"coin",void 0),__decorate([c(i.default)],t.prototype,"anim",void 0),t=__decorate([s],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./Animation/CoinAnimation":"CoinAnimation","./Animation/ItemAnimation":"ItemAnimation","./Define/DefineType":"DefineType"}],Effect:[function(e,t,o){"use strict";cc._RF.push(t,"1085fUXxh9AOLb35Gkb8Rog","Effect"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Define/DefineType"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return __extends(t,e),o=t,t.ins=function(){return this.instance||(this.instance=new o),this.instance},t.prototype.get=function(e,t){switch(t=t||{},e){case n.EFFECT.BOUCE_IN:return this.bouceIn(t);case n.EFFECT.BOUCE_OUT:return this.bouceOut(t);case n.EFFECT.MOVE_IN_BY_DOWN:return t.direction=n.DIRECTION.DOWN,this.moveInBy(t);case n.EFFECT.MOVE_IN_BY_UP:return t.direction=n.DIRECTION.UP,this.moveInBy(t);case n.EFFECT.MOVE_IN_BY_LEFT:return t.direction=n.DIRECTION.LEFT,this.moveInBy(t);case n.EFFECT.MOVE_IN_BY_RIGHT:return t.direction=n.DIRECTION.RIGHT,this.moveInBy(t);case n.EFFECT.MOVE_OUT_BY_DOWN:return t.direction=n.DIRECTION.DOWN,this.moveOutBy(t);case n.EFFECT.MOVE_OUT_BY_UP:return t.direction=n.DIRECTION.UP,this.moveOutBy(t);case n.EFFECT.MOVE_OUT_BY_LEFT:return t.direction=n.DIRECTION.LEFT,this.moveOutBy(t);case n.EFFECT.MOVE_OUT_BY_RIGHT:return t.direction=n.DIRECTION.RIGHT,this.moveOutBy(t)}},t.prototype.getEffectName=function(e,t){if(e===n.EFFECT_KIND.IN)switch(t){case n.EFFECT_TYPE.BOUCE:return n.EFFECT.BOUCE_IN;case n.EFFECT_TYPE.MOVE_BY_DOWN:return n.EFFECT.MOVE_IN_BY_DOWN;case n.EFFECT_TYPE.MOVE_BY_UP:return n.EFFECT.MOVE_IN_BY_UP;case n.EFFECT_TYPE.MOVE_BY_LEFT:return n.EFFECT.MOVE_IN_BY_LEFT;case n.EFFECT_TYPE.MOVE_BY_RIGHT:return n.EFFECT.MOVE_IN_BY_RIGHT;default:return n.EFFECT.BOUCE_IN}else switch(t){case n.EFFECT_TYPE.BOUCE:return n.EFFECT.BOUCE_OUT;case n.EFFECT_TYPE.MOVE_BY_DOWN:return n.EFFECT.MOVE_OUT_BY_DOWN;case n.EFFECT_TYPE.MOVE_BY_UP:return n.EFFECT.MOVE_OUT_BY_UP;case n.EFFECT_TYPE.MOVE_BY_LEFT:return n.EFFECT.MOVE_OUT_BY_LEFT;case n.EFFECT_TYPE.MOVE_BY_RIGHT:return n.EFFECT.MOVE_OUT_BY_RIGHT;default:return n.EFFECT.BOUCE_OUT}},t.prototype.delay=function(e){var t=e.time,o=e.callback;return cc.sequence(cc.delayTime(t),cc.callFunc(function(){o&&o()}))},t.prototype.bouceIn=function(e){var t=(e=e||{}).time,o=e.scale,n=e.easing,i=e.callback,r=e.pScale;t=t||.25,o=o||1,r=r||0,n=void 0===n||n;var a=cc.spawn(cc.fadeOut(0),cc.scaleTo(0,r)),s=cc.spawn(cc.fadeIn(t),n?cc.scaleTo(t,o).easing(cc.easeBackOut()):cc.scaleTo(t,o)),c=cc.callFunc(function(){i&&i()});return cc.sequence(a,s,c)},t.prototype.bouceOut=function(e){var t=(e=e||{}).time,o=e.scale,n=e.easing,i=e.callback;t=t||.15,o=o||0,n=void 0===n||n;var r=cc.spawn(cc.fadeOut(t),n?cc.scaleTo(t,o).easing(cc.easeBackIn()):cc.scaleTo(t,o)),a=cc.callFunc(function(){i&&i()});return cc.sequence(r,a)},t.prototype.moveInBy=function(e){var t=(e=e||{direction:n.DIRECTION.LEFT}).time,o=e.direction,i=e.distance,r=e.easing,a=e.callback;t=t||.15,o=o||n.DIRECTION.LEFT,i=i||200,r=void 0===r||r;var s=void 0;o==n.DIRECTION.LEFT&&(s=cc.v2(i,0)),o==n.DIRECTION.RIGHT&&(s=cc.v2(-i,0)),o==n.DIRECTION.UP&&(s=cc.v2(0,-i)),o==n.DIRECTION.DOWN&&(s=cc.v2(0,i));var c=cc.spawn(cc.fadeOut(0),cc.moveBy(0,-s.x,-s.y)),l=cc.spawn(cc.fadeIn(t),r?cc.moveBy(t,s.x,s.y).easing(cc.easeBackOut()):cc.moveBy(t,s.x,s.y)),u=cc.callFunc(function(){a&&a()});return cc.sequence(c,l,u)},t.prototype.moveOutBy=function(e){var t=(e=e||{direction:n.DIRECTION.LEFT}).time,o=e.direction,i=e.distance,r=e.easing,a=e.callback;t=t||.15,o=o||n.DIRECTION.LEFT,i=i||200,r=void 0===r||r;var s=void 0;o==n.DIRECTION.LEFT&&(s=cc.v2(-i,0)),o==n.DIRECTION.RIGHT&&(s=cc.v2(i,0)),o==n.DIRECTION.UP&&(s=cc.v2(0,i)),o==n.DIRECTION.DOWN&&(s=cc.v2(0,-i));var c=cc.spawn(cc.fadeOut(t),r?cc.moveBy(t,s.x,s.y).easing(cc.easeBackIn()):cc.moveBy(t,s.x,s.y)),l=cc.moveBy(0,-s.x,-s.y),u=cc.callFunc(function(){a&&a()});return cc.sequence(c,l,u)},t.prototype.shake=function(e){var t=(e=e||{}).delay,o=e.timeShake,n=e.loop;t=t||3,o=o||4,n="boolean"!=typeof n||n;var i=cc.sequence(cc.repeat(cc.sequence(cc.rotateBy(.05,10),cc.rotateBy(.05,-10)),o),cc.delayTime(t));return n&&(i=i.repeatForever()),i},t.prototype.jelly=function(e){var t=(e=e||{}).time,o=e.loop;t=t||1,o="boolean"!=typeof o||o;var n=cc.scaleTo(.2*t/1,1.25,.75),i=cc.scaleTo(.8*t/1,1,1).easing(cc.easeElasticOut(.01)),r=cc.delayTime(1),a=cc.sequence(n,i,r);return o&&(a=a.repeatForever()),a},t.prototype.stamp=function(e){var t=(e=e||{}).time,o=e.rotate,n=e.scale,i=e.callback;t=t||.3,n=n||2,o="boolean"!=typeof o||o;var r=cc.fadeOut(0),a=cc.scaleTo(0,n),s=cc.rotateBy(0,-20),c=cc.spawn(r,a,o?s:void 0),l=cc.fadeIn(t).easing(cc.easeCubicActionIn()),u=cc.scaleTo(t,1),p=cc.rotateBy(t,20),d=cc.spawn(l,u,o?p:void 0);return cc.sequence(c,d,i?cc.callFunc(function(){i()}):void 0)},t.prototype.springy=function(e){var t=(e=e||{}).time,o=e.callback;t=t||.6;var n=cc.scaleTo(.2*t/.7,.9),i=cc.scaleTo(.5*t/.7,1).easing(cc.easeBackOut()),r=cc.callFunc(function(){o&&o()});return cc.sequence(n,i,r)},t.instance=void 0,t=o=__decorate([r],t)}(cc.Component));o.default=a,cc._RF.pop()},{"./Define/DefineType":"DefineType"}],GameConfig:[function(e,t,o){"use strict";cc._RF.push(t,"3cd21EwkSRDvL7ZGEzj9bOb","GameConfig"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.convertPayLineForServer=function(e){return e.map(function(e){return e.map(function(e,t){return 5*e+t})})},e.GAME_SIZE={1:[3,3,3,3,3],2:[4,4,4,4,4],3:[4,4,4,4,4,4],4:[1,3,5,3,1],5:[2,3,4,3,2]},e.PAY_LINES={9:[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[1,0,0,0,1],[1,2,2,2,1],[0,0,1,2,2],[2,2,1,0,0]],20:[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[1,0,0,0,1],[1,2,2,2,1],[0,0,1,2,2],[2,2,1,0,0],[1,2,1,0,1],[1,0,1,2,1],[0,1,1,1,0],[2,1,1,1,2],[0,1,0,1,0],[2,1,2,1,2],[1,1,0,1,1],[1,1,2,1,1],[0,0,2,0,0],[2,2,0,2,2],[0,2,2,2,0]],25:[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[1,0,1,2,1],[1,2,1,0,1],[0,0,1,2,2],[2,2,1,0,0],[0,1,0,1,0],[2,1,2,1,2],[1,0,0,0,1],[1,2,2,2,1],[0,1,1,1,0],[2,1,1,1,2],[1,1,0,1,1],[1,1,2,1,1],[1,0,1,0,1],[1,2,1,2,1],[0,0,0,1,2],[2,2,2,1,0],[0,1,2,2,2],[2,1,0,0,0],[1,1,1,0,1],[1,1,1,2,1]],50:[[1,1,1,1,1],[2,2,2,2,2],[0,0,0,0,0],[3,3,3,3,3],[0,1,2,1,0],[3,2,1,2,3],[1,2,3,2,1],[2,1,0,1,2],[0,1,0,1,0],[3,2,3,2,3],[1,0,1,0,1],[2,3,2,3,2],[1,2,1,2,1],[2,1,2,1,2],[0,0,1,0,0],[3,3,2,3,3],[1,1,2,1,1],[2,2,1,2,2],[2,2,3,2,2],[1,1,0,1,1],[1,2,2,2,1],[2,1,1,1,2],[1,0,0,0,1],[2,3,3,3,2],[3,2,2,2,3],[0,1,1,1,0],[2,0,0,0,2],[1,3,3,3,1],[3,1,1,1,3],[0,2,2,2,0],[2,2,0,2,2],[1,1,3,1,1],[0,0,2,0,0],[3,3,1,3,3],[3,3,0,3,3],[0,0,3,0,0],[3,2,1,0,0],[0,1,2,3,3],[0,0,1,2,3],[3,3,2,1,0],[2,1,0,0,0],[1,2,3,3,3],[0,0,0,1,2],[3,3,3,2,1],[3,2,1,1,1],[0,1,2,2,2],[1,1,1,2,3],[2,2,2,1,0],[1,3,0,3,1],[2,0,3,0,2]],80:[[1,1,1,1,1,1],[2,2,2,2,2,2],[0,0,0,0,0,0],[3,3,3,3,3,3],[0,1,2,2,1,0],[3,2,1,1,2,3],[1,2,3,3,2,1],[2,1,0,0,1,2],[0,1,0,0,1,0],[3,2,3,3,2,3],[1,0,1,1,0,1],[2,3,2,2,3,2],[1,2,1,1,2,1],[2,1,2,2,1,2],[0,0,1,1,0,0],[3,3,2,2,3,3],[1,1,2,2,1,1],[2,2,1,1,2,2],[2,2,3,3,2,2],[1,1,0,0,1,1],[1,2,2,2,2,1],[2,1,1,1,1,2],[1,0,0,0,0,1],[2,3,3,3,3,2],[3,2,2,2,2,3],[0,1,1,1,1,0],[2,0,0,0,0,2],[1,3,3,3,3,1],[3,1,1,1,1,3],[0,2,2,2,2,0],[2,2,0,0,2,2],[1,1,3,3,1,1],[0,0,2,2,0,0],[3,3,1,1,3,3],[3,3,0,0,3,3],[0,0,3,3,0,0],[3,2,1,0,0,0],[0,1,2,3,3,3],[0,0,0,1,2,3],[3,3,3,2,1,0],[2,1,0,0,0,0],[1,2,3,3,3,3],[0,0,0,0,1,2],[3,3,3,3,2,1],[3,2,1,1,1,1],[0,1,2,2,2,2],[1,1,1,1,2,3],[2,2,2,2,1,0],[1,3,0,0,3,0],[2,0,3,3,0,2],[0,3,0,0,3,0],[3,0,3,3,0,3],[0,1,0,1,0,1],[3,2,3,2,3,2],[1,2,1,2,1,2],[2,1,2,1,2,1],[2,3,2,3,2,3],[1,0,1,0,1,0],[0,2,0,2,0,2],[3,1,3,1,3,1],[1,3,1,3,1,3],[2,0,2,0,2,0],[0,3,0,3,3,0],[3,0,3,0,3,0],[0,1,2,3,2,1],[3,2,1,0,1,2],[1,2,3,2,1,0],[2,1,0,1,2,3],[0,1,0,1,2,3],[3,2,3,2,1,0],[1,2,1,0,1,2],[2,1,2,3,2,1],[0,3,3,3,3,0],[3,0,0,0,0,3],[1,0,1,2,1,0],[2,3,2,1,2,3],[0,2,3,3,2,0],[3,1,0,0,1,3],[1,3,0,3,0,2],[2,0,3,0,3,1]],243:[[0,0,0,0,0],[0,0,0,0,1],[0,0,0,0,2],[0,0,0,1,0],[0,0,0,1,1],[0,0,0,1,2],[0,0,0,2,0],[0,0,0,2,1],[0,0,0,2,2],[0,0,1,0,0],[0,0,1,0,1],[0,0,1,0,2],[0,0,1,1,0],[0,0,1,1,1],[0,0,1,1,2],[0,0,1,2,0],[0,0,1,2,1],[0,0,1,2,2],[0,0,2,0,0],[0,0,2,0,1],[0,0,2,0,2],[0,0,2,1,0],[0,0,2,1,1],[0,0,2,1,2],[0,0,2,2,0],[0,0,2,2,1],[0,0,2,2,2],[0,1,0,0,0],[0,1,0,0,1],[0,1,0,0,2],[0,1,0,1,0],[0,1,0,1,1],[0,1,0,1,2],[0,1,0,2,0],[0,1,0,2,1],[0,1,0,2,2],[0,1,1,0,0],[0,1,1,0,1],[0,1,1,0,2],[0,1,1,1,0],[0,1,1,1,1],[0,1,1,1,2],[0,1,1,2,0],[0,1,1,2,1],[0,1,1,2,2],[0,1,2,0,0],[0,1,2,0,1],[0,1,2,0,2],[0,1,2,1,0],[0,1,2,1,1],[0,1,2,1,2],[0,1,2,2,0],[0,1,2,2,1],[0,1,2,2,2],[0,2,0,0,0],[0,2,0,0,1],[0,2,0,0,2],[0,2,0,1,0],[0,2,0,1,1],[0,2,0,1,2],[0,2,0,2,0],[0,2,0,2,1],[0,2,0,2,2],[0,2,1,0,0],[0,2,1,0,1],[0,2,1,0,2],[0,2,1,1,0],[0,2,1,1,1],[0,2,1,1,2],[0,2,1,2,0],[0,2,1,2,1],[0,2,1,2,2],[0,2,2,0,0],[0,2,2,0,1],[0,2,2,0,2],[0,2,2,1,0],[0,2,2,1,1],[0,2,2,1,2],[0,2,2,2,0],[0,2,2,2,1],[0,2,2,2,2],[1,0,0,0,0],[1,0,0,0,1],[1,0,0,0,2],[1,0,0,1,0],[1,0,0,1,1],[1,0,0,1,2],[1,0,0,2,0],[1,0,0,2,1],[1,0,0,2,2],[1,0,1,0,0],[1,0,1,0,1],[1,0,1,0,2],[1,0,1,1,0],[1,0,1,1,1],[1,0,1,1,2],[1,0,1,2,0],[1,0,1,2,1],[1,0,1,2,2],[1,0,2,0,0],[1,0,2,0,1],[1,0,2,0,2],[1,0,2,1,0],[1,0,2,1,1],[1,0,2,1,2],[1,0,2,2,0],[1,0,2,2,1],[1,0,2,2,2],[1,1,0,0,0],[1,1,0,0,1],[1,1,0,0,2],[1,1,0,1,0],[1,1,0,1,1],[1,1,0,1,2],[1,1,0,2,0],[1,1,0,2,1],[1,1,0,2,2],[1,1,1,0,0],[1,1,1,0,1],[1,1,1,0,2],[1,1,1,1,0],[1,1,1,1,1],[1,1,1,1,2],[1,1,1,2,0],[1,1,1,2,1],[1,1,1,2,2],[1,1,2,0,0],[1,1,2,0,1],[1,1,2,0,2],[1,1,2,1,0],[1,1,2,1,1],[1,1,2,1,2],[1,1,2,2,0],[1,1,2,2,1],[1,1,2,2,2],[1,2,0,0,0],[1,2,0,0,1],[1,2,0,0,2],[1,2,0,1,0],[1,2,0,1,1],[1,2,0,1,2],[1,2,0,2,0],[1,2,0,2,1],[1,2,0,2,2],[1,2,1,0,0],[1,2,1,0,1],[1,2,1,0,2],[1,2,1,1,0],[1,2,1,1,1],[1,2,1,1,2],[1,2,1,2,0],[1,2,1,2,1],[1,2,1,2,2],[1,2,2,0,0],[1,2,2,0,1],[1,2,2,0,2],[1,2,2,1,0],[1,2,2,1,1],[1,2,2,1,2],[1,2,2,2,0],[1,2,2,2,1],[1,2,2,2,2],[2,0,0,0,0],[2,0,0,0,1],[2,0,0,0,2],[2,0,0,1,0],[2,0,0,1,1],[2,0,0,1,2],[2,0,0,2,0],[2,0,0,2,1],[2,0,0,2,2],[2,0,1,0,0],[2,0,1,0,1],[2,0,1,0,2],[2,0,1,1,0],[2,0,1,1,1],[2,0,1,1,2],[2,0,1,2,0],[2,0,1,2,1],[2,0,1,2,2],[2,0,2,0,0],[2,0,2,0,1],[2,0,2,0,2],[2,0,2,1,0],[2,0,2,1,1],[2,0,2,1,2],[2,0,2,2,0],[2,0,2,2,1],[2,0,2,2,2],[2,1,0,0,0],[2,1,0,0,1],[2,1,0,0,2],[2,1,0,1,0],[2,1,0,1,1],[2,1,0,1,2],[2,1,0,2,0],[2,1,0,2,1],[2,1,0,2,2],[2,1,1,0,0],[2,1,1,0,1],[2,1,1,0,2],[2,1,1,1,0],[2,1,1,1,1],[2,1,1,1,2],[2,1,1,2,0],[2,1,1,2,1],[2,1,1,2,2],[2,1,2,0,0],[2,1,2,0,1],[2,1,2,0,2],[2,1,2,1,0],[2,1,2,1,1],[2,1,2,1,2],[2,1,2,2,0],[2,1,2,2,1],[2,1,2,2,2],[2,2,0,0,0],[2,2,0,0,1],[2,2,0,0,2],[2,2,0,1,0],[2,2,0,1,1],[2,2,0,1,2],[2,2,0,2,0],[2,2,0,2,1],[2,2,0,2,2],[2,2,1,0,0],[2,2,1,0,1],[2,2,1,0,2],[2,2,1,1,0],[2,2,1,1,1],[2,2,1,1,2],[2,2,1,2,0],[2,2,1,2,1],[2,2,1,2,2],[2,2,2,0,0],[2,2,2,0,1],[2,2,2,0,2],[2,2,2,1,0],[2,2,2,1,1],[2,2,2,1,2],[2,2,2,2,0],[2,2,2,2,1],[2,2,2,2,2]],100:[[1,1,1,1,1],[0,0,0,0,0],[2,2,2,2,2],[0,1,2,1,0],[2,1,0,1,2],[1,0,0,0,1],[1,2,2,2,1],[0,0,1,2,2],[2,2,1,0,0],[1,2,1,0,1],[1,0,1,2,1],[0,1,1,1,0],[2,1,1,1,2],[0,1,0,1,0],[2,1,2,1,2],[1,1,0,1,1],[1,1,2,1,1],[0,0,2,0,0],[2,2,0,2,2],[0,2,2,2,0],[2,0,0,0,2],[1,2,0,2,1],[1,0,2,0,1],[0,2,0,2,0],[2,0,2,0,2],[2,0,1,2,0],[0,2,1,0,2],[0,2,1,2,0],[2,0,1,0,2],[2,1,0,0,1],[0,1,2,2,1],[0,0,2,2,2],[2,2,0,0,0],[1,0,2,1,2],[1,2,0,1,0],[0,1,0,1,2],[2,1,2,1,0],[1,2,2,0,0],[0,0,1,1,2],[2,2,1,1,0],[2,0,0,0,0],[0,2,2,2,2],[2,2,2,2,0],[0,0,0,0,2],[1,0,1,0,1],[1,2,1,2,1],[0,1,2,2,2],[2,1,0,0,0],[0,1,1,1,1],[2,1,1,1,1],[0,0,0,0,1],[0,0,0,1,1],[0,0,0,1,2],[0,0,1,0,0],[0,0,1,1,0],[0,0,1,1,1],[0,0,1,2,1],[0,1,0,0,0],[0,1,0,1,1],[2,0,1,0,1],[0,2,1,2,1],[0,1,0,2,0],[2,1,2,0,2],[0,1,1,1,2],[2,1,1,1,0],[0,1,1,2,2],[1,0,0,0,0],[1,0,0,1,1],[1,0,0,1,2],[0,1,1,0,1],[1,0,1,1,2],[1,0,1,2,2],[1,1,0,0,0],[1,1,0,0,1],[1,1,0,1,2],[0,0,2,1,0],[1,1,1,0,0],[1,1,2,2,2],[2,2,2,2,1],[1,1,1,1,2],[0,1,0,2,1],[1,2,2,2,2],[1,2,1,0,0],[2,2,1,0,1],[2,2,1,1,1],[2,1,2,1,1],[0,0,0,2,0],[2,2,2,0,2],[2,0,2,2,2],[0,2,0,0,0],[2,2,0,1,2],[1,0,1,1,1],[1,2,1,1,1],[1,1,2,1,0],[2,1,2,2,2],[0,2,1,1,1],[2,0,1,1,1],[1,1,1,2,0],[1,1,1,0,2],[1,1,1,1,0]]},e.SMID={1:"sm2003",2:"sm2004",3:"sm2005",4:"sm2002",5:"sm2001",6:"sm2006",7:"sm2007",8:"sm2008"},e}();o.default=n,cc._RF.pop()},{}],GameDefine:[function(e,t,o){"use strict";cc._RF.push(t,"c6926SdoZlB9JB+QR/dFKGc","GameDefine"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],GameScene:[function(e,t,o){"use strict";cc._RF.push(t,"a56c9oArvRLpKUSqfmJzbIc","GameScene"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.center=null,t.bigBg=null,t.btnMini=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.initState()},t.prototype.onOpen=function(){var e=this,t=this.bigBg,o=this.btnMini;t.node.runAction(cc.sequence([cc.moveBy(.5,cc.v2(0,t.node.height*(1===game.data.deviceKind?1.5:1.2))).easing(cc.easeSineOut()),cc.callFunc(function(){var e=view.screen.slot.SlotController;(0==e.autoSpinTimes||!e.bonus&&e.autoSpinTimes<0)&&view.bar.bottom.gameBar.updateSpinFrame(define.type.SpinButton.normal)}),cc.callFunc(function(){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){return view.screen.slot.SlotController.startSlot(),view.screen.slot.SlotNode.runAction(cc.fadeIn(.5)),view.multi.loadContent(),view.screen.slot.SlotController.showContent(),[2]})})})])),o.node.active||(o.node.active=!0),o.node.scale=0,o.node.runAction(effect.bouceIn({time:.2}))},t.prototype.onResume=function(){var e=view.multi;util.game.showNode(this.node,define.zIndex.GAME),util.game.showNode(view.screen.slot.SlotNode),this.node.position=cc.v2(e.node.x,e.node.y+e.content.height),this.node.scale=0,this.node.runAction(cc.scaleTo(.2,1).easing(cc.easeIn(.6))),this.node.runAction(cc.moveTo(.2,cc.v2(0,0))),this.btnMini.node.scale=0,this.btnMini.node.runAction(effect.bouceIn({time:.2}))},t.prototype.onClose=function(){var e=this;if(view.screen.slot)return new Promise(function(t,o){e.btnMini.node.runAction(effect.bouceOut({time:.2})),view.screen.slot.SlotController.animationController.stopAllAction(),view.screen.slot.SlotNode.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(){e.hideBg(),controller.ui.updateBar()}),cc.delayTime(.75),cc.callFunc(function(){util.game.hideNode(e.node),e.node.position=cc.v2(cc.winSize.width,0),view.screen.slot.SlotNode.destroy(),view.screen.slot=null,view.multi.loadContent(),t()})))});cc.warn("GameScene","onClose","Slot is null")},t.prototype.initState=function(){this.center.active=!0,this.btnMini=this.node.getChildByName("minimize-game").getComponent(cc.Button),this.btnMini.node.zIndex=1},t.prototype.loadBgSlot=function(e){cc.log("load bg");var t=view.slot[e];this.bigBg.node.active=!1,this.bigBg.node.y=-this.bigBg.node.height*(1===game.data.deviceKind?1.5:1.2),this.bigBg.node.active=!0,this.bigBg.spriteFrame=t.SlotController.resourceController.getSprite("bg-big")},t.prototype.hideBg=function(e){void 0===e&&(e=.5),this.bigBg.node.runAction(cc.moveBy(e,cc.v2(0,-this.bigBg.node.height*(1===game.data.deviceKind?1.5:1.2))).easing(cc.easeSineIn()))},t.prototype.onClickSpin=function(){view.screen.slot.SlotController.clickSpin()},t.prototype.onClickMinimize=function(){controller.ui.minimizeGameScene()},t.prototype.onClickBack=function(){controller.ui.deleteSlot()},__decorate([r(cc.Node)],t.prototype,"center",void 0),__decorate([r(cc.Sprite)],t.prototype,"bigBg",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],GameUtil:[function(e,t,o){"use strict";cc._RF.push(t,"db2f28fnWxPGojlwcz9F8oR","GameUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Define/DefineType"),i=e("../Define/DefineKey"),r=e("../Platform/PlatformController"),a=function(){function e(){}return e.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},e.getDeviceOS=function(){var e=n.DEVICE_OS.UNKNOW;return(e=cc.sys.isMobile&&cc.sys.isNative&&cc.sys.os===cc.sys.OS_IOS?n.DEVICE_OS.IOS_NAVITE:cc.sys.isMobile&&cc.sys.isNative&&cc.sys.os===cc.sys.OS_ANDROID?n.DEVICE_OS.ANDROID_NAVITE:cc.sys.isMobile&&cc.sys.isBrowser?n.DEVICE_OS.WEB_MOBILE:!cc.sys.isMobile&&cc.sys.isBrowser?n.DEVICE_OS.WEB_PC:n.DEVICE_OS.UNKNOW)===n.DEVICE_OS.UNKNOW&&(cc.sys.isNative&&cc.sys.os===cc.sys.OS_OSX?e=n.DEVICE_OS.WEB_PC:cc.sys.isNative&&(e=n.DEVICE_OS.ANDROID_NAVITE)),game.data.deviceOs=e,game.data.deviceOsName=n.DEVICE_OS[e],e===n.DEVICE_OS.IOS_NAVITE?game.data.gameOS=n.GAME_OS.IOS_COCOS:e===n.DEVICE_OS.ANDROID_NAVITE?game.data.gameOS=n.GAME_OS.ANDROID_COCOS:e!==n.DEVICE_OS.WEB_MOBILE&&e!==n.DEVICE_OS.WEB_PC||(game.data.gameOS=n.GAME_OS.WEB_COCOS),e},e.loadRes=function(e,t){return void 0===t&&(t=null),new Promise(function(o,n){cc.loader.loadRes(e,t,function(e,t){if(e)return n(e);o(t)})})},e.showNode=function(e,t){e.opacity=255,e.zIndex=t||1},e.hideNode=function(e){e.zIndex=-1,e.opacity=0},e.delay=function(e,t,o){var n=cc.find("Main"),i=!1;return t instanceof cc.Node&&(i=!0),new Promise(function(r,a){n.runAction(cc.sequence([cc.delayTime(e/1e3),cc.callFunc(function(){return!i||t&&t.isValid?(o&&o(),r()):a("Node was detroyed before")})]))})},e.abbreviateNumber=function(e,t){if(null===e||void 0===e)return null;if(0===e)return"0";t=!t||t<0?0:t;var o=e.toPrecision(2).split("e"),n=1===o.length?0:Math.floor(Math.min(o[1].slice(1),14)/3),i=n<1?e.toFixed(0+t):(e/Math.pow(10,3*n)).toFixed(1+t);return(i<0?i:Math.abs(i))+["","K","M","B","T"][n]},e.getDefaultImage=function(e){return e.includes(".png")||e.includes(".jpg")?e:e+".png"},e.date=function(e){return void 0!==e?new Date(new Date(e).getTime()-game.data.dTime):new Date((new Date).getTime()-game.data.dTime)},e.timeToNextday=function(){var t=e.date(),o=e.date();return o.setUTCDate(t.getDate()+1),o.setUTCHours(0,0,0,0),o.getTime()-t.getTime()},e.restartGame=function(){cc.sys.isNative&&cc.sys.localStorage.setItem(i.local.PLATFORM_INIT,r.default.ins().inited),cc.game.restart()},e.loadTextTure=function(e,t){var o=-1==e.indexOf(".png")?{url:e,type:"png"}:e;cc.loader.load(o,function(o,n){o?game.error("util.game","load texture error",e,o):t({texture:n})}.bind(this))},e.loadSpriteFrame=function(e,t){this.loadTextTure(e,function(e){var o=new cc.SpriteFrame(e.texture);t({spriteFrame:o})}.bind(this))},e}();o.default=a,cc._RF.pop()},{"../Define/DefineKey":"DefineKey","../Define/DefineType":"DefineType","../Platform/PlatformController":"PlatformController"}],HomeScene:[function(e,t,o){"use strict";cc._RF.push(t,"6ff7cpxeexOW4heej6ansRg","HomeScene"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listGameView=null,t.itemGame=null,t.itemBanner=null,t.animationclip=null,t.btnMenu=null,t.banner=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){this.onOpen(),this.initialize()},t.prototype.initialize=function(){this.initItem(),this.initBanner()},t.prototype.initBanner=function(){var e=this,t=[{spriteFrame:controller.ui.slot[1].img,id:2},{spriteFrame:controller.ui.slot[3].img,id:4},{spriteFrame:controller.ui.slot[4].img,id:5},{spriteFrame:controller.ui.slot[5].img,id:6}];this.banner.removeAllPages(),t.forEach(function(t){var o=cc.instantiate(e.itemBanner);o.getComponent(cc.Sprite).spriteFrame=t.spriteFrame,o.on(cc.Node.EventType.TOUCH_END,function(){controller.ui.openGame(t.id,config.game.SMID[t.id])}),e.banner.addPage(o)}),this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(3),cc.callFunc(function(){var t=e.banner;if(t){var o=t.getCurrentPageIndex(),n=o+1<t.getPages().length?o+1:0;t.scrollToPage(n,1)}}))))},t.prototype.initItem=function(){var e=this;controller.ui.slot.forEach(function(t,o){var n=cc.instantiate(e.itemGame);n.parent=e.listGameView.content,n.height=390,n.active=!0,n.getComponent("ItemGame").setData(++o,t.img),n.scale=0,n.runAction(cc.sequence(cc.delayTime(.2*o),effect.bouceIn({time:.2,pScale:.7})))})},t.prototype.onOpen=function(){this.btnMenu.node.runAction(effect.bouceIn({time:.2})),this.banner.node.runAction(effect.bouceIn({time:.3}))},t.prototype.openSlot=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,n;return __generator(this,function(i){return t=e.target.getComponent("ItemGame"),o=t.id,n=t.smid,controller.ui.openGame(t,o,n),[2]})})},t.prototype.onClickMenu=function(){game.log("HomeScene","onClickMenu")},__decorate([r(cc.ScrollView)],t.prototype,"listGameView",void 0),__decorate([r(cc.Node)],t.prototype,"itemGame",void 0),__decorate([r(cc.Node)],t.prototype,"itemBanner",void 0),__decorate([r(cc.AnimationClip)],t.prototype,"animationclip",void 0),__decorate([r(cc.Button)],t.prototype,"btnMenu",void 0),__decorate([r(cc.PageView)],t.prototype,"banner",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],IOSAdmob:[function(e,t,o){"use strict";cc._RF.push(t,"ae575VjQOFE5K59O3P3dbrP","IOSAdmob"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="IOSAdmob",this.isBannerShow=!1}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){game.log(this.tag,"admob","init");var t=sdkbox.PluginAdMob;t.setListener({adViewDidReceiveAd:function(t){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.DIDRECEIVEAD,name:t})},adViewDidFailToReceiveAdWithError:function(t,o){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.DIDFAILTORECEIVEADWITHERROR,name:t,msg:o})},adViewWillPresentScreen:function(t){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.WILLPRESENTSCREEN,name:t})},adViewDidDismissScreen:function(t){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.DIDDISMISSSCREEN,name:t})},adViewWillDismissScreen:function(t){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.WILLDISMISSSCREEN,name:t})},adViewWillLeaveApplication:function(t){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.WILLLEAVEAPPLICATION,name:t})},reward:function(t,o,n){e.getIns().listenner({type:define.type.ADMOB_LISTENNER.REWARD,name:t,currency:o,amount:n})}}),t.init()},e.prototype.cache=function(){game.log(this.tag,"admob","cache"),sdkbox.PluginAdMob.cache("banner"),sdkbox.PluginAdMob.cache("interstitial"),sdkbox.PluginAdMob.cache("rewarded")},e.prototype.showBanner=function(){game.log(this.tag,"admob","show banner"),sdkbox.PluginAdMob.show("banner"),this.isBannerShow=!0},e.prototype.hideBanner=function(){game.log(this.tag,"admob","hide banner"),sdkbox.PluginAdMob.hide("banner"),this.isBannerShow=!1},e.prototype.getBannerHeight=function(){var e=0;return this.isBannerShow&&(e=sdkbox.PluginAdMob.getCurrBannerHeightInPixel("banner")),game.log(this.tag,"admob","get banner banner height",e),e},e.prototype.getBannerWidth=function(){var e=sdkbox.PluginAdMob.getCurrBannerWidthInPixel("banner");return game.log(this.tag,"admob","get banner banner width",e),e},e.prototype.isShowBanner=function(){var e=this.isBannerShow;return game.log(this.tag,"admob","is show banner",e),e},e.prototype.isAvailableBanner=function(){var e=sdkbox.PluginAdMob.isAvailable("banner");return game.log(this.tag,"admob","is avaiable banner",e),e},e.prototype.showInterstitial=function(){game.log(this.tag,"admob","show interstitial"),sdkbox.PluginAdMob.show("interstitial")},e.prototype.isAvailableInterstitial=function(){var e=sdkbox.PluginAdMob.isAvailable("interstitial");return game.log(this.tag,"admob","is avaiable interstitial",e),e},e.prototype.showRewarded=function(){game.log(this.tag,"admob","show rewarded"),sdkbox.PluginAdMob.show("rewarded")},e.prototype.isAvailableRewarded=function(){var e=sdkbox.PluginAdMob.isAvailable("rewarded");return game.log(this.tag,"admob","is avaiable rewarded",e),e},e.prototype.listenner=function(e){e&&e.name&&("banner"===e.name?this.bannerListenner(e):"interstitial"===e.name?this.interstitialListenner(e):"rewarded"===e.name&&this.rewardedListenner(e))},e.prototype.bannerListenner=function(e){if(e&&e.type)switch(e.type){case define.type.ADMOB_LISTENNER.DIDRECEIVEAD:game.log(this.tag,"banner listenner","DIDRECEIVEAD");break;case define.type.ADMOB_LISTENNER.DIDFAILTORECEIVEADWITHERROR:game.log(this.tag,"banner listenner","DIDFAILTORECEIVEADWITHERROR");break;case define.type.ADMOB_LISTENNER.WILLPRESENTSCREEN:game.log(this.tag,"banner listenner","WILLPRESENTSCREEN");break;case define.type.ADMOB_LISTENNER.DIDDISMISSSCREEN:game.log(this.tag,"banner listenner","DIDDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLDISMISSSCREEN:game.log(this.tag,"banner listenner","WILLDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLLEAVEAPPLICATION:game.log(this.tag,"banner listenner","WILLLEAVEAPPLICATION");break;case define.type.ADMOB_LISTENNER.REWARD:game.log(this.tag,"banner listenner","REWARD");break;default:game.log(this.tag,"banner listenner","UKNOW")}},e.prototype.interstitialListenner=function(e){if(e&&e.type)switch(e.type){case define.type.ADMOB_LISTENNER.DIDRECEIVEAD:game.log(this.tag,"interstitial listenner","DIDRECEIVEAD");break;case define.type.ADMOB_LISTENNER.DIDFAILTORECEIVEADWITHERROR:game.log(this.tag,"interstitial listenner","DIDFAILTORECEIVEADWITHERROR");break;case define.type.ADMOB_LISTENNER.WILLPRESENTSCREEN:game.log(this.tag,"interstitial listenner","WILLPRESENTSCREEN");break;case define.type.ADMOB_LISTENNER.DIDDISMISSSCREEN:game.log(this.tag,"interstitial listenner","DIDDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLDISMISSSCREEN:game.log(this.tag,"interstitial listenner","WILLDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLLEAVEAPPLICATION:game.log(this.tag,"interstitial listenner","WILLLEAVEAPPLICATION");break;case define.type.ADMOB_LISTENNER.REWARD:game.log(this.tag,"interstitial listenner","REWARD");break;default:game.log(this.tag,"interstitial listenner","UKNOW")}},e.prototype.rewardedListenner=function(e){if(e&&e.type)switch(e.type){case define.type.ADMOB_LISTENNER.DIDRECEIVEAD:game.log(this.tag,"rewarded listenner","DIDRECEIVEAD");break;case define.type.ADMOB_LISTENNER.DIDFAILTORECEIVEADWITHERROR:game.log(this.tag,"rewarded listenner","DIDFAILTORECEIVEADWITHERROR");break;case define.type.ADMOB_LISTENNER.WILLPRESENTSCREEN:game.log(this.tag,"rewarded listenner","WILLPRESENTSCREEN");break;case define.type.ADMOB_LISTENNER.DIDDISMISSSCREEN:game.log(this.tag,"rewarded listenner","DIDDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLDISMISSSCREEN:game.log(this.tag,"rewarded listenner","WILLDISMISSSCREEN");break;case define.type.ADMOB_LISTENNER.WILLLEAVEAPPLICATION:game.log(this.tag,"rewarded listenner","WILLLEAVEAPPLICATION");break;case define.type.ADMOB_LISTENNER.REWARD:game.log(this.tag,"rewarded listenner","REWARD");break;default:game.log(this.tag,"rewarded listenner","UKNOW")}},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],IOSFacebook:[function(e,t,o){"use strict";cc._RF.push(t,"279e09E1HlOc4wpBvf2crKy","IOSFacebook"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="IOSFacebook",this.loginCallback=void 0}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){return game.log(this.tag,"facebook","init"),!!sdkbox&&(!!sdkbox.PluginFacebook&&(sdkbox.PluginFacebook.setListener({onLogin:function(t,o){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.LOGIN,isLogin:t,msg:o})},onAPI:function(t,o){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.API,tag:t,data:o})},onSharedSuccess:function(t){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.SHARED_SUCCESS,data:t})},onSharedFailed:function(t){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.SHARED_FAILED,data:t})},onSharedCancel:function(){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.SHARED_CANCEL})},onPermission:function(t,o){e.getIns().listenner({type:define.type.FACEBOOK_LISTENNER.PERMISSON,isLogin:t,msg:o})}}),sdkbox.PluginFacebook.init(),!0))},e.prototype.login=function(){var e=this;return game.log(this.tag,"facebook","login"),tracking.send(tracking.event.FACEBOOK_LOGIN_CLICK),new Promise(function(t,o){sdkbox&&sdkbox.PluginFacebook?(sdkbox.PluginFacebook.requestReadPermissions(["public_profile","email"]),sdkbox.PluginFacebook.login()):(game.log(e.tag,"login facebook: sdkbox or plugin null"),o()),e.loginCallback=function(){t(platform.facebook.getAccessToken())}})},e.prototype.logout=function(){game.log(this.tag,"facebook","logout"),sdkbox&&sdkbox.PluginFacebook?sdkbox.PluginFacebook.logout():game.log("login facebook: sdkbox or plugin null")},e.prototype.isLoggedIn=function(){if(sdkbox&&sdkbox.PluginFacebook){var e=sdkbox.PluginFacebook.isLoggedIn();return game.log(this.tag,"facebook","is loggedin",e),e}game.log("login facebook: sdkbox or plugin null")},e.prototype.getUserID=function(){if(sdkbox&&sdkbox.PluginFacebook){var e=sdkbox.PluginFacebook.getUserID();return game.log(this.tag,"facebook","userId: ",e),e}game.log("login facebook: sdkbox or plugin null")},e.prototype.getAccessToken=function(){if(sdkbox&&sdkbox.PluginFacebook){var e=sdkbox.PluginFacebook.getAccessToken();return game.log(this.tag,"facebook","userId: ",e),e}game.log("login facebook: sdkbox or plugin null")},e.prototype.shareHandle=function(e){if(e&&e.type){game.log(this.tag,"facebook","share handle",e),tracking.send(tracking.event.FACEBOOK_SHARE_CLICK);var t=e;sdkbox.PluginFacebook.dialog(t)}},e.prototype.share=function(e){e&&this.shareHandle(__assign({type:"link"},e))},e.prototype.sharePhoto=function(e){e&&this.shareHandle(__assign({type:"photo"},e))},e.prototype.sendLogEvent=function(e,t){game.log(this.tag,"facebook","send log event",e,t),void 0===t?sdkbox.PluginFacebook.logEvent(e):sdkbox.PluginFacebook.logEvent(e,t)},e.prototype.sendLogPurchase=function(e,t){game.log(this.tag,"facebook","send log purchase",e,t),sdkbox.PluginFacebook.logPurchase(e,t)},e.prototype.openGroup=function(){game.warn(this.tag,"openGroup method not implemented.")},e.prototype.openFanpage=function(){game.warn(this.tag,"openFanpage method not implemented.")},e.prototype.listenner=function(e){var t=this;if(e&&e.type)switch(e.type){case define.type.FACEBOOK_LISTENNER.LOGIN:game.log(this.tag,"facebook listenner","LOGIN","isLogin: "+e.isLogin+" - msg: "+e.msg);var o=cc.sys.localStorage.getItem(define.key.local.LOGIN_DATA.replace("IP",api.HOST))||JSON.stringify({expires:void 0,token:"",type:0,uid:0}),n=JSON.parse(o);game.log("IOSFacebook","listenner",JSON.stringify(n)),n.type!==define.type.LOGIN_TYPE.FACEBOOK?api.sendGD({e:"connectFB",accessToken:platform.facebook.getAccessToken()},function(e,o){if(game.log("IOSFacebook","send connect facebook",JSON.stringify(e),JSON.stringify(o)),e)return game.error(e);var n=function(e){api.getToken({type:define.type.LOGIN_TYPE.FACEBOOK,data:platform.facebook.getAccessToken()}).then(function(t){var o={expires:t.expires,token:t.token,type:define.type.LOGIN_TYPE.FACEBOOK,uid:t.uid};cc.sys.localStorage.setItem(define.key.local.LOGIN_DATA.replace("IP",api.HOST),JSON.stringify(o)),e&&e()})};switch(o.code){case 402:game.log(t.tag,"Login FB success","need merge facebook",o),controller.ui.showDialog({title:"Account already exists",name:"facebook_accout_exists",message:{message:o.message},buttons:[{title:"Cancel",theme:define.type.CLASS_THEME.DANGER},{title:"OK",theme:define.type.CLASS_THEME.SUCCESS,callback:function(){api.sendGD({e:"confirmMergeFB",uid:game.user.id},function(e,o){if(e)return game.error(e);"success"===o?(game.log(t.tag,"Login FB success","merge facebook success"),n(function(){cc.game.restart()})):game.error("Cai nay chua lam")})}},{title:"Another\nAccount",theme:define.type.CLASS_THEME.SUCCESS,callback:function(){t.logout(),t.login()}}]});break;case 401:game.log(t.tag,"Login FB success","facebook loged"),controller.ui.showDialog({title:"Alert",name:"facebook_accout_logged",message:{message:"Your account has been logged on this device"},buttons:[{title:"Confirm",theme:define.type.CLASS_THEME.DANGER}]});break;default:controller.ui.showDialog({title:"Messaage",name:"facebook_success",message:{message:"Loggin facebook success"},buttons:[{title:"OK",theme:define.type.CLASS_THEME.SUCCESS}]}),n(function(){t.loginCallback&&t.loginCallback()}),game.user.fbid=platform.facebook.getUserID(),store.emit(store.key.UPDATE_USER_AVATAR,"")}}):this.loginCallback&&this.loginCallback();break;case define.type.FACEBOOK_LISTENNER.API:game.log(this.tag,"facebook listenner","API","tag: "+e.tag+" - data: "+e.data);break;case define.type.FACEBOOK_LISTENNER.SHARED_SUCCESS:game.log(this.tag,"facebook listenner","SHARED_SUCCESS","data: "+e.data),tracking.send(tracking.event.FACEBOOK_SHARE_SUCCESS);break;case define.type.FACEBOOK_LISTENNER.SHARED_FAILED:if(game.log(this.tag,"facebook listenner","SHARED_FAILED","data: "+e.data),tracking.send(tracking.event.FACEBOOK_SHARE_FAILED),!platform.handle.checkAppInstall("com.facebook.katana "))return void this.listenner({type:define.type.FACEBOOK_LISTENNER.FACEBOOK_NOT_INSTALL});controller.ui.showDialog({title:"Message",type:define.type.DIALOG_TYPE.NORMAL,name:"share_failed",message:{message:"Facebook shared failed"},buttons:[{title:"Confirm",theme:define.type.CLASS_THEME.DANGER}]});break;case define.type.FACEBOOK_LISTENNER.SHARED_CANCEL:game.log(this.tag,"facebook listenner","SHARED_CANCEL"),tracking.send(tracking.event.FACEBOOK_SHARE_CANCELED);break;case define.type.FACEBOOK_LISTENNER.PERMISSON:game.log(this.tag,"facebook listenner","LOGIN","isLogin: "+e.isLogin+" - msg: "+e.msg);break;case define.type.FACEBOOK_LISTENNER.FETCHFRIENDS:game.log(this.tag,"facebook listenner","FETCHFRIENDS");break;case define.type.FACEBOOK_LISTENNER.REQUESTINVITABLEFRIENDS:game.log(this.tag,"facebook listenner","REQUESTINVITABLEFRIENDS");break;case define.type.FACEBOOK_LISTENNER.INVITEFRIENDSWITHINVITEIDSRESULT:game.log(this.tag,"facebook listenner","INVITEFRIENDSWITHINVITEIDSRESULT");break;case define.type.FACEBOOK_LISTENNER.INVITEFRIENDSRESULT:game.log(this.tag,"facebook listenner","INVITEFRIENDSRESULT");break;case define.type.FACEBOOK_LISTENNER.GETUSERINFO:game.log(this.tag,"facebook listenner","GETUSERINFO");break;case define.type.FACEBOOK_LISTENNER.REQUESTGIFTRESULT:game.log(this.tag,"facebook listenner","REQUESTGIFTRESULT");break;case define.type.FACEBOOK_LISTENNER.SENDGIFTRESULT:game.log(this.tag,"facebook listenner","SENDGIFTRESULT");break;case define.type.FACEBOOK_LISTENNER.FACEBOOK_NOT_INSTALL:game.log(this.tag,"facebook listenner","FACEBOOK_NOT_INSTALL"),controller.ui.showDialog({title:"Message",type:define.type.DIALOG_TYPE.NORMAL,name:"facebook_not_install",message:{message:"Facebook application has not been installed"},buttons:[{title:"Confirm",theme:define.type.CLASS_THEME.DANGER}]});break;default:game.log(this.tag,"facebook listenner","UNKNOW")}},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],IOSFireBase:[function(e,t,o){"use strict";cc._RF.push(t,"9a238xr6fRAtbvrnqkW7T//","IOSFireBase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="IOSFirebase"}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){return!(!sdkbox||!sdkbox.firebase)&&(game.log(this.tag,"firebase","init"),sdkbox.firebase.Analytics.init(),!0)},e.prototype.sendLogEvent=function(e,t){game.log(this.tag,"firebase","send log event",e,t),sdkbox.firebase.Analytics.logEvent(e,t)},e.prototype.getVersion=function(){var e=sdkbox.firebase.Analytics.getVersion();return game.log(this.tag,"getVersion",e),e},e.prototype.setUserProperty=function(e,t){game.log(this.tag,"setUserProperty",e,t),sdkbox.firebase.Analytics.setUserProperty(e,t)},e.prototype.setUserID=function(e){game.log(this.tag,"setUserID",e),sdkbox.firebase.Analytics.setUserID(e)},e.prototype.setScreenName=function(e,t){game.log(this.tag,"setScreenName",e,t),sdkbox.firebase.Analytics.setScreenName(e,t)},e.prototype.resetAnalyticsData=function(){game.log(this.tag,"resetAnalyticsData"),sdkbox.firebase.Analytics.resetAnalyticsData()},e.prototype.setAnalyticsCollectionEnabled=function(e){game.log(this.tag,"setAnalyticsCollectionEnabled",e),sdkbox.firebase.Analytics.setAnalyticsCollectionEnabled(e)},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],IOSHandle:[function(e,t,o){"use strict";cc._RF.push(t,"02159JFfgNJR7mOEBurfKit","IOSHandle"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="IOSHandle"}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.showMessageBox=function(e,t){var o=jsb.reflection.callStaticMethod("PlatformHandle","showMessageBox:andContent:",e,t);return game.log(this.tag,"handle","show message box",o),o},e.prototype.getDeviceId=function(){var e=jsb.reflection.callStaticMethod("PlatformHandle","getDeviceId");return game.log(this.tag,"handle","get device id",e),e},e.prototype.getPackageName=function(){var e=jsb.reflection.callStaticMethod("PlatformHandle","getPackageName");return game.log(this.tag,"handle","get package name",e),e},e.prototype.getVersionGame=function(){var e=jsb.reflection.callStaticMethod("PlatformHandle","getVersionGame");return game.log(this.tag,"handle","get version game",e),e},e.prototype.getCountryCode=function(){var e=jsb.reflection.callStaticMethod("PlatformHandle","getCountryCode");return game.log(this.tag,"handle","get country code",e),"string"==typeof e&&(e=e.toLowerCase()),e},e.prototype.getOSVersion=function(){var e=jsb.reflection.callStaticMethod("PlatformHandle","getOSVersion");return game.log(this.tag,"handle","get os version",e),e},e.prototype.isConnecting=function(){var e=jsb.reflection.callStaticMethod("PlatformHandle","isConnecting");return game.log(this.tag,"handle","is connecting",e),e},e.prototype.checkAppInstall=function(e){var t=jsb.reflection.callStaticMethod("PlatformHandle","checkAppInstall:",e);return game.log(this.tag,"handle","check app installed",t),t},e.prototype.setWakeLock=function(e){jsb.reflection.callStaticMethod("PlatformHandle","setWakeLock:",e),game.log(this.tag,"handle","check set wakelock")},e.prototype.openLink=function(e){e&&"string"==typeof e?cc.sys.openURL(e):game.error(this.tag,"handle","url is not useable")},e.prototype.screenshot=function(){var e=new cc.Node;e.parent=cc.director.getScene(),e.x=.5*cc.winSize.width,e.y=.5*cc.winSize.height;var t=e.addComponent(cc.Camera);t.cullingMask=4294967295;var o=new cc.RenderTexture,n=cc.game._renderContext;o.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),t.targetTexture=o,t.render();for(var i=o.readPixels(),r=4*o.width,a=new Uint8Array(i.length),s=0;s<o.height;s++)for(var c=(o.height-1-s)*o.width*4,l=0;l<r;l++)a[s*r+l]=i[c+l];var u=platform.handle.getWritablePath("screenshot.png");return platform.handle.saveImageData({data:a,width:o.width,height:o.height,filePath:u}),e.destroy(),game.log(this.tag,"screenshot","save in path",u),{texture:o,path:u}},e.prototype.getWritablePath=function(e){if("string"==typeof e)return jsb.fileUtils.getWritablePath()+e;game.warn(this.tag,"getWritablePath","suffix error",e)},e.prototype.saveImageData=function(e){void 0!==(e=e||{}).data&&"number"==typeof e.width&&"number"==typeof e.height&&"string"==typeof e.filePath?jsb.saveImageData(e.data,e.width,e.height,e.filePath):game.warn(this.tag,"saveImageData","input error",e)},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],IOSIap:[function(e,t,o){"use strict";cc._RF.push(t,"d6dafeWCdVJS5j0GJjMgvKe","IOSIap"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="IOSIap",this.listenner={onInitialized:function(e){game.log("platform.iap","iap listenner","on initialized","success: "+e)},onSuccess:function(e){tracking.send(tracking.event.IAP_PURCHASE_SUCCESS,this.itemBuying),tracking.purchase(e.id,e.priceValue),game.log("platform.iap","iap listenner","on success","product: "+e)},onFailure:function(e,t){tracking.send(tracking.event.IAP_PURCHASE_FAILED),game.error("platform.iap","iap listenner","on failure","product: "+e+" - msg: "+t)},onCanceled:function(e){tracking.send(tracking.event.IAP_PURCHASE_CANCELED),game.warn("platform.iap","iap listenner","on canceled","product: "+e)},onRestored:function(e){tracking.send(tracking.event.IAP_PURCHASE_RESTORED),game.log("platform.iap","iap listenner","on restored","product: "+e)},onRestoreComplete:function(e,t){tracking.send(tracking.event.IAP_PURCHASE_RESTOR_COMPLETED),game.log("platform.iap","iap listenner","on restore complete","ok: "+e+" - msg: "+t)},onProductRequestSuccess:function(e){game.log("platform.iap","iap listenner","on product request success","product: "+e);for(var t=0;t<e.length;t++);},onProductRequestFailure:function(e){game.log("platform.iap","iap listenner","on product request failure","msg: "+e)},onShouldAddStorePayment:function(e){game.log("platform.iap","iap listenner","on should add store payment","productName: "+e)},onFetchStorePromotionOrder:function(e,t){game.log("platform.iap","iap listenner","on fetch store promotion order","productNames: "+e+" - error: "+t)},onFetchStorePromotionVisibility:function(e,t,o){game.log("platform.iap","iap listenner","on fetch store promotion visibility","productName: "+e+" - visibility: "+t+" - error: "+o)},onUpdateStorePromotionOrder:function(e){game.log("platform.iap","iap listenner","on update store promotion order","error: "+e)},onUpdateStorePromotionVisibility:function(e){game.log("platform.iap","iap listenner","on update store promotion visibility","error: "+e)},onPurchaseHistory:function(e){game.log("platform.iap","iap listenner","on purchase history","purchase: "+e)},onConsumed:function(e,t){game.log("platform.iap","iap listenner","on consumed","p: "+e+" - error: "+t)},onDeferred:function(e){game.log("platform.iap","iap listenner","on deferred","p: "+e)}}}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){game.log(this.tag,"iap","init");var e=sdkbox.IAP;e.setListener(this.listenner),e.init(),e.enableUserSideVerification()},e.prototype.setDebug=function(e){game.log(this.tag,"iap","set debug"),sdkbox.IAP.setDebug(e)},e.prototype.purchase=function(e){tracking.send(tracking.event.IAP_PURCHASE_CLICK,{pack:e}),config.setup.testIAP&&this.purchaseTest(e),game.log(this.tag,"iap","purchase"),sdkbox.IAP.purchase(e)},e.prototype.purchaseByProductID=function(e){var t=Object.values(define.key.iap.ios).find(function(t){return t.id==e});t?this.purchase(t.name):game.warn(this.tag,"purchaseByProductID","item wasn't defined")},e.prototype.purchaseTest=function(e){var t=this,o=Object.values(define.key.iap.web).find(function(t){return t.name==e});if(!o)return game.warn(this.tag,"purchaseByProductID","item wasn't defined");api.sendGD({e:"deleteReceipt",orderId:JSON.parse(o.test.receipt).orderId},function(e,n){game.log(e,n),t.listenner.onSuccess(o.test)})},e.prototype.refresh=function(){game.log(this.tag,"iap","refresh"),sdkbox.IAP.refresh()},e.prototype.restore=function(){game.log(this.tag,"iap","restore"),sdkbox.IAP.restore()},e.prototype.removeListener=function(){game.log(this.tag,"iap","remove listener"),sdkbox.IAP.removeListener()},e.prototype.enableUserSideVerification=function(){game.log(this.tag,"iap","enable user side verification"),sdkbox.IAP.enableUserSideVerification()},e.prototype.isAutoFinishTransaction=function(){return game.log(this.tag,"iap","is auto finish transaction"),sdkbox.IAP.isAutoFinishTransaction()},e.prototype.setAutoFinishTransaction=function(e){game.log(this.tag,"iap","set auto finish transaction"),sdkbox.IAP.setAutoFinishTransaction(e)},e.prototype.finishTransaction=function(e){game.log(this.tag,"iap","finish transaction","productid: "+e),sdkbox.IAP.finishTransaction(e)},e.prototype.fetchStorePromotionOrder=function(){game.log(this.tag,"iap","fetch store promotion order"),sdkbox.IAP.fetchStorePromotionOrder()},e.prototype.updateStorePromotionOrder=function(e){game.log(this.tag,"iap","update store promotion order","productNames: "+e),sdkbox.IAP.updateStorePromotionOrder(e)},e.prototype.fetchStorePromotionVisibility=function(e){game.log(this.tag,"iap","fetchStore promotion visibility","productNames: "+e),sdkbox.IAP.fetchStorePromotionVisibility(e)},e.prototype.updateStorePromotionVisibility=function(e,t){game.log(this.tag,"iap","updateStore promotion visibility","productNames: "+e),sdkbox.IAP.updateStorePromotionVisibility(e,t)},e.prototype.getPurchaseHistory=function(){game.log(this.tag,"iap","get purchase history"),sdkbox.IAP.getPurchaseHistory()},e.prototype.getInitializedErrMsg=function(){game.log(this.tag,"iap","get initialized err msg"),sdkbox.IAP.getInitializedErrMsg()},e.prototype.requestUpdateTransaction=function(){game.log(this.tag,"iap","request update transaction"),sdkbox.IAP.requestUpdateTransaction()},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],IOSOnesignal:[function(e,t,o){"use strict";cc._RF.push(t,"94bbb56XClEJIBkoJgLrW3E","IOSOnesignal"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="IOSOnesignal"}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){game.log(this.tag,"onesignal","init");var e=sdkbox.PluginOneSignal;e.setListener({onSendTag:function(e,t,o){game.log("onesignal","send tag","success: "+e+" - key: "+t+" - message: "+o)},onGetTags:function(e){game.log("onesignal","get tag","jsonString: "+e)},onIdsAvailable:function(e,t){game.log("onesignal","ids avaiable","userId: "+e+" - pushToken: "+t)},onPostNotification:function(e,t){game.log("onesignal","on post notification","success: "+e+" - message: "+t)},onNotification:function(e,t,o){game.log("onesignal","on notification","isActive: "+e+" - message: "+t+" - additionalData: "+o)}}),e.init()},e.prototype.registerPushNotifications=function(){game.log(this.tag,"onesignal","register push notification"),sdkbox.PluginOneSignal.registerForPushNotifications()},e.prototype.sendTag=function(e,t){game.log(this.tag,"onesignal","send tag","key: "+e+" - value: "+t),sdkbox.PluginOneSignal.sendTag(e,t)},e.prototype.getTags=function(){game.log(this.tag,"onesignal","get tags"),sdkbox.PluginOneSignal.getTags()},e.prototype.deleteTag=function(e){game.log(this.tag,"onesignal","delete tag","key: "+e),sdkbox.PluginOneSignal.deleteTag(e)},e.prototype.setEmail=function(e){game.log(this.tag,"onesignal","set email","email: "+e),sdkbox.PluginOneSignal.setEmail(e)},e.prototype.idsAvailable=function(){game.log(this.tag,"onesignal","ids avaiable"),sdkbox.PluginOneSignal.idsAvailable()},e.prototype.enableInAppAlertNotification=function(e){game.log(this.tag,"onesignal","in app alert notification","enable: "+e),sdkbox.PluginOneSignal.enableInAppAlertNotification(e)},e.prototype.setSubscription=function(e){game.log(this.tag,"onesignal","set subscription","enable: "+e),sdkbox.PluginOneSignal.setSubscription(e)},e.prototype.postNotification=function(e){game.log(this.tag,"onesignal","post notification","json: "+e),sdkbox.PluginOneSignal.postNotification(e)},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],ImageScale:[function(e,t,o){"use strict";cc._RF.push(t,"da9c5MQc85PTbxoX5CVhQIY","ImageScale"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){var e=cc.view.getFrameSize(),t=e.width/e.height,o=this.node.width*e.height/(this.node.height*e.width);t<1.5&&(this.node.width*=o,this.node.scaleY*=o),t>2&&(this.node.width/=o,this.node.scaleY/=o)},t=__decorate([i],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],ItemAnimation:[function(e,t,o){"use strict";cc._RF.push(t,"30e3dpNqI1BX68JHeVB7wO1","ItemAnimation"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeletonData=null,t.animation="",t.loop=!1,t.autoRun=!0,t.fadeOut=!0,t.autoRelease=!0,t.timeOut=.5,t.skeleton=null,t.callback=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.skeleton=this.node.getComponent(sp.Skeleton),this.node.active=!1,this.updateSkeletonData(),this.autoRun&&this.skeletonData&&this.animation&&this.playSkeleton()},t.prototype.init=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:if(!(e=e||{}).skeletonData)return game.error("ItemAnimation","init","skeleton animation not have skeleton data"),[2];for(t in e.animation=e.animation||"animation",void 0===e.loop&&(e.loop=!1),void 0===e.autoRun&&(e.autoRun=!0),void 0===e.autoRelease&&(e.autoRelease=!0),void 0===e.fadeOut&&(e.fadeOut=!0),void 0===e.callback&&(e.callback=null),e)e.hasOwnProperty(t)&&(this[t]=e[t]);return this.updateSkeletonData(),this.autoRun?[4,this.playSkeleton()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.updateSkeletonData=function(){this.skeleton.skeletonData=this.skeletonData,this.skeleton.animation=this.animation,this.skeleton.loop=this.loop,this.skeleton.node.scale=0},t.prototype.playSkeleton=function(e){var t=this;return new Promise(function(o,n){"string"==typeof(e=e||{}).animation&&(t.animation=e.animation),"boolean"==typeof e.loop&&(t.loop=e.loop),"boolean"==typeof e.autoRun&&(t.autoRun=e.autoRun),"boolean"==typeof e.autoRelease&&(t.autoRelease=e.autoRelease),"boolean"==typeof e.fadeOut&&(t.fadeOut=e.fadeOut),"function"==typeof e.callback&&(t.callback=e.callback),"number"==typeof e.timeOut&&(t.timeOut=e.timeOut),t.node.active=!0,t.loop?o():t.skeleton.setCompleteListener(function(){var e=this;this.autoRelease?this.fadeOut?this.node.runAction(cc.sequence(cc.delayTime(this.timeOut),cc.fadeOut(.5),cc.callFunc(function(){e&&e.node&&e.node.destroy(),o()}))):(this.node.destroy(),o()):o()}.bind(t)),t.skeleton.setAnimation(0,t.animation,t.loop),t.skeleton.node.runAction(effect.bouceIn({time:.25}))})},t.prototype.onDestroy=function(){this.callback&&this.callback()},__decorate([r(sp.SkeletonData)],t.prototype,"skeletonData",void 0),__decorate([r({tooltip:"Custom Animation"})],t.prototype,"animation",void 0),__decorate([r(cc.Boolean)],t.prototype,"loop",void 0),__decorate([r(cc.Boolean)],t.prototype,"autoRun",void 0),__decorate([r(cc.Boolean)],t.prototype,"fadeOut",void 0),__decorate([r(cc.Boolean)],t.prototype,"autoRelease",void 0),__decorate([r({tooltip:"Time destroy"})],t.prototype,"timeOut",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],ItemGame:[function(e,t,o){"use strict";cc._RF.push(t,"5bbeb6hzUpObodJ2mdI9+U3","ItemGame"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Components/AccumulatedBar"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.image=null,t.loadingPrefab=null,t.id=0,t.smid="",t.loadingNode=null,t.accumulatedBar=null,t}return __extends(t,e),t.prototype.setData=function(e,t){this.id=e,this.image.spriteFrame=t,this.smid=config.game.SMID[e]||""},t.prototype.initDownloadProgress=function(){var e=this;if(!this.loadingNode){this.image.node.runAction(cc.tintTo(.3,40,40,40)),this.loadingNode=cc.instantiate(this.loadingPrefab),this.accumulatedBar=this.loadingNode.getComponent(n.default),this.loadingNode.parent=this.node,this.loadingNode.setPosition(0,0),this.loadingNode.opacity=0,this.loadingNode.runAction(effect.bouceIn({time:.3})),this.accumulatedBar.lerpRatio=10;return function(t,o){e.accumulatedBar.setProgress(t/o)}}},t.prototype.removeDownloadProgress=function(e){var t=this;this.loadingNode&&this.loadingNode.runAction(cc.sequence([cc.delayTime(.3),cc.callFunc(function(){t.loadingNode.runAction(effect.bouceOut({time:.3})),t.image.node.runAction(cc.tintTo(.3,255,255,255))}),cc.delayTime(.3),cc.callFunc(function(){t.loadingNode.destroy(),e&&e.destroy()})]))},__decorate([a(cc.Sprite)],t.prototype,"image",void 0),__decorate([a(cc.Prefab)],t.prototype,"loadingPrefab",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../Components/AccumulatedBar":"AccumulatedBar"}],ItemSkeleton:[function(e,t,o){"use strict";cc._RF.push(t,"2c5c63AwXNGqrfxds6qJcO7","ItemSkeleton"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeleton=null,t}return __extends(t,e),t.prototype.onLoad=function(){window.item=this,this.skeleton=this.node.getComponent(sp.Skeleton),game.log(this.skeleton.skeletonData.skeletonJson)},t=__decorate([i],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],Item:[function(e,t,o){"use strict";cc._RF.push(t,"693baJDbAJFE4FJLNuwUi2N","Item"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="",t.spritesFrame=null,t.skeletonData=null,t}return __extends(t,e),t.prototype.setInfo=function(e,t,o){this.id=e,t&&(this.spritesFrame=t),o&&(this.skeletonData=o)},__decorate([r(cc.String)],t.prototype,"id",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"spritesFrame",void 0),__decorate([r(sp.SkeletonData)],t.prototype,"skeletonData",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],LevelUpAnimation:[function(e,t,o){"use strict";cc._RF.push(t,"9d0c8zOhG9EaK0azzeGQEhb","LevelUpAnimation"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Components/CoinLabel"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbLevel=void 0,t.lbCoin=void 0,t.btnCollect=void 0,t.coinController=void 0,t.effectLayout=void 0,t.data={level:10,coin:2e6},t.enableCollect=!1,t.releaseCallback=void 0,t}return __extends(t,e),t.prototype.init=function(e){this.data=e},t.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.coinController=new n.default(this.lbCoin),this.effectLayout=this.getComponent("EffectLayout"),this.lbCoin.node.opacity=0,this.btnCollect.node.opacity=0,this.lbLevel.string=this.data.level.toString(),this.enableCollect=!0,[4,this.onOpen()];case 1:return t.sent(),[4,new Promise(function(t,o){e.releaseCallback=function(){t()}})];case 2:return t.sent(),[2]}})})},t.prototype.onOpen=function(){var e=this;return Promise.all([new Promise(function(t,o){e.effectLayout.onOpen().then(function(){t()})}),new Promise(function(t,o){e.lbCoin.node.runAction(effect.bouceIn({time:.3,callback:function(){e.coinController&&e.coinController.updateUserBalance(e.data.coin,{subfix:" $"}),e.effectLayout&&e.effectLayout.coin.play(),t()}}))}),new Promise(function(t,o){e.btnCollect.node.runAction(effect.bouceIn({time:.5,callback:function(){t()}}))})])},t.prototype.onClose=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return e=[this.effectLayout.anim.node,this.lbCoin.node,this.btnCollect.node],[4,Promise.all(e.map(function(e,t){return new Promise(function(o,n){e&&e.runAction(effect.bouceOut({time:.3+.15*t,callback:function(){o()}}))})}))];case 1:return t.sent(),this.effectLayout?[4,this.effectLayout.onClose()]:[3,3];case 2:t.sent(),t.label=3;case 3:return this.node&&this.onRelease(),[2]}})})},t.prototype.onClickCollect=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return game.log("LevelUpAnimation","onClickCollect"),this.enableCollect?[4,this.onClose()]:(game.log("LevelUpAnimation","onClickCollect","enableCollect is false"),[2]);case 1:return e.sent(),[2]}})})},t.prototype.onRelease=function(){this.effectLayout.onRelease(),this.releaseCallback&&this.releaseCallback()},__decorate([a(cc.Label)],t.prototype,"lbLevel",void 0),__decorate([a(cc.Label)],t.prototype,"lbCoin",void 0),__decorate([a(cc.Button)],t.prototype,"btnCollect",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../Components/CoinLabel":"CoinLabel"}],LinesController:[function(e,t,o){"use strict";cc._RF.push(t,"ddc65mv5XtJr6Rcm5HohZzJ","LinesController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tableView=null,t.lineAnimate=null,t.lineSprite=null,t.lineItem=null,t.totalLines=20,t.lineNode=[],t.getLine=function(e){var o=config.game.PAY_LINES[t.totalLines][e],n=t._slotController,i=n.distanceItemX,r=n.distanceItemY,a=t._slotController.gameSizeType,s=3;3!=a&&2!=a||(s=4);var c=o.reduce(function(e,t,o){return e.push({x:(o+.5)*i,y:(s-(t+.5))*r}),e},[]);c=[{x:0,y:c[0].y}].concat(c,[{x:c[c.length-1].x+i/2,y:c[c.length-1].y}]);var l=t.getColorLine(e),u=new cc.Node("TotalLineNode");u.parent=t.node,t.lineNode.push(u);for(var p=0;p<c.length-1;p++){var d=cc.instantiate(t.lineItem),h=4+Math.sqrt(Math.pow(c[p].x-c[p+1].x,2)+Math.pow(c[p].y-c[p+1].y,2)),m=-(180+180*Math.atan2(c[p].y-c[p+1].y,c[p].x-c[p+1].x)/Math.PI);d.parent=u,d.active=!0,d.width=h,d.rotation=m,d.color=l,d.setPosition(c[p])}},t}return __extends(t,e),t.prototype.init=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this._slotController=e,[4,this.loadRes()];case 1:return t.sent(),this.lineItem=new cc.Node("Linepay"),this.lineItem.addComponent(cc.Sprite).spriteFrame=this.lineSprite,this.lineItem.anchorX=.015,this.lineItem.anchorY=.5,this.initPosition(),this.initAnimation(),[2]}})})},t.prototype.loadRes=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return[4,Promise.all([util.game.loadRes("0_animation/Slots/LineAni",cc.AnimationClip),util.game.loadRes("0_textures/Slots/Linepay",cc.SpriteFrame)])];case 1:return e=t.sent(),this.lineAnimate=e[0],this.lineSprite=e[1],[2]}})})},t.prototype.initPosition=function(){this.node.parent=this.tableView,this.node.anchorX=0,this.node.anchorY=0,this.node.width=this.tableView.width,this.node.height=this.tableView.height,this.node.x=0,this.node.y=0,this.node.zIndex=2},t.prototype.initAnimation=function(){this.node.addComponent(cc.Animation),this.animation=this.node.getComponent(cc.Animation),this.animation.addClip(this.lineAnimate),this.lineItem.height=11,this.lineItem.anchorX=.015,this.lineItem.anchorY=.5},t.prototype.showAllLines=function(e,t){var o=this;return this.node.active=!0,t&&(this.totalLines=t),util.game.showNode(this.node,2),e.forEach(function(e){o.getLine(e)}),this.animation.play("LineAni"),new Promise(function(e,t){o.node.runAction(cc.sequence([cc.delayTime(1.3),cc.callFunc(function(){o.stopShowLines(),e()})]))})},t.prototype.showLine=function(e){var t=this;return this.node.active=!0,util.game.showNode(this.node,2),this.getLine(e),this.animation.play("LineAni"),new Promise(function(e,o){t.node.runAction(cc.sequence([cc.delayTime(1.5),cc.callFunc(function(){t.stopShowLines(),e()})]))})},t.prototype.stopShowLines=function(){this.node&&(this.animation&&this.animation.stop(),this.lineNode&&this.lineNode.forEach(function(e){e.active=!1,cc.isValid(e)&&e.destroy()}),this.node.active=!1)},t.prototype.refreshShowLines=function(){this.animation&&this.animation.stop(),util.game.hideNode(this.node),this.lineNode&&this.lineNode.forEach(function(e){cc.isValid(e)&&e.destroy()}),this.lineNode=[]},t.prototype.getColorLine=function(e){var t,o=define.color,n=[o.Green,o.Yellow,o.Orange,o.Red,o.Blue,o.Violet];return e%=n.length,new((t=cc.Color).bind.apply(t,[void 0].concat(Object.values(n[e]))))},__decorate([r(cc.Node)],t.prototype,"tableView",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],LoadingScene:[function(e,t,o){"use strict";cc._RF.push(t,"a3f48OKaENFD52GSjKZD7zy","LoadingScene"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Components/AccumulatedBar"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=void 0,t.logo=void 0,t.progress=void 0,t.lbPercent=void 0,t.loadDone=!1,t.numComplete=0,t.numProgress=0,t.key=[],t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;this.bg.width=cc.winSize.width,this.bg.height=cc.winSize.height,this.progress.lerpRatio=20,this.progress.setListener(function(t){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.loadDone?[2]:(this.lbPercent&&(this.lbPercent.string="Loading: "+t.toFixed(2)+"%"),100!==t?[3,3]:(this.loadDone=!0,[4,this.onClose()]));case 1:return e.sent(),[4,controller.ui.openHomeScene()];case 2:e.sent(),game.data.megaWheel&&"number"==typeof game.data.megaWheel.result&&controller.ui.openWheelBonus(define.type.WHEEL_BONUS.GOLD),view.bar.top.lerpOn=!0,view.bar.top.updateBarData(),e.label=3;case 3:return[2]}})})}),this.initListenner(),this.initialize()},t.prototype.initListenner=function(){var e=this;this.numComplete++;var t=store.register(store.key.LOGIN_DONE,function(){config.setup.skipLogin?(e.progress.setProgress(.99,!1),e.progress.lerpRatio=100,e.progress.setProgress(1)):e&&e.node&&e.numComplete&&e.progress&&(e.numProgress++,e.progress.setProgress(e.numProgress/e.numComplete))});this.key.push(t)},t.prototype.initialize=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.onOpen()];case 1:return e.sent(),api.loginNow(),[2]}})})},t.prototype.onOpen=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return util.game.delay(1,this.node),[4,new Promise(function(t,o){e&&e.logo&&e.logo.node&&e.logo.node.runAction(effect.bouceIn({callback:function(){t()}}))})];case 1:return t.sent(),[4,new Promise(function(t,o){e&&e.progress&&e.progress.node&&e.progress.node.runAction(cc.sequence(cc.fadeIn(.2),cc.callFunc(function(){t()})))})];case 2:return t.sent(),[4,new Promise(function(t,o){e&&e.lbPercent&&e.lbPercent.node&&e.lbPercent.node.runAction(cc.sequence(cc.fadeIn(.01),cc.callFunc(function(){t()})))})];case 3:return t.sent(),[2]}})})},t.prototype.onClose=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return[4,new Promise(function(t,o){e&&e.lbPercent&&e.lbPercent.node&&e.lbPercent.node.runAction(cc.sequence(cc.fadeIn(.1),cc.callFunc(function(){t()})))})];case 1:return t.sent(),[4,new Promise(function(t,o){e&&e.progress&&e.progress.node&&e.progress.node.runAction(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){t()})))})];case 2:return t.sent(),[4,new Promise(function(t,o){e&&e.logo&&e.logo.node&&e.logo.node.runAction(effect.bouceOut({callback:function(){t()}}))})];case 3:return t.sent(),[4,new Promise(function(t,o){e&&e.bg&&e.bg.runAction(cc.sequence(cc.moveTo(.3,cc.v2(0,-e.bg.height)).easing(cc.easeOut(.7)),cc.callFunc(function(){t()})))})];case 4:return t.sent(),this.onRelease(),[2]}})})},t.prototype.onRelease=function(){this.node&&this.node.destroy(),view.screen.loading=void 0},t.prototype.onDestroy=function(){this.key.forEach(function(e){return store.unRegister(e)})},__decorate([a(cc.Node)],t.prototype,"bg",void 0),__decorate([a(sp.Skeleton)],t.prototype,"logo",void 0),__decorate([a(n.default)],t.prototype,"progress",void 0),__decorate([a(cc.Label)],t.prototype,"lbPercent",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../Components/AccumulatedBar":"AccumulatedBar"}],Main:[function(e,t,o){"use strict";cc._RF.push(t,"1c171djw71FS6tvzt/Atvwj","Main"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("./Util/GameUtil"),r=e("./Util/StringUtil"),a=e("./Api"),s=e("./Store"),c=e("./GameConfig"),l=e("./SoundController"),u=e("./Effect"),p=e("./Platform/PlatformController"),d=e("./Tracking"),h=e("./Define/DefineType"),m=e("./Define/DefineString"),f=e("./Define/DefineColor"),g=e("./Define/DefineKey"),y=e("./Define/DefineZIndex"),_=cc._decorator,v=_.ccclass,b=_.property;(function(e){e[e["64.120.114.208"]=1]="64.120.114.208",e[e["192.168.31.119"]=2]="192.168.31.119"})(n=o.EIP||(o.EIP={}));var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ip=n["64.120.114.208"],t.showLog=!1,t.testKey=!1,t.testIAP=!1,t.skipLogin=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.initGlobal(),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide,this),cc.game.on(cc.game.EVENT_SHOW,this.onGameShow,this),this.resiterStore(),this.initialize(),tracking.send(tracking.event.APP_LAUNCHER)},t.prototype.start=function(){var e=this;controller.ui.openLoadingScene(),setTimeout(function(){e&&e.checkInternetConnection&&e.checkInternetConnection()},3e3)},t.prototype.initialize=function(){var e=cc.director.getScene().getChildByName("TestKey");this.testKey&&e&&(e.active=!0)},t.prototype.initGlobal=function(){var e=this;window.controller={ui:this.node.getComponent("UIController"),sound:l.default.ins()};var t=cc.director.getScene().getChildByName("Canvas").getChildByName("bar"),o=t.getChildByName("topBar").getComponent("TopBarController"),_=t.getChildByName("bottomBar").getComponent("BottomBarController");window.view={screen:{loading:void 0,home:void 0,game:void 0,slot:void 0,bonus:void 0,wheelBonus:void 0,model:cc.director.getScene().getChildByName("Canvas").getChildByName("Model")},slot:{1:void 0,2:void 0,3:void 0,4:void 0,5:void 0,6:void 0,7:void 0,8:void 0},popup:{},dialog:{},progress:void 0,bar:{node:t,top:o,bottom:_},multi:cc.director.getScene().getChildByName("Canvas").getChildByName("multiSlot").getComponent("MultiScene"),animation:void 0},window.define={type:h,color:f,key:g,string:m,zIndex:y},window.config={game:c.default,setup:{showLog:this.showLog,testKey:this.testKey,testIAP:this.testIAP,skipLogin:this.skipLogin}},window.api=a.default,window.api.HOST=n[this.ip],window.store=s.default,window.util={game:i.default,string:r.default},window.game={data:{deviceKind:define.type.Device.NORMAL,deviceOs:define.type.DEVICE_OS.UNKNOW,deviceOsName:"",gameOS:define.type.GAME_OS.WEB_COCOS,countryCode:"",deviceId:"",packageName:"",versionGame:"",versionOS:"",dealTime:void 0,shop:{},megaWheel:null,fanpage:"huycoiminecraft",groupFB:"150748192018164",dailyBonus:{freeWheel:{array:[],isTaken:!1,result:0},lucy:{isTaken:!1,value:0}},dailyQuest:{completeAll:!1,completedQuests:[],missions:[],totalPoints:0,totalRewards:0,currentQuest:0,currentProgress:0,doneThisQuest:!0,startWeek:new Date},now:void 0,dTime:0,weeklyAccumilation:{currentProgress:0,rewardsInfo:[],totalRewards:0,takenRewards:0,isCompleted:!0}},user:{balance:0,id:0,fbid:"",loginType:void 0,level:{currentExp:0,currentLevel:0,requiredExp:0}},log:function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];e.showLog&&console.log.apply(console,[t].concat(o))},logSystem:function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];e.showLog&&console.log.apply(console,["%c SYSTEM ","background: #d32f2f; color: #fff",t].concat(o))},logEvent:function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];e.showLog&&console.log.apply(console,["%c EVENT ","background: #4a148c; color: #fff",t].concat(o))},logTracking:function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];e.showLog&&console.log.apply(console,["%c Tracking %s ","background: #6d4c41; color: #fff",t].concat(o))},logTest:function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];e.showLog&&console.log.apply(console,["%c LOGTEST ","background: #222; color: #bada55",t].concat(o))},warn:function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];e.showLog&&console.warn.apply(console,[t].concat(o))},error:function(t){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];e.showLog&&console.error.apply(console,[t].concat(o))}},window.effect=u.default.ins(),window.platform=p.default.ins(),window.tracking=d.default.ins(),window.controller.sound.init(),window.platform.init()},t.prototype.resiterStore=function(){store.register(store.key.UPDATE_USER_BALANCE,function(e){game.user.balance=e}),store.register(store.key.UPDATE_USER_LEVEL,function(e){game.user.level=e}),store.register(store.key.UPDATE_SHOP_DATA,function(e){game.data.shop=e,game.data.megaWheel?game.data.megaWheel.array=e[define.type.ESHOP.MEGA_WHEEL].config:(game.data.megaWheel={array:[],result:void 0},game.data.megaWheel.array=e[define.type.ESHOP.MEGA_WHEEL].config),store.emit(store.key.UPDATE_MEGAWHEEL_DATA,game.data.megaWheel)}),store.register(store.key.UPDATE_MEGAWHEEL_DATA,function(e){game.data.megaWheel=e}),store.register(store.key.DAILYQUEST,function(e){game.data.dailyQuest=e}),store.register(store.key.DAILYBONUS,function(e){game.data.dailyBonus=e}),store.register(store.key.WEEKLY_ACCUMILATION,function(e){game.data.weeklyAccumilation=e})},t.prototype.onGameHide=function(){game.log("%c GAME HIDDEN, SEE YOU AGAIN!!! ","background: #1B5E20; color: #fff")},t.prototype.onGameShow=function(){game.log("%c GAME SHOW, NICE TO MEET YOU ^^ ","background: #01579B; color: #fff"),this.checkInternetConnection()},t.prototype.checkInternetConnection=function(){platform.handle.isConnecting()||controller.ui.showDialog({title:"Connection Error",type:define.type.DIALOG_TYPE.FORCE,name:"connection_error",message:{message:"Failed to connect to the server.\nPlease check your Internet connection."},buttons:[{title:"Reload",theme:define.type.CLASS_THEME.DANGER,callback:function(){api.socket.reconnect()}}]})},t.prototype.onTestKey=function(e){switch(parseInt(e.string)){case 1:platform.firebase.getVersion();break;case 2:platform.firebase.setUserProperty("hehe","huhu");break;case 3:platform.firebase.setUserID("1000000");break;case 4:platform.firebase.setScreenName("Main","MainScene");break;case 5:platform.firebase.sendLogEvent("test",["test1","test2"]);break;case 6:platform.firebase.resetAnalyticsData();break;case 7:platform.firebase.setAnalyticsCollectionEnabled(!0);break;case 8:platform.admob.cache();break;case 9:platform.admob.showBanner();break;case 10:platform.admob.showInterstitial();break;case 11:platform.admob.showRewarded();break;case 12:platform.facebook.login();break;case 13:platform.onesignal.registerPushNotifications();break;case 14:platform.onesignal.sendTag("test","test hihi");break;case 15:platform.onesignal.getTags();break;case 16:platform.onesignal.deleteTag("test");break;case 17:platform.onesignal.setEmail("huyvk3110@gmail.com");break;case 18:platform.onesignal.idsAvailable();break;case 19:platform.onesignal.enableInAppAlertNotification(!0);break;case 20:platform.onesignal.setSubscription(!0);break;case 21:platform.onesignal.postNotification("hihi hehe");break;case 22:platform.iap.setDebug(!0);break;case 23:platform.iap.purchase("coin_package");break;case 24:platform.iap.refresh();break;case 25:platform.iap.restore();break;case 26:platform.iap.removeListener();break;case 27:platform.iap.enableUserSideVerification();break;case 28:platform.iap.isAutoFinishTransaction();break;case 29:platform.iap.setAutoFinishTransaction(!0);break;case 30:platform.iap.finishTransaction("com.cocos2dx.plugintest2");break;case 31:platform.iap.fetchStorePromotionOrder();break;case 32:platform.iap.updateStorePromotionOrder("coin_package");break;case 33:platform.iap.fetchStorePromotionVisibility("coin_package");break;case 34:platform.iap.updateStorePromotionVisibility("coin_package",!0);break;case 35:platform.iap.getPurchaseHistory();break;case 36:platform.iap.getInitializedErrMsg();break;case 37:platform.iap.requestUpdateTransaction();break;case 38:platform.iap.purchase("item1");break;case 39:platform.iap.purchase("item2");break;case 40:platform.iap.purchase("item3");break;case 41:sdkbox.firebase.Analytics.logEvent("test1");break;case 42:sdkbox.firebase.Analytics.logEvent("test2","params1");break;case 43:sdkbox.firebase.Analytics.logEvent("test3",["params1","params2"]);break;case 44:sdkbox.firebase.Analytics.logEvent("test3",["0_params1","1_params2"]);break;case 45:console.log(JSON.stringify(sdkbox.firebase.Analytics.Event));break;case 46:console.log(JSON.stringify(sdkbox.firebase.Analytics.Param));break;case 47:console.log("Send logEvent 47"),sdkbox.firebase.Analytics.logEvent("test4",{key1:"param1",key2:"param2"});break;default:game.log("Key not defined")}},t.prototype.onClickTest=function(){var e=cc.director.getScene().getChildByName("TestKey").getChildByName("editBox").getComponent(cc.EditBox);this.onTestKey(e)},__decorate([b({type:cc.Enum(n),displayName:"IP"})],t.prototype,"ip",void 0),__decorate([b(cc.Boolean)],t.prototype,"showLog",void 0),__decorate([b(cc.Boolean)],t.prototype,"testKey",void 0),__decorate([b(cc.Boolean)],t.prototype,"testIAP",void 0),__decorate([b(cc.Boolean)],t.prototype,"skipLogin",void 0),t=__decorate([v],t)}(cc.Component);o.default=S,cc._RF.pop()},{"./Api":"Api","./Define/DefineColor":"DefineColor","./Define/DefineKey":"DefineKey","./Define/DefineString":"DefineString","./Define/DefineType":"DefineType","./Define/DefineZIndex":"DefineZIndex","./Effect":"Effect","./GameConfig":"GameConfig","./Platform/PlatformController":"PlatformController","./SoundController":"SoundController","./Store":"Store","./Tracking":"Tracking","./Util/GameUtil":"GameUtil","./Util/StringUtil":"StringUtil"}],MarginWithIphoneX:[function(e,t,o){"use strict";cc._RF.push(t,"4d82a3moCNLpq7LGl4XXnsC","MarginWithIphoneX"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.marginLeft=100,t.marginRight=100,t}return __extends(t,e),t.prototype.onLoad=function(){var e=cc.view.getFrameSize();e.width/e.height>=2&&this.node.getComponent(cc.Widget)&&(this.marginLeft>=0&&(this.node.getComponent(cc.Widget).left=this.marginLeft),this.marginRight>=0&&(this.node.getComponent(cc.Widget).right=this.marginRight))},__decorate([r(cc.Integer)],t.prototype,"marginLeft",void 0),__decorate([r(cc.Integer)],t.prototype,"marginRight",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],MinigameController1:[function(e,t,o){"use strict";cc._RF.push(t,"d7e56NGG8tI3odhnrwKgR9b","MinigameController1"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../scripts/Components/CoinLabel"),i=e("./ResourceMinigame1"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.collectBonus=null,t.itemsContainer=null,t.multipleLabel=null,t.baseScoreLabel=null,t.gameResult=null,t.mainGame=null,t.scoreLabel=null,t.resourceMinigame=null,t._slotController=null,t.listItem=[],t.playArray=[],t.baseScore=0,t.totalMultiple=0,t._isLock=!1,t._time=0,t}return __extends(t,e),t.prototype.startMiniGame=function(e,t,o){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(i){return this.playArray=t,this.baseScore=o,this.baseScoreLabel.string="$ "+util.string.formatMoney(this.baseScore),this.coinController=new n.default(this.scoreLabel),this.coinController.updateUserBalance(0),this.listItem=this.itemsContainer.children,this.listItem.forEach(function(t){t.once(cc.Node.EventType.TOUCH_END,function(t){e.selectItem(t.currentTarget)})}),this.resourceMinigame.resourceController=this._slotController.resourceController,this.resourceMinigame.loadResources(),[2]})})},t.prototype.selectItem=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return this._isLock?[2]:(this._isLock=!0,t=this.playArray[this._time],this.updateTotalMultiple(t),this.itemAction(e,t),this._time++,this._time!=this.playArray.length?[3,2]:(e.children[2].active=!1,[4,this.showEndGame()]));case 1:o.sent(),o.label=2;case 2:return this._isLock=!1,[2]}})})},t.prototype.updateTotalMultiple=function(e){var t=this;this.totalMultiple+=e,this.multipleLabel.node.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.callFunc(function(){t.multipleLabel.string=t.totalMultiple+"X"}),cc.scaleTo(.3,1)))},t.prototype.itemAction=function(e,t){e.children[1].active=!0,e.children[2].active=!0,e.children[1].scale=.3,e.children[2].scale=.3,e.children[1].getComponent(cc.Label).string="X"+t,e.children[0].runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){e.children[1].runAction(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1))),e.children[2].runAction(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1)))})))},t.prototype.showEndGame=function(){var e=this;return new Promise(function(t,o){return __awaiter(e,void 0,void 0,function(){var e=this;return __generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.gameResult.active=!0,this.gameResult.opacity=0,[4,util.game.delay(1e3,this.node,t)];case 1:return o.sent(),this.mainGame.runAction(cc.fadeOut(.3)),this.gameResult.runAction(cc.sequence([cc.fadeIn(.5),cc.callFunc(function(){e.coinController.updateUserBalance(e.totalMultiple*e.baseScore),api.sendGD({e:api.key.SLOT_GET_BONUS,gtype:config.game.SMID[1]},function(e,t){game.log(t)})})])),[3,3];case 2:return o.sent(),t(),[3,3];case 3:return[2]}})})})},t.prototype.backToSlot=function(){var e=this;this.node.runAction(cc.sequence([cc.fadeOut(.5),cc.callFunc(function(){store.emit(store.key.UPDATE_USER_BALANCE,game.user.balance,0),e.node.destroy(),view.screen.slot.SlotController.bonusNode=void 0,view.screen.bonus=void 0,view.screen.slot&&view.screen.slot.SlotController.checkAutoSpin(e._slotController),controller.ui.showBar()})]))},__decorate([s(cc.Button)],t.prototype,"collectBonus",void 0),__decorate([s(cc.Node)],t.prototype,"itemsContainer",void 0),__decorate([s(cc.Label)],t.prototype,"multipleLabel",void 0),__decorate([s(cc.Label)],t.prototype,"baseScoreLabel",void 0),__decorate([s(cc.Node)],t.prototype,"gameResult",void 0),__decorate([s(cc.Node)],t.prototype,"mainGame",void 0),__decorate([s(cc.Label)],t.prototype,"scoreLabel",void 0),__decorate([s(i.default)],t.prototype,"resourceMinigame",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../../scripts/Components/CoinLabel":"CoinLabel","./ResourceMinigame1":"ResourceMinigame1"}],MinigameController2:[function(e,t,o){"use strict";cc._RF.push(t,"7483edFQmlMXp65QBTipnR0","MinigameController2"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../scripts/Components/CoinLabel"),i=e("./ResourceMinigame2"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemContainer=null,t.stopGame=null,t.gameResult=null,t.mainGame=null,t.multipleLabel=null,t.baseScoreLabel=null,t.scoreLabel=null,t.stopOverlay=null,t.resourceMinigame=null,t._slotController=null,t.listItem=[],t.velocity=0,t.acc=500,t.maxVelocity=1100,t.baseScore=0,t._isMove=!1,t._isStopGame=!1,t._flagStop=0,t.mul=0,t.arrayBase=[1,1,2,2,2,2,3,3,3,3,4,4,5,8,8,10,10,20],t}return __extends(t,e),t.prototype.startMiniGame=function(e,t,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.baseScore=o,this.mul=e,this.baseScoreLabel.string="$ "+util.string.formatMoney(this.baseScore),this.listItem=this.itemContainer.children,this.coinController=new n.default(this.scoreLabel,11),this.coinController.updateUserBalance(0),this.resourceMinigame.resourceController=this._slotController.resourceController,this.resourceMinigame.loadResources(),[2]})})},t.prototype.startGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this._isMove=!0,this.velocity=0,this._isStopGame=!1,this.stopGame.active=!0,this.stopGame.getComponent(cc.Button).interactable=!1,[4,util.game.delay(3e3,this.node).catch(function(e){})];case 1:return e.sent(),this.stopGame.getComponent(cc.Button).interactable=!0,[2]}})})},t.prototype.stopMiniGame=function(){this.stopOverlay.active=!0,this._isStopGame=!0,this.stopGame.getComponent(cc.Button).interactable=!1},t.prototype.update=function(e){var t=this;this._isMove&&(this.velocity<this.maxVelocity?this.velocity+=this.acc*e:this.velocity=this.maxVelocity,this.listItem.forEach(function(o){if(o.x+=t.velocity*e,o.x>700){var n=0;t.listItem.forEach(function(e){e.x<n&&(n=e.x)}),o.x=n-350,o.getComponentInChildren(cc.Label).string="X"+t.arrayBase[Math.floor(0+Math.random()*t.arrayBase.length)],t._isStopGame&&(t.listItem=t.listItem.sort(function(e,t){return e.x-t.x}),t._flagStop>3?(t._isMove=!1,t._isStopGame=!1,t.listItem[1].getComponentInChildren(cc.Label).string="X"+t.mul,t._flagStop=0,setTimeout(function(){t.listItem[1].getComponentInChildren(cc.Label).node.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.scaleTo(.2,1),cc.scaleTo(.3,1.1),cc.callFunc(function(){var e=t.listItem[1].getComponentInChildren(cc.Label).node,o=cc.instantiate(e);o.parent=e.parent,o.runAction(cc.moveTo(.3,cc.v2({x:0,y:200})))})))},1700),t.endMove(),t.showEndGame()):t._flagStop++)}}))},t.prototype.endMove=function(){var e=this;this.listItem.forEach(function(e,t){e.runAction(cc.moveTo(.8,cc.v2({x:350*(t+1)-700,y:0})).easing(cc.easeQuadraticActionOut()))}),setTimeout(function(){e.multipleLabel.node.runAction(cc.sequence(cc.scaleTo(.2,1.3),cc.callFunc(function(){e.multipleLabel.string="X"+e.mul}),cc.scaleTo(.3,1)))},2470)},t.prototype.showEndGame=function(){var e=this;return new Promise(function(t,o){return __awaiter(e,void 0,void 0,function(){var e=this;return __generator(this,function(o){switch(o.label){case 0:return this.gameResult.active=!0,this.gameResult.opacity=0,[4,util.game.delay(4500,this.node,t).catch(function(e){})];case 1:return o.sent(),this.mainGame.runAction(cc.fadeOut(.3)),this.gameResult.runAction(cc.sequence([cc.fadeIn(.5),cc.callFunc(function(){e.coinController.updateUserBalance(e.mul*e.baseScore),api.sendGD({e:api.key.SLOT_GET_BONUS,gtype:config.game.SMID[2]},function(e,t){game.log(t)})})])),[2]}})})})},t.prototype.backToSlot=function(){var e=this;this.node.runAction(cc.sequence([cc.fadeOut(.5),cc.callFunc(function(){store.emit(store.key.UPDATE_USER_BALANCE,game.user.balance,0),e.node.destroy(),view.screen.slot.SlotController.bonusNode=void 0,view.screen.bonus=void 0,view.screen.slot&&view.screen.slot.SlotController.checkAutoSpin(e._slotController),controller.ui.showBar()})]))},__decorate([s(cc.Node)],t.prototype,"itemContainer",void 0),__decorate([s(cc.Node)],t.prototype,"stopGame",void 0),__decorate([s(cc.Node)],t.prototype,"gameResult",void 0),__decorate([s(cc.Node)],t.prototype,"mainGame",void 0),__decorate([s(cc.Label)],t.prototype,"multipleLabel",void 0),__decorate([s(cc.Label)],t.prototype,"baseScoreLabel",void 0),__decorate([s(cc.Label)],t.prototype,"scoreLabel",void 0),__decorate([s(cc.Node)],t.prototype,"stopOverlay",void 0),__decorate([s(i.default)],t.prototype,"resourceMinigame",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../../scripts/Components/CoinLabel":"CoinLabel","./ResourceMinigame2":"ResourceMinigame2"}],MinigameController3:[function(e,t,o){"use strict";cc._RF.push(t,"77f8aXiQAFHJZ2hdN9f6vul","MinigameController3"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ResourceMinigame3"),i=e("../../../../scripts/Components/CoinLabel"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resourceController=null,t.rowBonus=[],t.total=null,t.gameResult=null,t.mainGame=null,t.scoreLabel=null,t.startMinigame=null,t._slotController=null,t.listItem=[],t.level=0,t.winScore=0,t.arrBonus=null,t.arrBase=[[[5,10,15,20,25,50],[15,20,25,30,35,40,100],[35,45,55,65,75,150],[100,150,200,250,500]],[[25,50,75,100,125,150,300],[150,200,250,300,600],[400,500,600,1200],[700,1e3,1300,1600,1900,2200,4400]],[[50,100,150,200,250,300,600],[300,400,500,600,1200],[800,1e3,1200,2400],[1400,2e3,2600,3200,3800,4400,8800]]],t.isEvent=!0,t._lockRow=[],t.updateTot=0,t}return __extends(t,e),t.prototype.startGame=function(){var e=this;this.startMinigame.runAction(cc.sequence([cc.fadeOut(.5),cc.callFunc(function(){e.startMinigame.active=!1})])),this.mainGame.active=!0},t.prototype.startMiniGame=function(e,t,o){return __awaiter(this,void 0,void 0,function(){var n,r=this;return __generator(this,function(a){return this.level=e,this.winScore=t,this.arrBonus=o,n=[],this.rowBonus.forEach(function(e){n.push(e.children)}),this.listItem=n,this.itemEvent(0),this.coinController=new i.default(this.scoreLabel,11),this.coinController.updateUserBalance(0),this.resourceController.resourceController=this._slotController.resourceController,this.resourceController.loadResources(),this.listItem.forEach(function(e,t){e.forEach(function(e){var o=r.resourceController.resourceController.spriteList.find(function(e){return 0==t?e.name==r.resourceController.listResourceName.nomal[t+1]:e.name==r.resourceController.listResourceName.items[t+1]});e.getComponent(cc.Sprite).spriteFrame=o})}),[2]})})},t.prototype.itemEvent=function(e){var t=this;game.log(this.isEvent),e<4&&1==this.isEvent?this.listItem[e].forEach(function(o){o.once(cc.Node.EventType.TOUCH_START,function(n){game.log("LOCK ROW",e),t._lockRow.includes(e)||(t._lockRow.push(e),o.runAction(cc.fadeIn(4)),setTimeout(function(){t&&t.node&&t.activeRow&&t.activeRow(e)},4e3),t.selectItem(n.currentTarget,e))})}):this.showEndGame()},t.prototype.activeRow=function(e){var t=this;setTimeout(function(){if(t.isEvent){if(t.itemEvent(e+1),3==e)return;game.log(t.listItem[e+1]),t.listItem[e+1].forEach(function(o){o.getComponent(cc.Sprite).spriteFrame=t.resourceController.resourceController.spriteList.find(function(o){return o.name==t.resourceController.listResourceName.nomal[e+2]})})}},1500)},t.prototype.selectItem=function(e,t){var o=this;if(e&&this){var n=[];this.listItem[t].forEach(function(t){t!=e&&n.push(t)}),e.getComponent(cc.Sprite).spriteFrame=this.resourceController.resourceController.spriteList.find(function(e){return e.name==o.resourceController.listResourceName.nomal[t+1]});var i=new cc.Node;i.parent=e.parent,i.zIndex=-1,i.setPosition(e.getPosition()),i.addComponent(cc.Sprite).spriteFrame=this.resourceController.resourceController.spriteList.find(function(e){return e.name==o.resourceController.listResourceName.white[t+1]}),i.runAction(cc.repeatForever(cc.sequence([cc.fadeIn(.3),cc.delayTime(.1),cc.fadeOut(.3)])));var r=e.getComponentInChildren(cc.Label).node;r.active=!0,r.opacity=0;var a=this.arrBase[this.level-1][t][this.arrBase[this.level-1][t].length-1];setTimeout(function(){r.runAction(cc.sequence([cc.callFunc(function(){o.arrBonus[t]==a?(e.getComponentInChildren(cc.Label).string="",e.runAction(cc.sequence([cc.fadeOut(.3),cc.callFunc(function(){return o.checkYellowPumpkin(t,e)})]))):r.getComponent(cc.Label).string=""+o.arrBonus[t],void 0==o.arrBonus[t]&&(e.runAction(cc.repeatForever(cc.sequence([cc.fadeOut(.4),cc.fadeIn(1)]))),i.destroy(),o.isEvent=!1,r.getComponent(cc.Label).string="",e.getComponent(cc.Sprite).spriteFrame=o.resourceController.resourceController.spriteList.find(function(e){return e.name==o.resourceController.listResourceName.snake[0]}))}),cc.callFunc(function(){return r.runAction(cc.fadeIn(.5))}),cc.scaleTo(.4,1.5),cc.scaleTo(.3,1)]))},2500),setTimeout(function(){if(n.forEach(function(e){var n=e.getComponentInChildren(cc.Label);n.node.active=!0,n.string=o.arrBase[o.level-1][t][Math.floor(0+Math.random()*(o.arrBase[o.level-1][t].length-1))],n.node.color=new cc.Color(150,150,150,255),n.node.runAction(cc.sequence([cc.callFunc(function(){return n.node.runAction(cc.fadeIn(.5))}),cc.scaleTo(.5,1.3),cc.scaleTo(.5,1)])),e.getComponent(cc.Sprite).spriteFrame=o.resourceController.resourceController.spriteList.find(function(e){return e.name==o.resourceController.listResourceName.items[t+1]})}),t>=1)for(var e=0;e<4;){var i=Math.floor(0+5*Math.random()),r=n[i];r.getComponentInChildren(cc.Label).string="",r.getComponent(cc.Sprite).spriteFrame=o.resourceController.resourceController.spriteList.find(function(e){return e.name==o.resourceController.listResourceName.snake[0]}),e++}if(o.arrBonus[t]!=a){var s=n[Math.round(0+4*Math.random())];s.getComponentInChildren(cc.Label).string="",s.getComponent(cc.Sprite).spriteFrame=o.resourceController.resourceController.spriteList.find(function(e){return e.name==o.resourceController.listResourceName.gold[t+1]})}void 0==o.arrBonus[t]?(o.total.string=": "+(o.updateTot+=0),o.showEndGame()):o.total.string=": "+(o.updateTot+=o.arrBonus[t])},5500)}},t.prototype.checkYellowPumpkin=function(e,t){var o=this;t.runAction(cc.sequence([cc.callFunc(function(){t.getComponent(cc.Sprite).spriteFrame=o.resourceController.resourceController.spriteList.find(function(t){return t.name==o.resourceController.listResourceName.gold[e+1]})}),cc.callFunc(function(){return t.runAction(cc.fadeIn(.3))}),cc.scaleTo(0,0),cc.scaleTo(.4,1)]))},t.prototype.showEndGame=function(){var e=this;return new Promise(function(t,o){return __awaiter(e,void 0,void 0,function(){var e=this;return __generator(this,function(o){switch(o.label){case 0:return[4,util.game.delay(3e3)];case 1:return o.sent(),this.gameResult&&this.mainGame?(this.gameResult.active=!0,this.mainGame.runAction(cc.fadeOut(.3)),this.gameResult.runAction(cc.sequence([cc.fadeIn(.5),cc.callFunc(function(){e.coinController.updateUserBalance(e.winScore),api.sendGD({e:api.key.SLOT_GET_BONUS,gtype:config.game.SMID[3]},function(e,t){game.log(t)})})])),t(),[2]):[2]}})})})},t.prototype.backToSlot=function(){var e=this;this.node&&this.node.runAction(cc.sequence([cc.fadeOut(.5),cc.callFunc(function(){store.emit(store.key.UPDATE_USER_BALANCE,game.user.balance,0),e.node.destroy(),view.screen.slot.SlotController.bonusNode=void 0,view.screen.bonus=void 0,view.screen.slot&&view.screen.slot.SlotController.checkAutoSpin(e._slotController),controller.ui.showBar()})]))},__decorate([s(n.default)],t.prototype,"resourceController",void 0),__decorate([s(cc.Node)],t.prototype,"rowBonus",void 0),__decorate([s(cc.Label)],t.prototype,"total",void 0),__decorate([s(cc.Node)],t.prototype,"gameResult",void 0),__decorate([s(cc.Node)],t.prototype,"mainGame",void 0),__decorate([s(cc.Label)],t.prototype,"scoreLabel",void 0),__decorate([s(cc.Node)],t.prototype,"startMinigame",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../../scripts/Components/CoinLabel":"CoinLabel","./ResourceMinigame3":"ResourceMinigame3"}],MinigameController4:[function(e,t,o){"use strict";cc._RF.push(t,"94608N0ZWxGmJDiObfqNnTw","MinigameController4"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ResourceMinigame4"),i=e("../../../../scripts/Components/CoinLabel"),r=e("../AtributeStatic"),a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemsContainer=null,t.mainGame=null,t.gameResult=null,t.labelGr=null,t.labelMa=null,t.labelMino=null,t.labelMini=null,t.coinLabel=null,t.labelJackpot=null,t.resourceController=null,t._slotController=null,t.bonusList=[],t._isLock=!1,t._time=0,t.idJackpot=0,t.coinController=null,t.score=0,t.listItem=[],t.bgBig=null,t.game=null,t.result=null,t.title=null,t.top=null,t}return __extends(t,e),t.prototype.startMiniGame=function(e,t,o,n,a){return __awaiter(this,void 0,void 0,function(){var s=this;return __generator(this,function(c){switch(c.label){case 0:return r.default.bonusData=e,this.bonusList=e,this.idJackpot=e[e.length-1],this.labelGr.string=t.string,this.labelMa.string=o.string,this.labelMino.string=n.string,this.labelMini.string=a.string,this.bgBig=cc.find("bg-big",this.node),this.top=cc.find("top",this.node),this.game=cc.find("game",this.node),this.result=cc.find("result-table",this.node),this.title=cc.find("title",this.game),this.itemsContainer=cc.find("itemsContainer",this.game),this.coinController=new i.default(this.coinLabel.getComponent(cc.Label),9),this.coinController.updateUserBalance(this.score),game.log("score = ",this.score),this.listItem=this.itemsContainer.children,this.resourceController.resourceController=this._slotController.resourceController,[4,this.resourceController.loadResources()];case 1:return c.sent(),this.listItem.forEach(function(e){e.addComponent(cc.Sprite),e.getComponent(cc.Sprite).spriteFrame=s.resourceController.resourceController.spriteList.find(function(e){return e.name==s.resourceController.listResourceName.itemNormal[0]}),e.once(cc.Node.EventType.TOUCH_END,function(e){s.selectItem(e.currentTarget)})}),[2]}})})},t.prototype.selectItem=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return this._isLock?[2]:(this._isLock=!0,t=this.bonusList[this._time],this.itemAction(e,t),this._time++,this._time!=this.bonusList.length?[3,3]:[4,util.game.delay(2e3)]);case 1:return o.sent(),[4,this.showEndGame()];case 2:o.sent(),o.label=3;case 3:return this._isLock=!1,[2]}})})},t.prototype.itemAction=function(e,t){var o=this;e.children[0].scale=.3,e.children[0].addComponent(cc.Sprite),e.children[0].getComponent(cc.Sprite).spriteFrame=this.resourceController.resourceController.spriteList.find(function(e){return e.name==o.resourceController.listResourceName.items[t]}),e.runAction(cc.sequence(cc.scaleTo(.3,1),cc.delayTime(.5),cc.fadeOut(.2),cc.callFunc(function(){e.children[0].active=!0,e.children[0].runAction(cc.sequence(cc.scaleTo(.3,1.3),cc.scaleTo(.3,1))),e.opacity=255})))},t.prototype.setWinGame=function(e){var t=[this.labelGr.string,this.labelMa.string,this.labelMino.string,this.labelMini.string];this.coinLabel.string=t[e],this.labelJackpot.string=["Grand Jackpot","Major Jackpot","Minor Jackpot","Mini Jackpot"][e]},t.prototype.showEndGame=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){return[2,new Promise(function(t,o){return __awaiter(e,void 0,void 0,function(){var e=this;return __generator(this,function(o){switch(o.label){case 0:return this.gameResult.active=!0,this.gameResult.opacity=0,this.setWinGame(this.idJackpot),[4,util.game.delay(1e3)];case 1:return o.sent(),this.mainGame.runAction(cc.fadeOut(.3)),this.gameResult.runAction(cc.sequence([cc.fadeIn(.5),cc.callFunc(function(){e.gameResult.zIndex=1;var t=view.slot[4].SlotController;e.score=t.listJP[e.idJackpot],e.coinController.updateUserBalance(e.score),api.sendGD({e:api.key.SLOT_GET_BONUS,gtype:config.game.SMID[4]},function(e,t){game.log(t)})})])),t(),[2]}})})})]})})},t.prototype.backToSlot=function(){var e=this;this.node.runAction(cc.sequence([cc.fadeOut(.5),cc.callFunc(function(){store.emit(store.key.UPDATE_USER_BALANCE,game.user.balance,0),e.node.destroy(),view.screen.slot.SlotController.bonusNode=void 0,view.screen.bonus=void 0,view.screen.slot&&view.screen.slot.SlotController.checkAutoSpin(e._slotController),controller.ui.showBar()})]))},__decorate([c(cc.Node)],t.prototype,"itemsContainer",void 0),__decorate([c(cc.Node)],t.prototype,"mainGame",void 0),__decorate([c(cc.Node)],t.prototype,"gameResult",void 0),__decorate([c(cc.Label)],t.prototype,"labelGr",void 0),__decorate([c(cc.Label)],t.prototype,"labelMa",void 0),__decorate([c(cc.Label)],t.prototype,"labelMino",void 0),__decorate([c(cc.Label)],t.prototype,"labelMini",void 0),__decorate([c(cc.Label)],t.prototype,"coinLabel",void 0),__decorate([c(cc.Label)],t.prototype,"labelJackpot",void 0),__decorate([c(n.default)],t.prototype,"resourceController",void 0),t=__decorate([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"../../../../scripts/Components/CoinLabel":"CoinLabel","../AtributeStatic":"AtributeStatic","./ResourceMinigame4":"ResourceMinigame4"}],MinigameController5:[function(e,t,o){"use strict";cc._RF.push(t,"1958fQ+oxFFpqrhzE+2a3xA","MinigameController5"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ResourceMiniGame5"),i=e("../../../../scripts/Components/CoinLabel"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemsContainer=null,t.scoreLabel=null,t.rightBox=null,t.coinResultLabel=null,t.resourceController=null,t._slotController=null,t.selectTable=null,t.mainGame=null,t.gameResult=null,t.coinController=null,t.coinResultController=null,t.playArray=[],t.baseScore=0,t.listItem=[],t._isLock=!1,t.score=0,t._time=0,t._trappedTime=0,t}return __extends(t,e),t.prototype.startMiniGame=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){return this.playArray=e,this.baseScore=t,this.node.children.forEach(function(e){return e.active=!1}),this.node.children[0].active=!0,this.selectTable=cc.find("select-table",this.node),this.mainGame=cc.find("main-game",this.node),this.gameResult=cc.find("result-table",this.node),this.coinController=new i.default(this.scoreLabel),this.coinController.updateUserBalance(this.score),this.coinResultController=new i.default(this.coinResultLabel,15,"",60),this.coinResultController.updateUserBalance(this.score),this.listItem=this.itemsContainer.children,this.selectTable.active=!0,this.resourceController.resourceController=this._slotController.resourceController,this.resourceController.loadResources(),[2]})})},t.prototype.selectMiniGame=function(){var e=this;this.mainGame.active=!0,this.mainGame.opacity=0,this.mainGame.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(function(){e.selectTable.active=!1}))),this.loadMainGame()},t.prototype.loadMainGame=function(){var e=this;this.listItem.forEach(function(t,o){t.opacity=0,t.children[0].addComponent(cc.Sprite).spriteFrame=e.resourceController.resourceController.spriteList.find(function(t){return t.name==e.resourceController.listResourceName.items[o+1].normal}),t.children[0].once(cc.Node.EventType.TOUCH_END,function(t){e.selectItem(t.currentTarget)}),setTimeout(function(){t.runAction(cc.fadeIn(.5))},1e3*Math.random()+500)}),this.updateTrap()},t.prototype.selectItem=function(e){return __awaiter(this,void 0,void 0,function(){var t,o=this;return __generator(this,function(n){switch(n.label){case 0:return this._isLock?[2]:(this._isLock=!0,0!=(t=this.playArray[this._time])?[3,4]:(this._trappedTime++,this.updateTrap(),[4,this.itemAction(e,new cc.Color(255,0,0,255),0)]));case 1:return n.sent(),this._trappedTime>=2?[4,util.game.delay(1e3)]:[3,3];case 2:n.sent(),this.showEndGame(),n.label=3;case 3:return[3,6];case 4:return this.score+=t*this.baseScore,setTimeout(function(){o.scoreLabel.node.runAction(cc.sequence([cc.scaleTo(.2,1.2),cc.scaleTo(.2,1)])),game.log(o.score),o.coinController.updateUserBalance(o.score)},300),this.itemAction(e,new cc.Color(255,255,0,255),t*this.baseScore),[4,util.game.delay(150)];case 5:n.sent(),n.label=6;case 6:return this._time++,this._isLock=!1,[2]}})})},t.prototype.itemAction=function(e,t,o){var n=this,i=e.name,r=Number(i.slice(-2)).toString(),a=cc.instantiate(e),s=a.getComponent(cc.Sprite),c=e.parent.children[1],l=c.getComponent(cc.Label);if(e.runAction(cc.sequence([cc.delayTime(.2),cc.fadeOut(1),cc.callFunc(function(){e.destroy()})])),a.parent=e.parent,s.spriteFrame=this.resourceController.resourceController.spriteList.find(function(e){return e.name==n.resourceController.listResourceName.items[r].white}),a.color=t,a.opacity=0,a.runAction(cc.sequence([cc.fadeTo(.4,150),cc.fadeOut(1),cc.callFunc(function(){a.destroy()})])),o)c.active=!0,c.opacity=0,c.setPosition(cc.v2(e.x,e.y)),l.fontSize=50,l.lineHeight=60,l.string=util.string.formatMoney(o),c.runAction(cc.sequence([cc.delayTime(.4),cc.moveBy(1,cc.v2(1,45))])),c.runAction(cc.sequence([cc.delayTime(.2),cc.fadeIn(.3),cc.delayTime(.5),cc.fadeOut(.5),cc.callFunc(function(){c.destroy()})]));else{var u=new cc.Node;u.addComponent(cc.Sprite).spriteFrame=this.resourceController.resourceController.spriteList.find(function(e){return e.name==n.resourceController.listResourceName.fail.active}),u.parent=e.parent,u.color=new cc.Color(255,255,255,255),u.setPosition(cc.v2(e.x,e.y)),u.runAction(cc.sequence([cc.delayTime(.3),cc.moveBy(1,cc.v2(1,45))])),u.runAction(cc.sequence([cc.delayTime(.2),cc.fadeIn(.3),cc.delayTime(.5),cc.fadeOut(.5),cc.callFunc(function(){c.destroy()})]))}},t.prototype.updateTrap=function(){var e=this,t=this.rightBox.children[1].getComponent(cc.Sprite),o=this.rightBox.children[2].getComponent(cc.Sprite),n=this.resourceController.resourceController.spriteList.find(function(t){return t.name==e.resourceController.listResourceName.fail.normal}),i=this.resourceController.resourceController.spriteList.find(function(t){return t.name==e.resourceController.listResourceName.fail.active});switch(this._trappedTime){case 1:t.spriteFrame=i,setTimeout(function(){t.node.children[0].active=!0},200);break;case 2:o.spriteFrame=i,setTimeout(function(){o.node.children[0].active=!0},200);break;default:t.spriteFrame=n,o.spriteFrame=n,t.node.children[0].active=!1,o.node.children[0].active=!1}},t.prototype.showEndGame=function(){var e=this;controller.ui.showModel(),this.gameResult.active=!0,this.gameResult.opacity=0,this.gameResult.runAction(cc.sequence([cc.fadeIn(.5),cc.callFunc(function(){e.coinResultController.updateUserBalance(e.score),api.sendGD({e:api.key.SLOT_GET_BONUS,gtype:config.game.SMID[5]},function(e,t){game.log(t)}),controller.ui.hideModel()})]))},t.prototype.backToSlot=function(){var e=this;this.node.runAction(cc.sequence([cc.fadeOut(.5),cc.callFunc(function(){store.emit(store.key.UPDATE_USER_BALANCE,game.user.balance,0),e.node.destroy(),view.screen.slot.SlotController.bonusNode=void 0,view.screen.bonus=void 0,view.screen.slot&&view.screen.slot.SlotController.checkAutoSpin(e._slotController),controller.ui.showBar()})]))},__decorate([s(cc.Node)],t.prototype,"itemsContainer",void 0),__decorate([s(cc.Label)],t.prototype,"scoreLabel",void 0),__decorate([s(cc.Node)],t.prototype,"rightBox",void 0),__decorate([s(cc.Label)],t.prototype,"coinResultLabel",void 0),__decorate([s(n.default)],t.prototype,"resourceController",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../../scripts/Components/CoinLabel":"CoinLabel","./ResourceMiniGame5":"ResourceMiniGame5"}],MinigameController6:[function(e,t,o){"use strict";cc._RF.push(t,"981af1BTgZF/bp1iOEyEXSR","MinigameController6"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ResourceMiniGame6"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startSpin=null,t.mainReel1=null,t.mainReel2=null,t.backgroundSpin=null,t.deactiveSpin=null,t.resourceController=null,t._slotController=null,t.gameCount=0,t.stickyWildReel=[],t.extraSpin=0,t.flagSpin=!1,t.readyToStop=!0,t.isSpin=!1,t.itemAmount=8,t.maxVelocity=700,t.acceleration=300,t.resultPosition=[],t.originalRotation=0,t.reel1Result=-1,t.reel2Result=-1,t.reel1Array=[2,3,4,3,2,5,4,3],t.reel2Array=["[4,5]","[1]","[3,5]","[1,3,5]","[3,4,5]","[1,3]","[1,2,4,5]","[3,4]"],t._time=0,t}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0),window.reel1=this.mainReel1,window.reel2=this.mainReel2,window.mini=this},t.prototype.startMinigame=function(e,t,o){var n=this;this.gameCount=e,this.stickyWildReel=t,this.extraSpin=o||0,this.backgroundSpin.runAction(cc.rotateBy(1,100).repeatForever()),this.backgroundSpin.runAction(cc.sequence([cc.fadeTo(1,100),cc.fadeTo(1,255)]).repeatForever()),this.resultPosition=Array(this.itemAmount).fill(0).map(function(e,t){return(n.originalRotation+t*(360/n.itemAmount))%360}),this.resourceController.resourceController=this._slotController.resourceController,this.resourceController.loadResources()},t.prototype.setPosition=function(){var e=this;setTimeout(function(){e.mainReel1.node.setPosition(0,0),e.mainReel2.node.setPosition(0,0)},100)},t.prototype.spin=function(){var e=this;if(!this.isSpin){var t=this.gameCount;this.extraSpin>0&&(t=5);var o=this.reel1Array.reduce(function(e,o,n){return o==t?e.concat([n]):e},[]),n=JSON.stringify(this.stickyWildReel);this.reel1Result=o[Math.random()*o.length|0],this.reel2Result=this.reel2Array.findIndex(function(e){return e===n}),this.isSpin=!0,this.flagSpin=!0,this.readyToStop=!1,this.deactiveSpin.active=!0,this.deactiveSpin.opacity=100,this.deactiveSpin.runAction(cc.fadeIn(.3)),setTimeout(function(){e.flagSpin=!1},5e3)}},t.prototype.backToSlot=function(){var e=this;this.node.runAction(cc.sequence([cc.fadeOut(.5),cc.callFunc(function(){api.sendGD({e:api.key.SLOT_GET_BONUS,gtype:config.game.SMID[6]},function(t,o){t||(e._slotController.dataStatus.freeReelGame=e._slotController.dataStatus.freeReelGame||{},e._slotController.dataStatus.freeReelGame.gameCount=o.gameCount,e._slotController.dataStatus.freeReelGame.userSpined=!0,e._slotController.dataStatus.freeReelGame.freeSpin=o.freeSpin,e._slotController.dataStatus.freeSpin.t=o.freeSpin+(0|o.extraSpin),e._slotController.dataStatus.freeSpin.c=o.freeSpin+(0|o.extraSpin),e._slotController.dataStatus.freeSpin.w=0,e._slotController.startSlot(!0),e.node.destroy(),view.screen.slot.SlotController.bonusNode=void 0,view.screen.bonus=void 0,view.screen.slot&&view.screen.slot.SlotController.checkAutoSpin(e._slotController),controller.ui.showBar())})})]))},t.prototype.endSpin=function(e,t,o,n){var i=this;void 0===o&&(o=1);var r=this.resultPosition[t]-o*e+720,a=360/this.itemAmount/10,s=this._time|r/200;this._time=s,n.runAction(cc.sequence([cc.rotateBy(s,(r+a)*o).easing(cc.easeSineOut()),cc.rotateBy(.6,-a*o).easing(cc.easeBackOut()),cc.callFunc(function(){setTimeout(function(){i.isSpin=!1,i._time=0},200),i.deactiveSpin.runAction(cc.fadeOut(.2)),i.extraSpin>0?i.extraSpin=0:setTimeout(function(){o>0&&i.backToSlot()},500)})]))},t.prototype.update=function(e){if(this.flagSpin){if(Math.abs(this.mainReel1.angularVelocity)>=this.maxVelocity)return;this.mainReel1.angularVelocity+=this.acceleration*e*1,this.mainReel2.angularVelocity+=this.acceleration*e*-1}else{if(this.readyToStop)return;if(Math.abs(this.mainReel1.angularVelocity)<=500)return this.mainReel1.angularVelocity=0,this.mainReel2.angularVelocity=0,this.endSpin(this.mainReel1.node.rotation%360,this.reel1Result,1,this.mainReel1.node),this.endSpin(this.mainReel2.node.rotation%360,this.reel2Result,-1,this.mainReel2.node),void(this.readyToStop=!0);this.mainReel1.angularVelocity+=-this.acceleration*e*1,this.mainReel2.angularVelocity+=-this.acceleration*e*-1}},__decorate([a(cc.Node)],t.prototype,"startSpin",void 0),__decorate([a(cc.RigidBody)],t.prototype,"mainReel1",void 0),__decorate([a(cc.RigidBody)],t.prototype,"mainReel2",void 0),__decorate([a(cc.Node)],t.prototype,"backgroundSpin",void 0),__decorate([a(cc.Node)],t.prototype,"deactiveSpin",void 0),__decorate([a(n.default)],t.prototype,"resourceController",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./ResourceMiniGame6":"ResourceMiniGame6"}],MinigameController7:[function(e,t,o){"use strict";cc._RF.push(t,"9d157zJ0idPO49aCIicrPkX","MinigameController7"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ResourceMiniGame7"),i=e("../../../../scripts/Components/CoinLabel"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonThuner=null,t.mainReel=null,t.resourceController=null,t.frostmourne=null,t.meltingIce=[],t.thunder=null,t.buttonFalse=null,t.supper=null,t.labelShield=null,t.alpha=null,t.freeSpin=null,t.reward=null,t.overlay=null,t.jackpotsFreeSpins=null,t._slotController=null,t.gameCount=null,t.flagSpin=!1,t.readyToStop=!0,t.isSpin=!1,t.itemAmount=10,t.maxVelocity=600,t.acceleration=180,t.resultPosition=[],t.originalRotation=0,t.reelResult=-1,t.reelArray=[2,"MINI",5,"MINOR","f12","MINI",10,"MEGA","f8","MAJOR"],t._time=0,t.isPlayGame=!1,t}return __extends(t,e),t.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=cc.v2(0)},t.prototype.startMiniGame=function(e){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(o){return game.log(e.result),"SUPPER"==e.type&&(this.supper.active=!0),this.resourceController.resourceController=this._slotController.resourceController,setTimeout(function(){t.mainReel.node.runAction(cc.moveTo(0,cc.v2(0,-820))),t.mainReel.node.active=!0;var e=0,o=[2,5,10];e=t._slotController.dataSpin?t._slotController.dataSpin.spinResult.totalBet:t._slotController.dataStatus.lastBet,t.labelShield.children.forEach(function(t,n){t.getComponent(cc.Label).string=""+util.game.abbreviateNumber(o[n]*e,2)})},100),this.gameCount=e,this.resultPosition=Array(this.itemAmount).fill(0).map(function(e,o){return(t.originalRotation+o*(360/t.itemAmount))%360}),this.resourceController.loadResources(),this.spin(),this.frostmourne.runAction(cc.sequence([cc.fadeIn(.5),cc.callFunc(function(){t.mainReel.node.runAction(cc.sequence([cc.fadeIn(.5),cc.moveTo(1.4,cc.v2(0,-420))]))}),cc.moveTo(1.5,cc.v2(0,360)).easing(cc.easeQuadraticActionIn()),cc.moveTo(.1,cc.v2(0,320))])),setTimeout(function(){t.buttonThuner&&t&&(t.buttonThuner.opacity=0,t.buttonThuner.active=!0,t.buttonThuner.getChildByName("stop_active").getComponent(sp.Skeleton).animation="thunder_3",t.buttonThuner.runAction(cc.sequence([cc.scaleTo(0,.2),cc.callFunc(function(){t.buttonThuner.opacity=255,t.nodeScale(t.buttonThuner,1.1,.3,.1)})])))},3e3),setTimeout(function(){t.flagSpin&&t.flagSpin&&t.stopMinigame()},1e4),[2]})})},t.prototype.spin=function(){if(!this.isSpin){var e=this.gameCount.result,t=this.reelArray.reduce(function(t,o,n){return o==e?t.concat([n]):t},[]);this.reelResult=t[Math.floor(Math.random()*t.length)],this.isSpin=!0,this.flagSpin=!0,this.readyToStop=!1}},t.prototype.showEndGame=function(){var e=this;return new Promise(function(t,o){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,util.game.delay(500)];case 1:return e.sent(),api.sendGD({e:api.key.SLOT_GET_BONUS,gtype:config.game.SMID[7]},function(e,t){game.log(t)}),t(),[2]}})})})},t.prototype.backToSlot=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return[4,this.showEndGame()];case 1:return t.sent(),this.node&&this?(this.node.runAction(cc.sequence([cc.fadeOut(.5),cc.callFunc(function(){store.emit(store.key.UPDATE_USER_BALANCE,game.user.balance,9),e.node.destroy(),view.screen.slot.SlotController.bonusNode=void 0,view.screen.bonus=void 0,view.screen.slot&&view.screen.slot.SlotController.checkAutoSpin(e._slotController),controller.ui.showBar()}),cc.callFunc(function(){if(e.gameCount.fs>0){var t=void 0;t=e._slotController.dataSpin?e._slotController.dataSpin.freeSpin.c:e._slotController.dataStatus.freeSpin.c;var o=view.screen.slot.SlotController;o.freeSpin=t+e.gameCount.fs,o.statusGame=t+e.gameCount.fs,view.bar.bottom.gameBar.updateStatus(o.statusGame)}})])),[2]):[2]}})})},t.prototype.stopMinigame=function(){this.buttonThuner.active=!1,this.buttonFalse.active=!0,this.buttonFalse.getChildByName("stop_ani").getComponent(sp.Skeleton).animation="thunder",this.buttonFalse.getChildByName("stop_active").getComponent(sp.Skeleton).animation="thunder_3",this.frostmourne.getComponent(cc.Animation).play(),this.flagSpin=!1},t.prototype.endSpin=function(e,t){var o=this,n=this.resultPosition[t]-e+720,i=360/this.itemAmount,r=this._time|n/150;this._time=r,this.mainReel.node.runAction(cc.sequence([cc.callFunc(function(){setTimeout(function(){o.frostmourne.getComponent(cc.Animation).pause(),o.frostmourne.runAction(cc.sequence([cc.moveTo(.1,cc.v2(0,360)),cc.moveTo(0,cc.v2(0,250)),cc.moveTo(.1,cc.v2(0,240)),cc.callFunc(function(){o.meltingIce[0].active=!1,o.meltingIce[1].active=!0,o.meltingIce[1].getComponent(sp.Skeleton).animation="animation",o.thunder.active=!0,o.thunder.getComponent(sp.Skeleton).animation="animation",o.alphaShield(t),o.mainReel.node.runAction(cc.moveTo(.1,cc.v2(0,-430)))}),cc.moveTo(.1,cc.v2(0,250)),cc.callFunc(function(){o.mainReel.node.runAction(cc.moveTo(.1,cc.v2(0,-420)))})]))},1e3*r-150)}),cc.rotateBy(r,n+i),cc.callFunc(function(){setTimeout(function(){o.isSpin=!1,o._time=0},200),o.showJackpots(t)})]))},t.prototype.showJackpots=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,n=this;return __generator(this,function(r){switch(r.label){case 0:return[4,util.game.delay(3e3)];case 1:return r.sent(),this.gameCount.fs>0?(this.jackpotsFreeSpins.opacity=0,this.jackpotsFreeSpins.active=!0,this.jackpotsFreeSpins.runAction(cc.sequence([cc.scaleTo(0,.1),cc.callFunc(function(){n.jackpotsFreeSpins.children[2].children[1].getComponent(cc.Label).string=n.gameCount.fs,n.jackpotsFreeSpins.children[1].active=!1,n.overlay.active=!0,n.jackpotsFreeSpins.opacity=255,n.nodeScale(n.jackpotsFreeSpins,1.1,.3,.1)}),cc.callFunc(function(){setTimeout(function(){if(n.jackpotsFreeSpins&&n){var e=n.jackpotsFreeSpins.children[1];e.opacity=0,e.active=!0,e.runAction(cc.sequence([cc.scaleTo(0,.1),cc.callFunc(function(){e.opacity=255,n.nodeScale(e,1.1,.3,.1)})]))}},200)})])),[3,5]):[3,2];case 2:return t={0:[253,168,83],1:[102,208,38],2:[57,189,252],3:[241,57,111],4:[253,183,43],5:[253,183,43],6:[253,183,43]},[4,["MINI","MINOR","MAJOR","MEGA",2,5,10].forEach(function(o,r){o==n.reelArray[e]&&(n.reward.opacity=0,n.overlay.active=!0,n.reward.active=!0,n.reward.children[0].color=cc.color(t[r][0],t[r][1],t[r][2]),n.reward.runAction(cc.sequence([cc.callFunc(function(){isNaN(n.reelArray[e])?n.reward.children[2].getComponent(cc.Sprite).spriteFrame=n.resourceController.resourceController.spriteList.find(function(e){return e.name==n.resourceController.listResourceName.jackpots[r+1]}):n.reward.children[2].getComponent(cc.Sprite).spriteFrame=n.resourceController.resourceController.spriteList.find(function(e){return e.name==n.resourceController.listResourceName.jackpots[5]})}),cc.scaleTo(0,.1),cc.callFunc(function(){var e;n.reward.opacity=255,n.coinController=new i.default(n.reward.children[3].getComponent(cc.Label),8),e=n._slotController.dataSpin?n._slotController.dataSpin.spinResult.score.sum[2].w*n._slotController.dataSpin.spinResult.totalBet:n._slotController.dataStatus.bonus.w*n._slotController.dataStatus.lastBet,"SUPPER"===n.gameCount.type?n.reward.children[3].getComponent(cc.Label).string=""+n.coinController.updateUserBalance(2*e):n.reward.children[3].getComponent(cc.Label).string=""+n.coinController.updateUserBalance(e),n.nodeScale(n.reward,1.2,.3,.1)})])))})];case 3:return r.sent(),[4,util.game.delay(1e3)];case 4:r.sent(),o=1,this.overlay.on(cc.Node.EventType.TOUCH_START,function(e){1===o&&(n.isPlayGame=!0,n.backToSlot(),o++)}),setTimeout(function(){n&&(n.isPlayGame||n.backToSlot())},1e4),r.label=5;case 5:return[2]}})})},t.prototype.alphaShield=function(e){(e>9||e<0||"number"!=typeof e)&&(e=0);var t={0:[250,255,255],1:[253,144,39],2:[250,255,255],3:[102,227,42],4:[255,245,55],5:[253,144,39],6:[250,255,255],7:[253,98,241],8:[255,245,55],9:[83,223,253]};this.alpha.active=!0,this.alpha.color=new cc.Color(t[e][0],t[e][1],t[e][2]),this.alpha.runAction(cc.repeatForever(cc.sequence([cc.fadeIn(.1),cc.fadeOut(.9)]))),4!==e&&8!==e||(this.freeSpin.active=!0,4===e?this.freeSpin.children[0].active=!0:this.freeSpin.children[1].active=!0)},t.prototype.nodeScale=function(e,t,o,n){e.runAction(cc.sequence([cc.scaleTo(o,t),cc.scaleTo(n,1)]))},t.prototype.update=function(e){if(this.flagSpin){if(Math.abs(this.mainReel.angularVelocity)>=this.maxVelocity)return;this.mainReel.angularVelocity+=this.acceleration*e}else{if(this.readyToStop)return;if(Math.abs(this.mainReel.angularVelocity)<=180)return this.mainReel.angularVelocity=0,this.endSpin(this.mainReel.node.rotation%360,this.reelResult),void(this.readyToStop=!0);this.mainReel.angularVelocity+=-this.acceleration*e}},__decorate([s(cc.Node)],t.prototype,"buttonThuner",void 0),__decorate([s(cc.RigidBody)],t.prototype,"mainReel",void 0),__decorate([s(n.default)],t.prototype,"resourceController",void 0),__decorate([s(cc.Node)],t.prototype,"frostmourne",void 0),__decorate([s(cc.Node)],t.prototype,"meltingIce",void 0),__decorate([s(cc.Node)],t.prototype,"thunder",void 0),__decorate([s(cc.Node)],t.prototype,"buttonFalse",void 0),__decorate([s(cc.Node)],t.prototype,"supper",void 0),__decorate([s(cc.Node)],t.prototype,"labelShield",void 0),__decorate([s(cc.Node)],t.prototype,"alpha",void 0),__decorate([s(cc.Node)],t.prototype,"freeSpin",void 0),__decorate([s(cc.Node)],t.prototype,"reward",void 0),__decorate([s(cc.Node)],t.prototype,"overlay",void 0),__decorate([s(cc.Node)],t.prototype,"jackpotsFreeSpins",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../../scripts/Components/CoinLabel":"CoinLabel","./ResourceMiniGame7":"ResourceMiniGame7"}],MinigameController8:[function(e,t,o){"use strict";cc._RF.push(t,"938dfVsB4lMZoA87UUNOy5C","MinigameController8"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../scripts/Components/CoinLabel"),i=e("./ResourceMiniGame8"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.processBar=null,t.itemsContainer=null,t.rightBox=null,t.coinResultLabel=null,t.resourceController=null,t.failNode=null,t.bar=null,t.skeletonData=null,t.selectTable=null,t.overlay=null,t._slotController=null,t.mainGame=null,t.gameResult=null,t.topLabel=null,t.top=null,t.bottom=null,t.dataLength=[30,38,53,72,87,95,95,95,95,149],t.index=0,t.sum=0,t._tempProgress=0,t._tempSetTimeout=null,t.coinResultController=null,t.data=[],t.coinWin=0,t.res=0,t.playArray=[],t.listItem=[],t.listLabel=[],t._time=0,t._trappedTime=0,t.lockTouchBook=!1,t.rand=7,t.isEvent=!0,t}return __extends(t,e),t.prototype.startMiniGame=function(e,t,o){var i=this;this&&(this.resourceController.resourceController=this._slotController.resourceController,this.resourceController.loadResources(),this.selectTable=cc.find("bonus_active",this.node),this.mainGame=cc.find("main-game",this.node),this.gameResult=cc.find("result-table",this.node),this.top=cc.find("top",this.mainGame),this.topLabel=cc.find("bg_power_win-02",this.top),this.bottom=cc.find("bottom",this.mainGame),this.rightBox=cc.find("bg_fail",this.bottom),this.thienthan=cc.find("thienthan_ani",this.top),this.thienthan.addComponent(sp.Skeleton).skeletonData=this.skeletonData,this.thienthan.getComponent(sp.Skeleton).animation="thienthan_ani",this.data=e,this.coinWin=t,this.res=o,this.rand=Math.floor(3*Math.random())+3,this.node.children.forEach(function(e){return e.active=!1}),this.overlay.addComponent(cc.Button).interactable=!0,this.overlay.active=!0,this.coinResultController=new n.default(this.coinResultLabel,9),this.coinResultController.updateUserBalance(0),this.listItem=this.itemsContainer.children,this.listLabel=this.topLabel.children,this.listLabel.forEach(function(t){var o=Number(t.name.slice(-2)).toString();t.getComponent(cc.Label).string=e[o]}),this.selectTable.active=!0,this.addSkeletonItem(),this.selectTable.children.forEach(function(e){e.on(cc.Node.EventType.TOUCH_END,function(e){i.lockTouchBook||(i.selectBookItem(e.currentTarget),i.lockTouchBook=!0)})}),this.playArray=this.getArrayResult(this.rand,o),this.processBar.progress=0,this.loadMainGame())},t.prototype.addSkeletonItem=function(){var e=this;this.selectTable.children.forEach(function(t){t.children[0].addComponent(sp.Skeleton).skeletonData=e.skeletonData,t.children[0].getComponent(sp.Skeleton).animation=t.children[0].name})},t.prototype.getArrayResult=function(e,t){for(var o=[],n=0;n<e-1;n++)o.push(0);for(n=e-1;n<t+e-1;n++)o.push(1);return this.shuffle(o),o.push(0),o},t.prototype.shuffle=function(e){e.sort(function(){return Math.random()-.5})},t.prototype.selectMiniGame=function(){var e=this;util.game.delay(2),this.mainGame.active=!0,this.mainGame.opacity=0,setTimeout(function(){e.mainGame.runAction(cc.sequence(cc.fadeIn(2),cc.callFunc(function(){e.selectTable.destroy(),e.overlay.destroy()})))},2500)},t.prototype.selectBookItem=function(e){var t=this;this.selectTable&&this&&view.screen.slot&&(e.children[0].getComponent(sp.Skeleton).setCompleteListener(function(){e.children[1].active=!0,e.children[1].getComponent(cc.Label).string=t.rand+" Fails",e.children[1].runAction(cc.sequence([cc.delayTime(.3),cc.moveBy(.5,cc.v2(1,60))])),setTimeout(function(){return e.children[0].getComponent(sp.Skeleton).enabled=!1},300)}),this.selectTable.children.forEach(function(o){o.name!=e.name&&(o.children[0].getComponent(sp.Skeleton).enabled=!1,t.lockTouchBook=!0,o.getComponent(cc.Sprite).spriteFrame=t.resourceController.resourceController.spriteList.find(function(e){return e.name==t.resourceController.listResourceName.disable}))}),this.selectMiniGame())},t.prototype.loadMainGame=function(){var e=this;this.listItem.forEach(function(t,o){t.opacity=0,t.children[0].addComponent(cc.Sprite).spriteFrame=e.resourceController.resourceController.spriteList.find(function(t){return t.name==e.resourceController.listResourceName.itemNormal}),e.itemEvent(),t.runAction(cc.sequence(cc.delayTime(Math.random()+.5),cc.fadeIn(.5)))}),this.showFails(this.rand)},t.prototype.itemEvent=function(){var e=this;this.listItem.forEach(function(t){t.children[0].on(cc.Node.EventType.TOUCH_START,function(t){e.isEvent&&(e.selectItem(t.currentTarget),e.isEvent=!1)})})},t.prototype.selectItem=function(e){return __awaiter(this,void 0,void 0,function(){var t,o=this;return __generator(this,function(n){switch(n.label){case 0:return 0!=(t=this.playArray[this._time])?[3,2]:(this._trappedTime++,[4,this.itemAction(e,new cc.Color(255,0,0,255),0)]);case 1:return n.sent(),this.showFails?(setTimeout(function(){return o.showFails(o.rand)},2300),this._trappedTime>=this.rand&&setTimeout(function(){return o.showEndGame()},3300),[3,3]):[2];case 2:if(this.sum+=this.dataLength[this.index],this.index++,this.itemAction(e,new cc.Color(255,255,0,255),t),!this.updateProgress)return[2];setTimeout(function(){return o.updateProgress(o.sum/o.processBar.totalLength)},2300),n.label=3;case 3:return this._time++,[2]}})})},t.prototype.itemAction=function(e,t,o){var n=this;e.addComponent(cc.Button);var i=cc.instantiate(e);i.removeComponent(cc.Sprite),i.addComponent(sp.Skeleton).skeletonData=this.skeletonData,i.parent=e.parent,e.opacity=0,e.runAction(cc.sequence([cc.delayTime(.2),cc.fadeOut(.3),cc.callFunc(function(){e.opacity=0})])),i.runAction(cc.sequence([cc.fadeIn(.2),cc.callFunc(function(){i.getComponent(sp.Skeleton).loop=!1,i.getComponent(sp.Skeleton).animation="quantai_ani"})])),i.getComponent(sp.Skeleton).setCompleteListener(function(){n.getItemResult(e,t,o),n.isEvent=!0,e.getComponent(cc.Button).interactable=!1,n._trappedTime==n.rand&&(n.isEvent=!1)})},t.prototype.getItemResult=function(e,t,o){var n=this,i=cc.instantiate(e),r=cc.instantiate(e),a=i.getComponent(cc.Sprite),s=r.getComponent(cc.Sprite),c=cc.instantiate(e);if(c.removeComponent(cc.Sprite),c.addComponent(sp.Skeleton).skeletonData=this.skeletonData,c.parent=e.parent,i.parent=e.parent,r.parent=e.parent,r.opacity=255,a.spriteFrame=this.resourceController.resourceController.spriteList.find(function(e){return e.name==n.resourceController.listResourceName.itemEffect}),s.spriteFrame=this.resourceController.resourceController.spriteList.find(function(e){return e.name==n.resourceController.listResourceName.items[o]}),i.color=t,i.opacity=0,i.runAction(cc.sequence([cc.fadeTo(.4,150),cc.fadeOut(1),cc.callFunc(function(){i.destroy()})])),1==o)r.active=!1,c.active=!0,c.opacity=0,c.setPosition(cc.v2(e.x,e.y)),c.runAction(cc.sequence([cc.fadeIn(.2),cc.callFunc(function(){c.getComponent(sp.Skeleton).loop=!0,c.getComponent(sp.Skeleton).animation="thienthan_ani"})])),c.runAction(cc.sequence([cc.delayTime(.4),cc.moveBy(1,cc.v2(1,45))])),c.runAction(cc.sequence([cc.delayTime(.2),cc.fadeIn(.3),cc.delayTime(.5),cc.fadeOut(.5),cc.callFunc(function(){c.destroy()})])),r.active=!0,r.opacity=0,r.runAction(cc.sequence([cc.delayTime(1.5),cc.fadeIn(.8)]));else{var l=new cc.Node;l.addComponent(cc.Sprite).spriteFrame=this.resourceController.resourceController.spriteList.find(function(e){return e.name==n.resourceController.listResourceName.fail.active}),l.parent=e.parent,l.color=new cc.Color(255,255,255,255),l.setPosition(cc.v2(e.x,e.y)),l.runAction(cc.sequence([cc.delayTime(.3),cc.moveBy(1,cc.v2(1,45))])),l.runAction(cc.sequence([cc.delayTime(.2),cc.fadeIn(.3),cc.delayTime(.5),cc.fadeOut(.5),cc.callFunc(function(){})]))}},t.prototype.showFails=function(e){var t=this,o=this.resourceController.resourceController.spriteList.find(function(e){return e.name==t.resourceController.listResourceName.fail.active}),n=this.resourceController.resourceController.spriteList.find(function(e){return e.name==t.resourceController.listResourceName.fail.normal});this.rightBox.children.forEach(function(e){return e.active=!1});for(var i=0;i<e;i++)this.rightBox.children[i].getComponent(cc.Sprite).spriteFrame=n,this.rightBox.children[i].active=!0,this.rightBox.children[i].setPosition((i+.5)*(this.rightBox.width-27)/e+12,this.rightBox.height/2);this.showItemFailActive(this._trappedTime,o)},t.prototype.showItemFailActive=function(e,t){for(var o=0;o<e;o++)this.rightBox.children[o].getComponent(cc.Sprite).spriteFrame=t},t.prototype.updateProgress=function(e){var t=this;if(null!=e&&(e>1&&(e=1),e<0&&(e=0),this.processBar.progress=e),this.updateLength(),Math.abs(this.processBar.progress-this._tempProgress)<.001)return this._tempProgress=this.processBar.progress,!0;var o=this.processBar.progress-this._tempProgress;this._tempProgress=5*o/10/30+this._tempProgress,this._tempSetTimeout=setTimeout(function(){t.updateProgress()},1e3/30)},t.prototype.onDestroy=function(){clearTimeout(this._tempSetTimeout)},t.prototype.updateLength=function(){this.bar.width=this.processBar.totalLength*this._tempProgress},t.prototype.showEndGame=function(){var e=this;controller.ui.showModel(),this.gameResult.active=!0,this.gameResult.opacity=0,this.gameResult.runAction(cc.sequence([cc.fadeIn(.5),cc.callFunc(function(){e.coinResultController.updateUserBalance(e.coinWin),api.sendGD({e:api.key.SLOT_GET_BONUS,gtype:config.game.SMID[8]},function(e,t){game.log(t)}),controller.ui.hideModel()})]))},t.prototype.backToSlot=function(){var e=this;this.node.runAction(cc.sequence([cc.fadeOut(.5),cc.callFunc(function(){store.emit(store.key.UPDATE_USER_BALANCE,game.user.balance,0),e.node.destroy(),view.screen.slot.SlotController.bonusNode=void 0,view.screen.bonus=void 0,controller.ui.showBar()})]))},__decorate([s(cc.ProgressBar)],t.prototype,"processBar",void 0),__decorate([s(cc.Node)],t.prototype,"itemsContainer",void 0),__decorate([s(cc.Node)],t.prototype,"rightBox",void 0),__decorate([s(cc.Label)],t.prototype,"coinResultLabel",void 0),__decorate([s(i.default)],t.prototype,"resourceController",void 0),__decorate([s(cc.Node)],t.prototype,"failNode",void 0),__decorate([s(cc.Node)],t.prototype,"bar",void 0),__decorate([s(sp.SkeletonData)],t.prototype,"skeletonData",void 0),__decorate([s(cc.Node)],t.prototype,"selectTable",void 0),__decorate([s(cc.Node)],t.prototype,"overlay",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../../../../scripts/Components/CoinLabel":"CoinLabel","./ResourceMiniGame8":"ResourceMiniGame8"}],MultiScene:[function(e,t,o){"use strict";cc._RF.push(t,"71368zSgR5C6Z9YinXw0fTN","MultiScene"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.list=null,t.content=null,t.overlay=null,t.slotItem=null,t.isShow=!1,t.resPath="3_homeScene/slotIcon",t._isLock=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.initialize()},t.prototype.initialize=function(){},t.prototype.loadContent=function(){var e=this,t=Object.values(view.slot).filter(function(e){return!!e});this.list.content.removeAllChildren(),this.listScene=[],t.forEach(function(t){var o=cc.instantiate(e.slotItem),n={uuid:t.uuid,id:t.id,button:o,smid:t.gameId};o.parent=e.list.content,o.active=!0;var i=n.id,r=o.getChildByName("icon").getChildByName("ic").getComponent(cc.Sprite),a=o.getChildByName("title-label").getComponent(cc.Label),s=o.getChildByName("bet-label").getComponent(cc.Label),c=o.getChildByName("auto-label").getComponent(cc.Label),l=o.getChildByName("btnClose").getComponent(cc.Button);r.spriteFrame=controller.ui.slot.find(function(e){return e.icon.name===i.toString()}).icon,a.string=t.name,s.string="Bet: "+util.game.abbreviateNumber(t.SlotController.currentBet),t.SlotController.autoSpinTimes<0?c.string="Auto: ++":c.string="Auto: "+t.SlotController.autoSpinTimes;var u=new cc.Component.EventHandler;u.target=e.node,u.component="MultiScene",u.handler="onClickClose",u.customEventData=t.id.toString(),l.clickEvents.push(u),e.listScene.push(n)}),this.addEventButton()},t.prototype.toggleButton=function(){var e=this;this._isLock||(this._isLock=!0,this.isShow?(tracking.send(tracking.event.MULTI_HIDE),this.content.runAction(cc.moveBy(.2,cc.v2(0,this.content.height)))):(tracking.send(tracking.event.MULTI_SHOW),this.content.runAction(cc.moveBy(.2,cc.v2(0,-this.content.height)))),this.isShow=!this.isShow,this.overlay.active=this.isShow,setTimeout(function(){e._isLock=!1},400))},t.prototype.addEventButton=function(){var e=this;game.log("On click item"),this.listScene.forEach(function(t){t.button.on("click",function(){tracking.send(tracking.event.MULTI_OPEN_GAME),e&&"boolean"==typeof e._isLock&&e._isLock||(view.screen.slot?view.screen.slot.uuid!=t.uuid?(view.screen.slot.SlotController.hideContent(),controller.ui.switchSlot(t.uuid,t.id),view.bar.bottom.gameBar.showContentBar(),view.bar.bottom.gameBar.hiddenContentBar(),e.toggleButton(),game.log("Switch")):game.log("You currently on this game"):(controller.ui.resumeSlot(t.uuid,t.id),e.toggleButton()))})})},t.prototype.onClickClose=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this._isLock=!0,[4,controller.ui.deleteSlot(parseInt(t))];case 1:return e.sent(),this._isLock=!1,[2]}})})},__decorate([r(cc.ScrollView)],t.prototype,"list",void 0),__decorate([r(cc.Node)],t.prototype,"content",void 0),__decorate([r(cc.Node)],t.prototype,"overlay",void 0),__decorate([r(cc.Node)],t.prototype,"slotItem",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],PayTableResource:[function(e,t,o){"use strict";cc._RF.push(t,"e8d3cYI4HFDcYNx//wgEaXN","PayTableResource"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ResourcePrefab"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"./ResourcePrefab":"ResourcePrefab"}],PayTable:[function(e,t,o){"use strict";cc._RF.push(t,"fc83dYJYQlA+L+P6fyfzniM","PayTable"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("./PayTableResource"),r=cc._decorator,a=r.ccclass,s=r.property;(function(e){e.BACK="BACK",e.RETURN="RETURN",e.NEXT="NEXT"})(n||(n={}));var c=function(){function e(){this.titleText="",this.titleImgName="",this.contentImgName="",this.contentNode=void 0}return __decorate([s()],e.prototype,"titleText",void 0),__decorate([s()],e.prototype,"titleImgName",void 0),__decorate([s()],e.prototype,"contentImgName",void 0),__decorate([s(cc.Node)],e.prototype,"contentNode",void 0),e=__decorate([a("PayTableData")],e)}();o.PayTableData=c;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=void 0,t.title=void 0,t.btnBack=void 0,t.btnReturn=void 0,t.btnNext=void 0,t.resource=void 0,t.enableIndicator=!0,t.data=[],t.popupControl=void 0,t.dataRender=[],t}return __extends(t,e),t.prototype.onLoad=function(){var e=this;this.popupControl=this.getComponent("BasePopup"),this.btnBack.node.opacity=0,this.btnReturn.node.opacity=0,this.btnNext.node.opacity=0,this.popupControl.openCallback=function(){this.onOpen()}.bind(this),this.resource.resourceController=view.screen.slot.SlotController.resourceController,this.resource.loadResources(),this.page.indicator.node.active=this.enableIndicator,this.renderData(),this.page.content.removeAllChildren(),this.dataRender.forEach(function(t,o){var n=t.content;n&&e.page.content.addChild(n)}),this.title.removeAllChildren(),this.dataRender.length&&this.dataRender[0].title&&(this.dataRender[0].title.parent=this.title);var t=new cc.Component.EventHandler;t.target=this.node,t.component="PayTable",t.handler="listenner",this.page.scrollEvents.push(t)},t.prototype.onOpen=function(){if(this&&this.node&&this.btnBack&&this.btnReturn&&this.btnNext){var e=this.btnBack,t=this.btnNext;this.btnReturn.node.runAction(effect.bouceIn({time:.3})),e.node.runAction(cc.sequence(cc.delayTime(.3),effect.moveInBy({time:.5,direction:define.type.DIRECTION.RIGHT}))),t.node.runAction(cc.sequence(cc.delayTime(.3),effect.moveInBy({time:.5,direction:define.type.DIRECTION.LEFT})))}},t.prototype.renderData=function(){var e=this;this.dataRender=this.data.map(function(t,o){var n=new cc.Node;if(""!==t.titleText)n.addComponent(cc.Label).string=t.titleText;else if(t.titleImgName){n.addComponent(cc.Sprite).spriteFrame=e.resource.resourceController.spriteList.find(function(e){return e.name==t.titleImgName})}else n=void 0;var i=new cc.Node;if(i.width=e.page.node.width,i.height=e.page.node.height,t.contentImgName){var r=new cc.Node;r.parent=i,r.addComponent(cc.Sprite).spriteFrame=e.resource.resourceController.spriteList.find(function(e){return e.name==t.contentImgName})}else t.contentNode?i=t.contentNode:(i=void 0,cc.warn("Paytable","renderData","Data input error content must exist","Index:",o));return{title:n,content:i}})},t.prototype.listenner=function(e,t){if(t==cc.ScrollView.EventType.SCROLL_ENDED){var o=this.dataRender,n=this.page.getCurrentPageIndex();this.title.removeAllChildren(),o[n]&&o[n].title&&(o[n].title.parent=this.title)}},t.prototype.onClickButtonControl=function(e,t){switch(game.log("PayTable","onClickButtonControl",t),t){case n.RETURN:this.popupControl.onClose();break;case n.BACK:case n.NEXT:var o=this.page.getPages().length,i=this.page.getCurrentPageIndex();i=(i+=t===n.BACK?-1:1)<0&&o>0?o-1:i>=o&&o>0?0:i,this.page.scrollToPage(i,1)}},__decorate([s(cc.PageView)],t.prototype,"page",void 0),__decorate([s(cc.Node)],t.prototype,"title",void 0),__decorate([s(cc.Button)],t.prototype,"btnBack",void 0),__decorate([s(cc.Button)],t.prototype,"btnReturn",void 0),__decorate([s(cc.Button)],t.prototype,"btnNext",void 0),__decorate([s(i.default)],t.prototype,"resource",void 0),__decorate([s()],t.prototype,"enableIndicator",void 0),__decorate([s(c)],t.prototype,"data",void 0),t=__decorate([a],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./PayTableResource":"PayTableResource"}],PlatformController:[function(e,t,o){"use strict";cc._RF.push(t,"088abEninNB1IxzzoaPna8N","PlatformController"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Define/DefineType"),i=e("../Define/DefineKey"),r=e("./ios/IOSHandle"),a=e("./android/AndroidHandle"),s=e("./web/WebHandle"),c=e("./ios/IOSFacebook"),l=e("./android/AndroidFacebook"),u=e("./web/WebFacebook"),p=e("./ios/IOSAdmob"),d=e("./android/AndroidAdmob"),h=e("./web/WebAdmob"),m=e("./ios/IOSFireBase"),f=e("./android/AndroidFirebase"),g=e("./web/WebFirebase"),y=e("./ios/IOSOnesignal"),_=e("./android/AndroidOnesignal"),v=e("./web/WebOnesignal"),b=e("./ios/IOSIap"),S=e("./android/AndroidIAP"),E=e("./web/WebIap"),C=function(){function e(){this.tag="platform.base",this.inited=!1,this.deviceOs=n.DEVICE_OS.UNKNOW,this.deviceOsName="",this.deviceId=void 0,this.admob=null,this.facebook=null,this.firebase=null,this.handle=null,this.onesignal=null,this.iap=null}return e.ins=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.init=function(){"true"!==cc.sys.localStorage.getItem(i.local.PLATFORM_INIT)?(this.deviceOs=util.game.getDeviceOS(),this.deviceOsName=n.DEVICE_OS[this.deviceOs],this.deviceOs===n.DEVICE_OS.IOS_NAVITE?(this.admob=p.default.getIns(),this.facebook=c.default.getIns(),this.firebase=m.default.getIns(),this.handle=r.default.getIns(),this.onesignal=y.default.getIns(),this.iap=b.default.getIns()):this.deviceOs===n.DEVICE_OS.ANDROID_NAVITE?(this.admob=d.default.getIns(),this.facebook=l.default.getIns(),this.firebase=f.default.getIns(),this.handle=a.default.getIns(),this.onesignal=_.default.getIns(),this.iap=S.default.getIns()):(this.deviceOs===n.DEVICE_OS.WEB_MOBILE||(this.deviceOs,n.DEVICE_OS.WEB_PC),this.admob=h.default.getIns(),this.facebook=u.default.getIns(),this.firebase=g.default.getIns(),this.handle=s.default.getIns(),this.onesignal=v.default.getIns(),this.iap=E.default.getIns()),this.deviceId=this.handle.getDeviceId(),game.data.deviceId=this.deviceId,game.data.packageName=this.handle.getPackageName(),game.data.versionGame=this.handle.getVersionGame(),game.data.countryCode=this.handle.getCountryCode(),game.data.versionOS=this.handle.getOSVersion(),platform.handle.isConnecting()&&(this.admob.init(),this.facebook.init(),this.firebase.init(),this.onesignal.init(),this.iap.init(),this.inited=!0)):cc.sys.localStorage.setItem(i.local.PLATFORM_INIT,!1)},e.instance=null,e}();o.default=C,cc._RF.pop()},{"../Define/DefineKey":"DefineKey","../Define/DefineType":"DefineType","./android/AndroidAdmob":"AndroidAdmob","./android/AndroidFacebook":"AndroidFacebook","./android/AndroidFirebase":"AndroidFirebase","./android/AndroidHandle":"AndroidHandle","./android/AndroidIAP":"AndroidIap","./android/AndroidOnesignal":"AndroidOnesignal","./ios/IOSAdmob":"IOSAdmob","./ios/IOSFacebook":"IOSFacebook","./ios/IOSFireBase":"IOSFireBase","./ios/IOSHandle":"IOSHandle","./ios/IOSIap":"IOSIap","./ios/IOSOnesignal":"IOSOnesignal","./web/WebAdmob":"WebAdmob","./web/WebFacebook":"WebFacebook","./web/WebFirebase":"WebFirebase","./web/WebHandle":"WebHandle","./web/WebIap":"WebIap","./web/WebOnesignal":"WebOnesignal"}],PopupDailyQuest:[function(e,t,o){"use strict";cc._RF.push(t,"c4af6h0/z9HirFHu6mbDzbZ","PopupDailyQuest"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("../BasePopup"),r=e("../Components/AccumulatedBar"),a=e("../Components/CoinLabel"),s=cc._decorator,c=s.ccclass,l=s.property;(function(e){e[e.DOING=0]="DOING",e[e.COMPLETE=1]="COMPLETE",e[e.LOCK=2]="LOCK"})(n||(n={}));var u=function(){function e(){this.doing=void 0,this.complete=void 0,this.lock=void 0}return __decorate([l(cc.Node)],e.prototype,"doing",void 0),__decorate([l(cc.Node)],e.prototype,"complete",void 0),__decorate([l(cc.Node)],e.prototype,"lock",void 0),e=__decorate([c("item")],e)}();o.Item=u;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.time=null,t.item=new u,t.listContent=void 0,t.lablePointBottom=null,t.bottom=null,t.barWeekly=void 0,t.storeKey=[],t.itemKey="",t.currentQuestIndex=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.addScrollListenner(),this.countTimeDaily(),this.initiate(),this.effectIn()},t.prototype.start=function(){e.prototype.start.call(this),this.registerStore()},t.prototype.addScrollListenner=function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="PopupDailyQuest",e.handler="listenner",this.listContent.scrollEvents.push(e)},t.prototype.listenner=function(e,t){var o=this.listContent.node.getChildByName("scrollBar"),n=o.getChildByName("bar"),i=e.getScrollOffset().y;t===cc.ScrollView.EventType.SCROLL_TO_TOP?i=0:t===cc.ScrollView.EventType.SCROLL_TO_BOTTOM&&(i=100),t===cc.ScrollView.EventType.SCROLLING&&i>=0&&i<=100&&(n.y=-i/100*(o.height-n.height))},t.prototype.initiate=function(){var e=this,t=this.bottom,o=t.getChildByName("daily-slot-icon-gift-1"),n=t.getChildByName("daily-slot-icon-gift-1-lock"),i=t.getChildByName("daily-slot-icon-gift-2"),r=t.getChildByName("daily-slot-icon-gift-2-lock");this.weeklyLabel=new a.default(this.lablePointBottom),this.barWeekly.lerpRatio=-1,this.barWeekly.setListener(function(t){var a;t>=70?o.active||(o.active=!0,o.runAction(effect.jelly()),n.active=!1,0==game.data.weeklyAccumilation.takenRewards?((a=new cc.Component.EventHandler).target=e.node,a.component="PopupDailyQuest",a.handler="onClickWeeklyItem",o.getComponent(cc.Button).clickEvents.push(a)):o.stopAllActions()):o.active&&(o.active=!1,n.active=!0);t>=100?i.active||(i.active=!0,i.runAction(effect.jelly()),r.active=!1,game.data.weeklyAccumilation.takenRewards<=1?((a=new cc.Component.EventHandler).target=e.node,a.component="PopupDailyQuest",a.handler="onClickWeeklyItem",i.getComponent(cc.Button).clickEvents.push(a)):i.stopAllActions()):i.active&&(i.active=!1,r.active=!0)})},t.prototype.registerStore=function(){var e=this,t=store.register(store.key.DAILYQUEST,function(t){game.data.dailyQuest=t,e.currentQuestIndex!=t.currentQuest&&(e.currentQuestIndex=t.currentQuest,e.renderItem()),store.emit("ITEM_UPDATE_EVENT",t)});this.storeKey.push(t);var o=store.register(store.key.WEEKLY_ACCUMILATION,function(t){e.weeklyLabel.updateUserBalance(t.currentProgress,{subfix:"/1000"});var o=t.currentProgress/1e3;o=o>100?100:o,e.barWeekly.updateProgress(t.currentProgress/1e3)});this.storeKey.push(o)},t.prototype.countTimeDaily=function(){setInterval(function(){this&&this.time&&(this.time.getComponent(cc.Label).string=util.string.formatTime(util.game.timeToNextday())+" Left")}.bind(this),1e3)},t.prototype.renderItem=function(){var e=this,t=game.data.dailyQuest,o=t.missions.map(function(e,o){return o<t.currentQuest?e.status=n.COMPLETE:o==t.currentQuest?(e.status=n.DOING,e.currentProgress=t.currentProgress):e.status=n.LOCK,e}),i=void 0;if(this.listContent.content.removeAllChildren(),game.data.dailyQuest.completeAll)for(var a=0;a<o.length;a++)i=cc.instantiate(this.item.complete),this.listContent.content.addChild(i),i.setPosition(0,0);else o.forEach(function(t){if(t.status==n.DOING){store.unRegister(e.itemKey),i=cc.instantiate(e.item.doing);var o=t.goal,a=i.getChildByName("progressBar-Daily").getComponent(r.default),s=i.getChildByName("lable").getComponent(cc.Label),c=i.getChildByName("popup-quest-bg-money"),l=c.getChildByName("label").getComponent(cc.Label),u=i.getChildByName("progressBar-Daily").getChildByName("percent"),p=i.getChildByName("daily-icon-quest-gift"),d=i.getChildByName("daily-icon-quest-gift-lock");p.active=!1,""==t.description?s.string="This is a description":"object"==typeof t.require?(c.active=!0,"number"==typeof t.require.minCoin&&(s.string=t.description.toString().replace("$x",t.require.minCoin+"\n")),"number"==typeof t.require.times&&(s.string=t.description.toString().replace("$x",o+"\n").replace("$x",t.require.times))):(c.active=!1,s.string=t.description.toString().replace("$x",o)),3!==t.requireType?u.getComponent(cc.Label).string="00.00%":u.getComponent(cc.Label).string="0 coin";var h=i;a.lerpRatio=-1,a.setListener(function(o){if(3!==t.requireType&&(u.getComponent(cc.Label).string=o.toFixed(2)+"%"),100==o){d.active=!1,p.active=!0,p.runAction(effect.jelly());var n=new cc.Component.EventHandler;n.target=e.node,n.component="PopupDailyQuest",n.handler="onClickDailyItem";var i=h.getComponent(cc.Button);i.zoomScale=.95,i.clickEvents.push(n)}}),e.itemKey=store.register("ITEM_UPDATE_EVENT",function(e){var t=e.missions[e.currentQuest];t&&(a&&a.updateProgress(e.currentProgress/t.goal),3==t.requireType&&(u&&(u.getComponent(cc.Label).string=util.string.formatMoney(e.currentProgress)+" coins"),l&&(l.string=e.currentCount+" "+(e.currentCount>1?"times":"time")+" left")))})}else if(t.status==n.LOCK){(i=cc.instantiate(e.item.lock)).getChildByName("iconLock").runAction(effect.shake())}else t.status==n.COMPLETE&&(i=cc.instantiate(e.item.complete));i.setPosition(0,0),e.listContent.content.addChild(i)})},t.prototype.effectIn=function(){this.listContent.content.children&&this.listContent.content.children.forEach(function(e,t){e.opacity=0,e.runAction(cc.sequence(cc.delayTime(.15),effect.moveInBy({time:.3+.3*t,direction:define.type.DIRECTION.RIGHT})))})},t.prototype.onClickDailyItem=function(){if(game.log("PopupDailyQuest","onClickDailyItem"),game.data.dailyQuest.doneThisQuest){var e=game.data.dailyQuest,t=e.missions[e.currentQuest];api.sendGD({e:api.key.DAILYQUEST_REWARD},function(e,o){e?game.error(e):o?(game.log("PopupDailyQuest","onClickDailyItem","Data reward",o),tracking.send(tracking.event.QUEST_COMPLETE),game.data.weeklyAccumilation.currentProgress+=t.point,store.emit(store.key.DAILYQUEST,o.dailyQuest),store.emit(store.key.WEEKLY_ACCUMILATION,game.data.weeklyAccumilation),store.emit(store.key.UPDATE_USER_BALANCE,o.userBalance),controller.ui.playPrefabAnimation("dailyReward",{coin:t.rewards})):game.warn("PopupDailyQuest","onClickDailyItem","Data error",o)})}},t.prototype.onClickWeeklyItem=function(e,t){game.log("PopupDailyQuest","onClickWeeklyItem");var o=e.target.getComponent(cc.Button);o.clickEvents=[],o.node.stopAllActions(),api.sendGD({e:api.key.WEEKLY_ACCUMILATION_REWARD},function(e,t){if(e)game.error(e);else if(t&&t.userAccumilation&&t.userBalance){tracking.send(tracking.event.WEEK_COMPLETE),store.emit(store.key.WEEKLY_ACCUMILATION,t.userAccumilation),store.emit(store.key.UPDATE_USER_BALANCE,t.userBalance);var o=t.userAccumilation;controller.ui.playPrefabAnimation("dailyReward",{coin:o.rewardsInfo[o.takenRewards-1]})}else game.warn("PopupDailyQuest","onClickWeeklyItem","Data error",t)})},t.prototype.onDestroy=function(){this.storeKey.forEach(function(e){return store.unRegister(e)}),store.unRegister(this.itemKey)},__decorate([l(cc.Node)],t.prototype,"time",void 0),__decorate([l(u)],t.prototype,"item",void 0),__decorate([l(cc.ScrollView)],t.prototype,"listContent",void 0),__decorate([l(cc.Label)],t.prototype,"lablePointBottom",void 0),__decorate([l(cc.Node)],t.prototype,"bottom",void 0),__decorate([l(r.default)],t.prototype,"barWeekly",void 0),t=__decorate([c],t)}(i.default);o.default=p,cc._RF.pop()},{"../BasePopup":"BasePopup","../Components/AccumulatedBar":"AccumulatedBar","../Components/CoinLabel":"CoinLabel"}],PopupSetting:[function(e,t,o){"use strict";cc._RF.push(t,"28bf82JlApLapyy9xtwN1Eo","PopupSetting"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../BasePopup"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listSetting=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.initialize(),this.addScrollListenner()},t.prototype.initialize=function(){var e=this.listSetting.content,t=e.getChildByName("loginFB");game.user.loginType==define.type.LOGIN_TYPE.FACEBOOK&&(t.active=!1),e.getChildByName("sound").getChildByName("toggle").getComponent(cc.Toggle).isChecked=controller.sound.getSoundStatus(),e.getChildByName("music").getChildByName("toggle").getComponent(cc.Toggle).isChecked=controller.sound.getMusicStatus();e.getChildByName("gift").getChildByName("toggle").getComponent(cc.Toggle),e.getChildByName("notification").getChildByName("toggle").getComponent(cc.Toggle)},t.prototype.addScrollListenner=function(){var e=new cc.Component.EventHandler;e.target=this.node,e.component="PopupSetting",e.handler="listenner",this.listSetting.scrollEvents.push(e)},t.prototype.listenner=function(e,t){var o=this.listSetting.node.getChildByName("scrollBar"),n=o.getChildByName("bar"),i=e.getScrollOffset().y;t===cc.ScrollView.EventType.SCROLL_TO_TOP?i=0:t===cc.ScrollView.EventType.SCROLL_TO_BOTTOM&&(i=100),t===cc.ScrollView.EventType.SCROLLING&&(i=(i=i<0?0:i)>100?100:i,n.y=-i/100*(o.height-n.height))},t.prototype.onLoginFB=function(e){game.log("Popup Setting","onLoginFB",e),platform.facebook.login()},t.prototype.onToggleSound=function(e){game.log("Popup Setting","onToggleSound",e.isChecked),tracking.send(e.isChecked?tracking.event.SOUND_ON:tracking.event.SOUND_OFF),controller.sound.setSoundStatus(e.isChecked)},t.prototype.onToggleMusic=function(e){game.log("Popup Setting","onToggleMusic",e.isChecked),tracking.send(e.isChecked?tracking.event.MUSIC_ON:tracking.event.MUSIC_OFF),controller.sound.setMusicStatus(e.isChecked)},t.prototype.onToggleGift=function(e){game.log("Popup Setting","onToggleGift",e.isChecked)},t.prototype.onToggleNotification=function(e){game.log("Popup Setting","onToggleNotification",e.isChecked)},t.prototype.onClickInviteSMS=function(e){game.log("Popup Setting","onClickInviteSMS",e)},t.prototype.onClickInviteEmail=function(e){game.log("Popup Setting","onClickInviteEmail",e)},__decorate([a(cc.ScrollView)],t.prototype,"listSetting",void 0),t=__decorate([r],t)}(n.default);o.default=s,cc._RF.pop()},{"../BasePopup":"BasePopup"}],PopupShop:[function(e,t,o){"use strict";cc._RF.push(t,"6b1f8TfK3RHpZh1jWySkWC0","PopupShop"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("../BasePopup"),r=e("../Define/DefineType"),a=cc._decorator,s=a.ccclass,c=a.property;(function(e){e[e.NONE=0]="NONE",e[e.POPULAR=1]="POPULAR",e[e.BEST=2]="BEST",e[e.DEAL=3]="DEAL"})(n=o.EShopItemTag||(o.EShopItemTag={}));var l=function(){function e(){this.tag=n.NONE,this.spTag=void 0,this.fontCoin=void 0,this.bgItem=void 0,this.bgPromo=void 0,this.bgCoin=void 0,this.btnAniName=""}return __decorate([c({type:cc.Enum(n)})],e.prototype,"tag",void 0),__decorate([c(cc.SpriteFrame)],e.prototype,"spTag",void 0),__decorate([c(cc.Font)],e.prototype,"fontCoin",void 0),__decorate([c(cc.SpriteFrame)],e.prototype,"bgItem",void 0),__decorate([c(cc.SpriteFrame)],e.prototype,"bgPromo",void 0),__decorate([c(cc.SpriteFrame)],e.prototype,"bgCoin",void 0),__decorate([c()],e.prototype,"btnAniName",void 0),e=__decorate([s("ItemResource")],e)}();o.ItemResource=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.resource=[],t.nodeItem=void 0,t.list=void 0,t.data=[],t.key=[],t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},t.prototype.start=function(){this.registerStore(),e.prototype.start.call(this)},t.prototype.registerStore=function(){var e=this,t=store.register(store.key.UPDATE_SHOP_DATA,function(t){if(e.list.content.removeAllChildren(),t[define.type.ESHOP.GENERAL_SHOP]||t[define.type.ESHOP.GENERAL_SHOP].length){e.data=t[define.type.ESHOP.GENERAL_SHOP].map(function(e){return{id:e._id,productId:e.productId,tag:e.displayInfo.tag in n?n[e.displayInfo.tag]:n.NONE,coin:e.displayInfo.oldValue,promotion:e.displayInfo.salePercent,total:e.displayInfo.currValue,wheel:"MEGA_WHEEL"==e.bonus,amount:e.displayInfo.price,type:r.ESHOP.GENERAL_SHOP}});e.data.map(function(t,o){var n=e.initItem(t,o);return n.parent=e.list.content,n})}else game.log("PopupShop","initialization","data error")});this.key.push(t)},t.prototype.initItem=function(e,t){var o=cc.instantiate(this.nodeItem),n=this.resource.find(function(t){return t.tag===e.tag}),i=o.getChildByName("bg").getComponent(cc.Sprite),r=i.node.getChildByName("tag").getComponent(cc.Sprite),a=i.node.getChildByName("text").getComponent(cc.Label),s=i.node.getChildByName("promotion").getComponent(cc.Sprite),c=s.node.getChildByName("text").getComponent(cc.Label),l=i.node.getChildByName("coin").getComponent(cc.Sprite),u=l.node.getChildByName("text").getComponent(cc.Label),p=l.node.getChildByName("icon-wheel"),d=i.node.getChildByName("btnBuy").getComponent(cc.Button),h=d.node.getChildByName("text").getComponent(cc.Label);i.spriteFrame=n.bgItem,n.spTag?r.spriteFrame=n.spTag:r.node.active=!1,a.font=n.fontCoin,s.spriteFrame=n.bgPromo,l.spriteFrame=n.bgCoin,d.getComponent(sp.Skeleton).animation=n.btnAniName,a.string=util.string.formatMoney(e.coin),c.string="+"+e.promotion+"%",u.string=util.string.formatMoney(e.total),p.active=e.wheel,h.string="$"+e.amount.toFixed(2)+" USD";var m=new cc.Component.EventHandler;return m.target=this.node,m.component="PopupShop",m.handler="onClickBuy",m.customEventData=JSON.stringify(e),d.clickEvents.push(m),i.node.opacity=0,i.node.runAction(cc.sequence(cc.delayTime(.07*t),effect.moveInBy({time:.5,direction:define.type.DIRECTION.DOWN}))),o},t.prototype.onClickBuy=function(e,t){game.log("PopupShop","onClickBuy",t);var o=JSON.parse(t);platform.iap.itemBuying=o,tracking.send(tracking.event.IAP_PURCHASE_ITEM,o),platform.iap.purchaseByProductID(o.productId)},t.prototype.onDestroy=function(){this.key.forEach(function(e){store.unRegister(e)})},__decorate([c([l])],t.prototype,"resource",void 0),__decorate([c(cc.Node)],t.prototype,"nodeItem",void 0),__decorate([c(cc.ScrollView)],t.prototype,"list",void 0),t=__decorate([s],t)}(i.default);o.default=u,cc._RF.pop()},{"../BasePopup":"BasePopup","../Define/DefineType":"DefineType"}],ResourceController1:[function(e,t,o){"use strict";cc._RF.push(t,"ccd21d0I/FHWbNRD2GcSIuP","ResourceController1"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Slots/ResourceController"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteListName={item:{s:"img/item/item-egypt-2",s2:"img/item/item-egypt-1",c:"img/item/egypt-coin-2",w:"img/item/item-egypt-3",sw:"img/item/item-egypt-3",0:"img/item/item-egypt-7",1:"img/item/item-egypt-8",2:"img/item/item-egypt-9",3:"img/item/item-egypt-4",4:"img/item/item-egypt-5",5:"img/item/item-egypt-6",6:"img/item/item-egypt-11",7:"img/item/item-egypt-12",8:"img/item/item-egypt-13",9:"img/item/item-egypt-14"},subItem:{coinGray:"img/item/egypt-coin-3",coin:"img/item/egypt-coin-1",wildBorder:"img/item/wild-border",bg:"img/bg-big"},payTable:{}},t.audioListName={"01":"background.mp3"},t.storageBase="game-slot/1_Slot1/",t.resourcePath="4_gameScene/1_Slot1/",t}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../scripts/Slots/ResourceController":"ResourceController"}],ResourceController2:[function(e,t,o){"use strict";cc._RF.push(t,"342b50tHJZPUIUrOPLwjhVW","ResourceController2"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Slots/ResourceController"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteListName={item:{s:"img/item/game-dra-item-free-spin-1",s2:"img/item/game-dra-item-freespin-2",c:"img/item/game-dra-item-coin-gold-mon",w:"img/item/game-dra-item-dra-wild-update",sw:"img/item/game-dra-item-dra-wild-update",0:"img/item/game-dra-item-1",1:"img/item/game-dra-item-2",2:"img/item/game-dra-item-3",3:"img/item/game-dra-item-4",4:"img/item/game-dra-item-5",5:"img/item/game-dra-item-6",6:"img/item/game-dra-item-7",7:"img/item/game-dra-item-special-1",8:"img/item/game-dra-item-special-2",9:"img/item/game-dra-item-special-3"},itemBorder:{sw:"img/item/game-dra-item-wild-bg",w:"img/item/game-dra-item-wild-bg",7:"img/item/game-dra-item-special-1-bg",8:"img/item/game-dra-item-special-2-bg",9:"img/item/game-dra-item-special-3-bg",bg:"/img/bg-big"},subItem:{coinGray:"img/item/game-dra-item-coin-gray-mon",coin:"img/item/game-dra-item-coin-gold",wildBorder:"img/item/game-dra-item-wild-bg"},payTable:{}},t.storageBase="game-slot/2_Slot2/",t.resourcePath="4_gameScene/2_Slot2/",t}return __extends(t,e),t.prototype.getListItemBorder=function(){var e=this;return Object.keys(this.spriteListName.itemBorder).reduce(function(t,o){return t.concat([{id:o,img:e.spriteList.find(function(t){return t.name==e.spriteListName.itemBorder[o].split("/").pop()})}])},[])},t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../scripts/Slots/ResourceController":"ResourceController"}],ResourceController3:[function(e,t,o){"use strict";cc._RF.push(t,"f0516qHNG1Pg6XRVf2I3Fb1","ResourceController3"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Slots/ResourceController"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteListName={item:{},payTable:{},subItem:{bg:"img/bg-big"},minigame:["minigame/bap_cai_dark","minigame/cu_hanh_dark","minigame/huong_duong_dark","minigame/ca_rot_dark","minigame/snake","minigame/gold_bap_cai","minigame/gold_cu_hanh","minigame/gold_huong_duong","minigame/gold_ca_rot","minigame/bap_cai_alpha","minigame/cu_hanh_alpha","minigame/huong_duong_alpha","minigame/ca_rot_alpha"]},t.storageBase="game-slot/3_Slot3/",t.resourcePath="4_gameScene/3_Slot3/",t}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../scripts/Slots/ResourceController":"ResourceController"}],ResourceController4:[function(e,t,o){"use strict";cc._RF.push(t,"c35c9qovltLIZDUmx3E5FtT","ResourceController4"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Slots/ResourceController"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.storageBase="game-slot/4_Slot4/",t.resourcePath="4_gameScene/4_Slot4/",t.spriteListName={item:{s:"img/Item/item-casino-scatter",w:"img/Item/item-casino-wild",0:"img/Item/item-casino-1",1:"img/Item/item-casino-2",2:"img/Item/item-casino-3",3:"img/Item/item-casino-4",4:"img/Item/item-casino-5",5:"img/Item/item-casino-6",11:"img/Item/item-casino-7",12:"img/Item/item-casino-8",13:"img/Item/item-casino-9",14:"img/Item/item-casino-10",15:"img/Item/item-casino-11",22:"img/Item/item-casino-8-gold",23:"img/Item/item-casino-9-gold",24:"img/Item/item-casino-10-gold",25:"img/Item/item-casino-11-gold"},payTable:{},itemBorder:{12:"img/bg-item-casino-8",13:"img/bg-item-casino-9",14:"img/bg-item-casino-10",15:"img/bg-item-casino-11",22:"img/bg-item-casino-8",23:"img/bg-item-casino-9",24:"img/bg-item-casino-10",25:"img/bg-item-casino-11",w:"img/bg-item-casino-wild",s:"img/bg-item-casino-scatter"},itemGold:{4:"img/Item/item-casino-7",3:"img/Item/item-casino-8-gold",2:"img/Item/item-casino-9-gold",1:"img/Item/item-casino-10-gold",0:"img/Item/item-casino-11-gold"},subItem:{bg:"img/bg-big.jpg"},minigame:["minigame/casino-slot-coin-grand","minigame/casino-slot-coin-major","minigame/casino-slot-coin-minor","minigame/casino-slot-coin-mini","minigame/casino-slot-coin-normal"],borderWinItem:["img/casino-slot-stroke-win"],borderBet:["img/borderBet"]},t}return __extends(t,e),t.prototype.getListItemBorder=function(){var e=this,t=Object.keys(this.spriteListName.itemBorder);return t=t.reduce(function(t,o){return t.concat([{id:o,img:e.spriteList.find(function(t){return t.name==e.spriteListName.itemBorder[o].split("/").pop()})}])},[])},t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../scripts/Slots/ResourceController":"ResourceController"}],ResourceController5:[function(e,t,o){"use strict";cc._RF.push(t,"0cc3c7p7CpEm43DoqhIpGsS","ResourceController5"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Slots/ResourceController"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteListName={item:{b:"img/item/item-bonus-gem",s:"img/item/item-scatter-gem",w:"img/item/item-wild-gem",0:"img/item/gem-item-ingame-1",1:"img/item/gem-item-ingame-2",2:"img/item/gem-item-ingame-3",3:"img/item/gem-item-ingame-4",4:"img/item/gem-item-ingame-5",5:"img/item/gem-item-ingame-6",6:"img/item/gem-item-ingame-7",7:"img/item/gem-item-ingame-8",8:"img/item/gem-item-ingame-9"},payTable:{},itemBorder:{b:"img/item/bg-bonus-gem",s:"img/item/bg-scatter-gem",w:"img/item/bg-wild-gem"},subItem:{bg:"img/bg-big"},minigame:["minigame/gem_minigame_bonus_item_01","minigame/gem_minigame_bonus_item_02","minigame/gem_minigame_bonus_item_03","minigame/gem_minigame_bonus_item_04","minigame/gem_minigame_bonus_item_05","minigame/gem_minigame_bonus_item_06","minigame/gem_minigame_bonus_item_07","minigame/gem_minigame_bonus_item_08","minigame/gem_minigame_bonus_item_09","minigame/gem_minigame_bonus_item_10","minigame/gem_minigame_bonus_item_11","minigame/gem_minigame_bonus_item_12","minigame/gem_minigame_bonus_item_13","minigame/gem_minigame_bonus_item_14","minigame/gem_minigame_bonus_item_15","minigame/gem_minigame_bonus_item_fail_01","minigame/gem_minigame_bonus_item_fail_02","minigame/gem_minigame_bonus_item_total","minigame/gem_minigame_bonus_item_white_01","minigame/gem_minigame_bonus_item_white_02","minigame/gem_minigame_bonus_item_white_03","minigame/gem_minigame_bonus_item_white_04","minigame/gem_minigame_bonus_item_white_05","minigame/gem_minigame_bonus_item_white_06","minigame/gem_minigame_bonus_item_white_07","minigame/gem_minigame_bonus_item_white_08","minigame/gem_minigame_bonus_item_white_09","minigame/gem_minigame_bonus_item_white_10","minigame/gem_minigame_bonus_item_white_11","minigame/gem_minigame_bonus_item_white_12","minigame/gem_minigame_bonus_item_white_13","minigame/gem_minigame_bonus_item_white_14","minigame/gem_minigame_bonus_item_white_15","minigame/gem_minigame_bonus_item_white_fail"]},t.storageBase="game-slot/5_Slot5/",t.resourcePath="4_gameScene/5_Slot5/",t}return __extends(t,e),t.prototype.getListItemBorder=function(){var e=this;return Object.keys(this.spriteListName.itemBorder).reduce(function(t,o){return t.concat([{id:o,img:e.spriteList.find(function(t){return t.name==e.spriteListName.itemBorder[o].split("/").pop()})}])},[])},t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../scripts/Slots/ResourceController":"ResourceController"}],ResourceController6:[function(e,t,o){"use strict";cc._RF.push(t,"0b042bTVWBBuKjiup0pyodv","ResourceController6"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Slots/ResourceController"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteListName={item:{},payTable:{},slotComponent:{originalBack:"img/bg_game_02",bonusBack:"img/bonus_game_bg"},subItem:{bg:"img/bg-big"},minigame:[]},t.audioListName={},t.storageBase="game-slot/6_Slot6/",t.resourcePath="4_gameScene/6_Slot6/",t}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../scripts/Slots/ResourceController":"ResourceController"}],ResourceController7:[function(e,t,o){"use strict";cc._RF.push(t,"3a62a3ASLRBvqlnpG/gAYhV","ResourceController7"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../3_Slot3/ResourceController3"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteListName={item:{},subItem:{bg:"img/bg-big"},reelColor:{1:"img/item/khung_reels_1",2:"img/item/khung_reels_2",3:"img/item/khung_reels_3",4:"img/item/khung_reels_4",5:"img/item/khung_reels_5"},activeReels:{1:"img/item/active_reels_button_01",2:"img/item/active_reels_button_02",3:"img/item/active_reels_button_03",4:"img/item/active_reels_button_04",5:"img/item/active_reels_button_05"},lockReels:{1:"img/item/power_reels_lock_1",2:"img/item/power_reels_lock_2",3:"img/item/power_reels_lock_3",4:"img/item/power_reels_lock_4",5:"img/item/power_reels_lock_5"},reward:{MINI:"img/item/mini",MINOR:"img/item/minor",MAJOR:"img/item/major",MEGA:"img/item/mega"},minigame:["/minigame/reward","/minigame/mini","/minigame/minor","/minigame/major","/minigame/mega","/minigame/total"],payTable:{"scatter-shields":"paytable/scatter-shields",scatter_shields_txt:"paytable/scatter_shields_txt",title_free_spins:"paytable/title_free_spins",free_spins_txt:"paytable/free_spins_txt",title_rules:"paytable/title_rules",rules_txt:"paytable/rules_txt",title_wheel_spins:"paytable/title_wheel_spins",wheel_spins_tx:"paytable/wheel_spins_txt"}},t.storageBase="game-slot/7_Slot7/",t.resourcePath="4_gameScene/7_Slot7/",t}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../3_Slot3/ResourceController3":"ResourceController3"}],ResourceController8:[function(e,t,o){"use strict";cc._RF.push(t,"ca95706i69GIKjY5dAWHKuj","ResourceController8"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Slots/ResourceController"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spriteListName={item:{},subItem:{bg:"img/bg-big"},minigame:["minigame/active_effect_white","minigame/daulau_red","minigame/daulau_white","minigame/quantai_boxuong","minigame/quantai_off","minigame/thienthan","minigame/sach_gray"],payTable:{bg_paytable:"img/bg_paytable",backtogame_left:"img/backtogame_left",backtogame_right:"img/backtogame_right",paytable1:"paytable/paytable1",paytable2:"paytable/paytable2",paytable3:"paytable/paytable3",paytable4:"paytable/paytable4"}},t.storageBase="game-slot/8_Slot8/",t.resourcePath="4_gameScene/8_Slot8/",t}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../scripts/Slots/ResourceController":"ResourceController"}],ResourceController:[function(e,t,o){"use strict";cc._RF.push(t,"8344bl+dlVHd4RXGWkNuWkQ","ResourceController"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ResourcePrefab"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(){function e(){this.image=null,this.customName="",this.folderPath=""}return e.prototype.getName=function(){return this.customName||this.image.name},e.prototype.getPath=function(){return this.folderPath||(this.folderPath="img"),this.folderPath+"/"+util.game.getDefaultImage(this.getName())},__decorate([a({type:cc.Node,tooltip:"K\xe9o node ch\u1ee9a h\xecnh \u1ea3nh mu\u1ed1n load resource v\xe0o. H\xecnh \u1ea3nh s\u1ebd \u0111\u01b0\u1ee3c load m\u1eb7c \u0111\u1ecbnh d\u1ef1a theo t\xean c\u1ee7a node n\xe0y."})],e.prototype,"image",void 0),__decorate([a({tooltip:"Custom name \u0111\u1ec3 load h\xecnh \u1ea3nh n\u1ebfu k mu\u1ed1n d\xf9ng t\xean c\u1ee7a node."})],e.prototype,"customName",void 0),__decorate([a({tooltip:"Custom path h\xecnh \u1ea3nh \u0111\u1ec3 load."})],e.prototype,"folderPath",void 0),e=__decorate([r("ImageItem")],e)}();o.ImageItem=s;var c=function(){function e(){this.skeleton=null,this.folderName="",this.animationName=""}return e.prototype.getName=function(){return this.folderName||this.skeleton.node.name},e.prototype.getPath=function(){return"skeleton/"+this.getName()},__decorate([a({type:sp.Skeleton,tooltip:"K\xe9o th\u1ea3 skeleton c\u1ea7n load source v\xe0o \u0111\xe2y"})],e.prototype,"skeleton",void 0),__decorate([a({tooltip:"T\xean folder ch\u1ee9a 3 files c\u1ee7a skeleton."})],e.prototype,"folderName",void 0),__decorate([a({tooltip:"T\xean animation m\u1eb7c \u0111\u1ecbnh \u0111\u01b0\u1ee3c ch\u1ea1y khi load xong resource."})],e.prototype,"animationName",void 0),e=__decorate([r("SkeletonItem")],e)}();o.SkeletonItem=c;var l=function(){function e(){this.prefab=null,this.customPath=""}return e.prototype.getName=function(){return this.customPath||this.prefab.name},e.prototype.getAllSpriteName=function(){var e=this,t=this.prefab.data.getComponentInChildren(n.default);return t?t.listImage.map(function(t){return(t.folderPath||e.getName())+"/"+util.game.getDefaultImage(t.getName())}):[]},e.prototype.getAllSkeletonName=function(){var e=this.prefab.data.getComponentInChildren(n.default);return e?e.listSkeleton.map(function(e){return""+e.getName()}):[]},__decorate([a({type:cc.Prefab,tooltip:"K\xe9o th\u1ea3 c\xe1c prefab con c\u1ea7n load resource v\xe0o \u0111\xe2y. C\xe1c prefab n\xe0y c\u1ea7n c\xf3 1 node ch\u01b0a component ResourcePrefab \u0111\u1ec3 k\xe9o th\u1ea3 v\xe0 load source"})],e.prototype,"prefab",void 0),__decorate([a({tooltip:"\u0110\u01b0\u1eddng d\u1eabn tu\u1ef3 ch\u1ec9nh. M\u1eb7c \u0111\u1ecbnh s\u1ebd l\u1ea5y t\xean c\u1ee7a prefab."})],e.prototype,"customPath",void 0),e=__decorate([r("PrefabItem")],e)}();o.PrefabItem=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.storageBase="game-slot/1_Slot1/",t.resourcePath="4_gameScene/1_Slot1/",t.maxConcurrentDownloader=5,t.spriteListName={item:{},payTable:{}},t.skeletonListName={},t.audioListName={},t.resourceLinkBase="http://64.120.114.208:9009/",t.spriteList=[],t.skeletonList=[],t.audioList=[],t.listImage=[],t.listImageName=[],t.listSkeleton=[],t.listSkeletonFolder=[],t.listPrefab=[],t.totalResourcePath=[],t.totalSpritePath=[],t.totalSkeletonPath=[],t.totalAudioPath=[],t.writablePath="",t.omittedItemsPath=[],t}return __extends(t,e),t.prototype.checkData=function(){return this.getResourceName(),!0},t.prototype.startDownload=function(e,t){return __awaiter(this,void 0,Promise,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.loadResourcesFromDisk=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[3,2];case 1:return e.sent(),[3,4];case 2:return[4,this.loadWebRes()];case 3:e.sent(),e.label=4;case 4:return this.loadSprites(),this.loadSkeleton(),[2]}})})},t.prototype.getResourceName=function(){var e=this;this.listImage.forEach(function(t){e.listImageName.push(t.getPath())}),this.listPrefab.forEach(function(t){e.listImageName=e.listImageName.concat(t.getAllSpriteName())}),this.listSkeleton.forEach(function(t){e.listSkeletonFolder.push(""+t.getName())}),this.listPrefab.forEach(function(t){e.listSkeletonFolder=e.listSkeletonFolder.concat(t.getAllSkeletonName())})},t.prototype.getResourcePaths=function(){var e=this;for(var t in this.writablePath=jsb.fileUtils.getWritablePath(),this.totalSpritePath=this.listImageName.map(function(t){return e.writablePath+e.storageBase+t}),this.spriteListName)for(var o in this.spriteListName[t]){var n=this.spriteListName[t][o];n.includes(".jpg")||n.includes(".png")||(n+=".png"),this.totalSpritePath.push(this.writablePath+this.storageBase+n)}this.listSkeletonFolder.forEach(function(t){e.totalSkeletonPath.push(e.writablePath+e.storageBase+"skeleton/"+t+"/skeleton.png"),e.totalSkeletonPath.push(e.writablePath+e.storageBase+"skeleton/"+t+"/skeleton.atlas"),e.totalSkeletonPath.push(e.writablePath+e.storageBase+"skeleton/"+t+"/skeleton.json")}),this.totalAudioPath=Object.keys(this.audioListName).reduce(function(t,o){var n=e.audioListName[o];return n?(n.includes(".mp3")||(n+=".mp3"),t.concat([e.writablePath+e.storageBase+"audio/"+n])):t},[]),this.totalSpritePath=Array.from(new Set(this.totalSpritePath)),this.totalAudioPath=Array.from(new Set(this.totalAudioPath))},t.prototype.checkResources=function(){var e=[];if(this.totalSpritePath.forEach(function(t){jsb.fileUtils.isFileExist(t)||e.push(t),jsb.fileUtils.isFileExist(t+".meta")||e.push(t+".meta")}),this.totalSkeletonPath.forEach(function(t){jsb.fileUtils.isFileExist(t)||e.push(t)}),this.totalAudioPath.forEach(function(t){jsb.fileUtils.isFileExist(t)||e.push(t)}),0==e.length)return!0;var t=this.writablePath.length;return this.omittedItemsPath=e.map(function(e){return e.substr(t)}),!1},t.prototype.downloadResources=function(e,t){var o=this;return new Promise(function(n,i){game.log("Starting download ...");var r=0,a=o.omittedItemsPath.length,s=0,c=0,l=Date.now();o.omittedItemsPath.length||n(),Array.from(new Set(o.omittedItemsPath.map(function(e){return e.slice(0,e.lastIndexOf("/"))}))).forEach(function(e){jsb.fileUtils.createDirectory(o.writablePath+e)});var u=function(){if(!(c>=a||s>o.maxConcurrentDownloader)){var p=new jsb.Downloader;p.createDownloadFileTask(o.resourceLinkBase+o.omittedItemsPath[c],o.writablePath+o.omittedItemsPath[c]),p.setOnFileTaskSuccess(function(o){if(r++,s--,t&&t(r,a),u(),r==a)return game.log("Downloaded in",Date.now()-l),e&&e(null),n()}),p.setOnTaskError(function(t,o,n,r){return game.log("download error",t,r),e(r),i(r)}),s++,c++,u()}};u()})},t.prototype.loadNativeRes=function(e,t){return __awaiter(this,void 0,Promise,function(){var o,n,i,r;return __generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),o=0,n=this.totalSpritePath.length+this.listSkeletonFolder.length+this.totalAudioPath.length,i=function(){o++,t&&t(o,n)},[4,Promise.all([this.loadImageResNative(i),this.loadSkeletonResNative(i),this.loadAudioResNative(i)])];case 1:return a.sent(),e&&e(null),[2,!0];case 2:return r=a.sent(),e&&e(r),[2,!1];case 3:return[2]}})})},t.prototype.loadImageResNative=function(e){var t=this;return new Promise(function(e,o){var n=t.totalSpritePath.filter(function(e){return e.includes(".png")||e.includes(".jpg")});cc.loader.load(n,function(i,r){return __awaiter(t,void 0,void 0,function(){var t=this;return __generator(this,function(a){switch(a.label){case 0:return i?(game.log("load error",i),[2,o(i)]):[4,Promise.all(n.map(function(e){return new Promise(function(o,n){var i=r.getContent(e),a=i.url.lastIndexOf("/"),s=i.url.substr(a+1),c=new cc.SpriteFrame(i);c.name=s.split(".")[0],t.spriteList.push(c),cc.loader.load(e+".meta",function(e,i){if(e)return n(e);t.loadConfigToSpriteFrame(c,i),o()})})}))];case 1:return a.sent(),e(),[2]}})})})})},t.prototype.loadSkeletonResNative=function(e){var t=this;return Promise.all(this.listSkeletonFolder.map(function(o){return __awaiter(t,void 0,void 0,function(){var t,n,i,r,a,s;return __generator(this,function(c){switch(c.label){case 0:return t=this.writablePath+this.storageBase+"skeleton/"+o,[4,Promise.all([new Promise(function(e,o){cc.loader.load(t+"/skeleton.png",function(t,o){return e(o)})}),new Promise(function(e,o){cc.loader.load({url:t+"/skeleton.atlas",type:"txt"},function(t,o){return e(o)})}),new Promise(function(e,o){cc.loader.load({url:t+"/skeleton.json",type:"txt"},function(t,o){return e(o)})})])];case 1:return n=c.sent(),i=n[0],r=n[1],a=n[2],(s=new sp.SkeletonData).name=o,s.textures=[i],s.atlasText=r,s.skeletonJson=JSON.parse(a),s.textureNames=["skeleton.png"],this.skeletonList.push(s),e&&e(),[2]}})})}))},t.prototype.loadAudioResNative=function(e){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return t=this,[4,Promise.all(this.totalAudioPath.map(function(t){return new Promise(function(o){cc.loader.load(t,function(n,i){n&&game.log(n),i.name=t.split("/").pop().replace(".mp3",""),o(i),e&&e()})})}))];case 1:return t.audioList=o.sent(),[2]}})})},t.prototype.loadWebRes=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return[4,Promise.all([new Promise(function(t,o){cc.loader.loadResDir(e.resourcePath,cc.SpriteFrame,function(n,i){if(n)return o(n);e.spriteList=i,t(i)})}),Promise.all(this.listSkeletonFolder.map(function(t){return __awaiter(e,void 0,void 0,function(){var e,o;return __generator(this,function(n){switch(n.label){case 0:return e=this.resourcePath+"skeleton/"+t+"/skeleton",[4,new Promise(function(t,o){cc.loader.loadRes(e,sp.SkeletonData,function(e,n){e&&o(e),t(n)})})];case 1:return(o=n.sent()).name=t,this.skeletonList.push(o),[2]}})})})),new Promise(function(t,o){cc.loader.loadResDir(e.resourcePath,cc.AudioClip,function(n,i){if(n)return o(n);e.audioList=i,t(i)})})])];case 1:return t.sent(),[2]}})})},t.prototype.loadSprites=function(){var e=this;this.listImage.forEach(function(t){if(t.image){var o=e.spriteList.find(function(e){return e.name==t.getName()});t.image.getComponent(cc.Sprite).spriteFrame=o}})},t.prototype.loadSkeleton=function(){var e=this;this.listSkeleton.forEach(function(t){var o=t.folderName||t.skeleton.node.name;t.skeleton.skeletonData=e.skeletonList.find(function(e){return e.name==o}),t.skeleton.animation=t.animationName||""})},t.prototype.getlistImgItem=function(){var e=this;return Object.keys(this.spriteListName.item).reduce(function(t,o){return t.concat([{id:o,img:e.spriteList.find(function(t){return t.name==e.spriteListName.item[o].split("/").pop()})}])},[])},t.prototype.loadConfigToSpriteFrame=function(e,t){try{var o=JSON.parse(t),n=o.subMetas[Object.keys(o.subMetas)[0]];e.insetLeft=n.borderLeft,e.insetRight=n.borderRight,e.insetTop=n.borderTop,e.insetBottom=n.borderBottom}catch(e){game.log("Load config to sprite fail:",e)}},t.prototype.getSprite=function(e){return this.spriteList.find(function(t){return t.name==e})},t.prototype.getAudio=function(e){if(e)return e.includes(".mp3")&&(e=e.replace(".mp3","")),this.audioList.find(function(t){return t.name==e})},__decorate([a({type:s,tooltip:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng \u1ea3nh c\u1ea7n load"})],t.prototype,"listImage",void 0),__decorate([a({type:c,tooltip:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng skeleton c\u1ea7n load"})],t.prototype,"listSkeleton",void 0),__decorate([a({type:l,tooltip:"Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng prefab con c\u1ea7n load"})],t.prototype,"listPrefab",void 0),t=__decorate([r],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./ResourcePrefab":"ResourcePrefab"}],ResourceMiniGame5:[function(e,t,o){"use strict";cc._RF.push(t,"db42duYvd5AmaX9huAw3pKj","ResourceMiniGame5"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../scripts/Slots/ResourcePrefab"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listResourceName={items:{1:{normal:"gem_minigame_bonus_item_01",white:"gem_minigame_bonus_item_white_01"},2:{normal:"gem_minigame_bonus_item_02",white:"gem_minigame_bonus_item_white_02"},3:{normal:"gem_minigame_bonus_item_03",white:"gem_minigame_bonus_item_white_03"},4:{normal:"gem_minigame_bonus_item_04",white:"gem_minigame_bonus_item_white_04"},5:{normal:"gem_minigame_bonus_item_05",white:"gem_minigame_bonus_item_white_05"},6:{normal:"gem_minigame_bonus_item_06",white:"gem_minigame_bonus_item_white_06"},7:{normal:"gem_minigame_bonus_item_07",white:"gem_minigame_bonus_item_white_07"},8:{normal:"gem_minigame_bonus_item_08",white:"gem_minigame_bonus_item_white_08"},9:{normal:"gem_minigame_bonus_item_09",white:"gem_minigame_bonus_item_white_09"},10:{normal:"gem_minigame_bonus_item_10",white:"gem_minigame_bonus_item_white_10"},11:{normal:"gem_minigame_bonus_item_11",white:"gem_minigame_bonus_item_white_11"},12:{normal:"gem_minigame_bonus_item_12",white:"gem_minigame_bonus_item_white_12"},13:{normal:"gem_minigame_bonus_item_13",white:"gem_minigame_bonus_item_white_13"},14:{normal:"gem_minigame_bonus_item_14",white:"gem_minigame_bonus_item_white_14"},15:{normal:"gem_minigame_bonus_item_15",white:"gem_minigame_bonus_item_white_15"}},fail:{active:"gem_minigame_bonus_item_fail_01",normal:"gem_minigame_bonus_item_fail_02"},labelFrame:"gem_minigame_bonus_item_total",selectTable:{1:"gem-minigame-select-bonus-1",2:"gem-minigame-select-bonus-2"}},t}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../../scripts/Slots/ResourcePrefab":"ResourcePrefab"}],ResourceMiniGame6:[function(e,t,o){"use strict";cc._RF.push(t,"8e1beFss1lGab9ZTBeG+VeS","ResourceMiniGame6"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../scripts/Slots/ResourcePrefab"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listResourceName={items:{1:{normal:"gem_minigame_bonus_item_01",white:"gem_minigame_bonus_item_white_01"},2:{normal:"gem_minigame_bonus_item_02",white:"gem_minigame_bonus_item_white_02"},3:{normal:"gem_minigame_bonus_item_03",white:"gem_minigame_bonus_item_white_03"},4:{normal:"gem_minigame_bonus_item_04",white:"gem_minigame_bonus_item_white_04"},5:{normal:"gem_minigame_bonus_item_05",white:"gem_minigame_bonus_item_white_05"},6:{normal:"gem_minigame_bonus_item_06",white:"gem_minigame_bonus_item_white_06"},7:{normal:"gem_minigame_bonus_item_07",white:"gem_minigame_bonus_item_white_07"},8:{normal:"gem_minigame_bonus_item_08",white:"gem_minigame_bonus_item_white_08"},9:{normal:"gem_minigame_bonus_item_09",white:"gem_minigame_bonus_item_white_09"},10:{normal:"gem_minigame_bonus_item_10",white:"gem_minigame_bonus_item_white_10"},11:{normal:"gem_minigame_bonus_item_11",white:"gem_minigame_bonus_item_white_11"},12:{normal:"gem_minigame_bonus_item_12",white:"gem_minigame_bonus_item_white_12"},13:{normal:"gem_minigame_bonus_item_13",white:"gem_minigame_bonus_item_white_13"},14:{normal:"gem_minigame_bonus_item_14",white:"gem_minigame_bonus_item_white_14"},15:{normal:"gem_minigame_bonus_item_15",white:"gem_minigame_bonus_item_white_15"}},fail:{active:"gem_minigame_bonus_item_fail_01",normal:"gem_minigame_bonus_item_fail_02"},labelFrame:"gem_minigame_bonus_item_total",selectTable:{1:"gem-minigame-select-bonus-1",2:"gem-minigame-select-bonus-2"}},t}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../../scripts/Slots/ResourcePrefab":"ResourcePrefab"}],ResourceMiniGame7:[function(e,t,o){"use strict";cc._RF.push(t,"dc29aH0/9NEMYUL5CzTkZdZ","ResourceMiniGame7"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../scripts/Slots/ResourcePrefab"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listResourceName={jackpots:{0:"reward",1:"mini",2:"minor",3:"major",4:"mega",5:"total"}},t}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../../scripts/Slots/ResourcePrefab":"ResourcePrefab"}],ResourceMiniGame8:[function(e,t,o){"use strict";cc._RF.push(t,"75951An3Q9Ks5jY1SgMt5rB","ResourceMiniGame8"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../scripts/Slots/ResourcePrefab"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listResourceName={fail:{active:"daulau_white",normal:"daulau_red"},items:{1:"thienthan",0:"quantai_boxuong"},itemNormal:"quantai_off",itemEffect:"active_effect_white",disable:"sach_gray"},t}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../../scripts/Slots/ResourcePrefab":"ResourcePrefab"}],ResourceMinigame1:[function(e,t,o){"use strict";cc._RF.push(t,"4c76aTINXRMko6EeEm7vSjK","ResourceMinigame1"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../scripts/Slots/ResourcePrefab"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../../scripts/Slots/ResourcePrefab":"ResourcePrefab"}],ResourceMinigame2:[function(e,t,o){"use strict";cc._RF.push(t,"ea71940qQ9BDLbQbaUDXGhG","ResourceMinigame2"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../scripts/Slots/ResourcePrefab"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../../scripts/Slots/ResourcePrefab":"ResourcePrefab"}],ResourceMinigame3:[function(e,t,o){"use strict";cc._RF.push(t,"ce8f0vjBKZBJJ1EC6oiKRxw","ResourceMinigame3"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../scripts/Slots/ResourcePrefab"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listResourceName={items:{1:"bap_cai_dark",2:"cu_hanh_dark",3:"huong_duong_dark",4:"ca_rot_dark"},nomal:{1:"bap_cai_final",2:"cu_hanh_final",3:"huong_duong_alpha-13",4:"ca_rot_final"},snake:{0:"snake"},gold:{1:"gold_bap_cai",2:"gold_cu_hanh",3:"gold_huong_duong",4:"gold_ca_rot"},white:{1:"bap_cai_alpha",2:"cu_hanh_alpha",3:"huong_duong_alpha",4:"ca_rot_alpha"}},t}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../../scripts/Slots/ResourcePrefab":"ResourcePrefab"}],ResourceMinigame4:[function(e,t,o){"use strict";cc._RF.push(t,"3030cAzQURD1ZwN5t1Kyglx","ResourceMinigame4"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../../scripts/Slots/ResourcePrefab"),i=cc._decorator,r=i.ccclass,a=(i.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listResourceName={items:{0:"casino-slot-coin-grand",1:"casino-slot-coin-major",2:"casino-slot-coin-minor",3:"casino-slot-coin-mini"},itemNormal:["casino-slot-coin-normal"]},t}return __extends(t,e),t=__decorate([r],t)}(n.default));o.default=a,cc._RF.pop()},{"../../../../scripts/Slots/ResourcePrefab":"ResourcePrefab"}],ResourcePrefab:[function(e,t,o){"use strict";cc._RF.push(t,"7a417UEGSFI/6Du/8W335dX","ResourcePrefab"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ResourceController"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listImage=[],t.listSkeleton=[],t.resourceController=null,t}return __extends(t,e),t.prototype.loadResources=function(){this.loadSprites(),this.loadSkeletons()},t.prototype.loadSprites=function(){var e=this;this.listImage.forEach(function(t){if(t.image){var o=e.resourceController.spriteList.find(function(e){return e.name==t.getName()});t.image.getComponent(cc.Sprite).spriteFrame=o}})},t.prototype.loadSkeletons=function(){var e=this;this.listSkeleton.forEach(function(t){if(t.skeleton){var o=t.folderName||t.skeleton.node.name;t.skeleton.skeletonData=e.resourceController.skeletonList.find(function(e){return e.name==o}),t.skeleton.animation=t.animationName||""}})},__decorate([a({type:n.ImageItem,tooltip:"K\xe9o th\u1ea3 h\xecnh \u1ea3nh v\xe0o \u0111\xe2y ^.^"})],t.prototype,"listImage",void 0),__decorate([a({type:n.SkeletonItem,tooltip:"K\xe9o th\u1ea3 skeleton v\xe0o \u0111\xe2y"})],t.prototype,"listSkeleton",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./ResourceController":"ResourceController"}],SlotController1:[function(e,t,o){"use strict";cc._RF.push(t,"0a173IQnrZAgLibwPTvUO3q","SlotController1"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ResourceController1"),i=e("../../../scripts/Slots/SlotController"),r=e("./AccumulatedBar1"),a=e("../../../scripts/Components/CoinLabel"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.accumilatedBar=null,t.coinBonusLabel=null,t.coinBonusLerp=10,t.originalCoin=null,t.stickyWildContainer=null,t.miniGame=null,t.resourceController=null,t.coinBonus=0,t.coinBonusController=null,t.stickyList=[],t}return __extends(t,e),t.prototype.startSlot=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),this.stickyWildContainer.parent=this.tableView,this.stickyWildContainer.zIndex=1,this.coinBonusController=new a.default(this.coinBonusLabel,this.coinBonusLerp,"$"),e.prototype.startSlot.call(this),this.dataStatus.bonus?this.dataStatus.bonus.w?(this.bonus=!0,controller.ui.showModel(),game.log("start load bonus"),[4,this.playBonus(this.dataStatus.bonus)]):[3,2]:[3,2];case 1:o.sent(),controller.ui.hideModel(),o.label=2;case 2:return[4,util.game.delay(200,this.node)];case 3:return o.sent(),this.dataStatus.collect=this.dataStatus.collect||{c:0,tc:100},this.accumilatedBar.updateProgress(this.dataStatus.collect.c/this.dataStatus.collect.tc),this.coinBonus=this.dataStatus.collect.w,this.coinBonusController.updateUserBalance(this.coinBonus),this.dataStatus.freeSpin.c>0&&(this.accumilatedBar.node.runAction(cc.sequence([cc.delayTime(.2),cc.fadeOut(.4)])),this.handleStickyWild(this.dataStatus.lastmat)),[3,5];case 4:return t=o.sent(),game.error(t),[3,5];case 5:return[2]}})})},t.prototype.getAnimationController=function(){this.animationController=this.node.getComponent("AnimationController")},t.prototype.handleCollectCoin=function(e){var t=this,o=e.features.collect;return new Promise(function(e,n){return __awaiter(t,void 0,void 0,function(){var t,n,i=this;return __generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),t=this.reelController[0]._listItem.slice(1),n=[],t.forEach(function(e){e.forEach(function(e){"c"===e.id&&n.push(e)})}),n.length?(n.forEach(function(e){var t=new cc.Node("coin"),o=new cc.Node("coin"),n=i.originalCoin.parent.convertToWorldSpaceAR(cc.v2(0,0)),r=e.node.convertToWorldSpaceAR(cc.v2(0,0));t.addComponent(cc.Sprite),o.addComponent(cc.Sprite),t.getComponent(cc.Sprite).spriteFrame=i.resourceController.getSprite(i.resourceController.spriteListName.subItem.coin.split("/").pop()),o.getComponent(cc.Sprite).spriteFrame=i.resourceController.getSprite(i.resourceController.spriteListName.item.c.split("/").pop()),e.mainItem.getComponent(cc.Sprite).spriteFrame=i.resourceController.getSprite(i.resourceController.spriteListName.subItem.coinGray.split("/").pop()),o.parent=e.node,o.setPosition(0,0),e.node.getComponentInChildren(cc.Label).node.zIndex=2,o.runAction(cc.sequence(cc.fadeOut(.6),cc.callFunc(function(){o.destroy(),t.parent=i.originalCoin.parent,t.setPosition(r.x-n.x,r.y-n.y+2),t.opacity=0,t.runAction(cc.fadeIn(.2))}),cc.callFunc(function(){t.runAction(cc.sequence(cc.scaleTo(.5,1.2),cc.callFunc(function(){t.runAction(cc.moveTo(.7,i.originalCoin.getPosition())),t.runAction(cc.sequence(cc.skewTo(.21,45,45),cc.skewTo(.21,0,0))),t.runAction(cc.scaleTo(.35,.6)),t.runAction(cc.sequence(cc.delayTime(.7),cc.scaleTo(.1,.55),cc.scaleTo(.1,.6),cc.delayTime(.1),cc.callFunc(function(){t.destroy()})))})))})))}),[4,util.game.delay(2e3,this.node,e)]):[3,2];case 1:return r.sent(),this.accumilatedBar.updateProgress(o.c/o.tc),this.coinBonusController.updateUserBalance(o.w),this.coinBonusController.coinLabel.node.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),[3,4];case 2:return[4,util.game.delay(100,this.node,e).catch(function(e){})];case 3:r.sent(),r.label=4;case 4:return[3,6];case 5:return r.sent(),e(),[3,6];case 6:return[2]}})})})},t.prototype.handleFreeSpin=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){return t.spinResult.freeSpin?(this.freeSpin=t.spinResult.freeSpin,this.accumilatedBar.node.opacity&&this.accumilatedBar.node.runAction(cc.fadeOut(.3))):0===this.accumilatedBar.node.opacity&&this.accumilatedBar.node.runAction(cc.fadeIn(.3)),e.prototype.handleFreeSpin.call(this,t),this.handleStickyWild(t.spinResult.mat[0]),t.freeSpin&&0==t.freeSpin.c&&this.destroyStickyWild(),[2]})})},t.prototype.handleStickyWild=function(e){var t=e.split(",").reduce(function(e,t,o){return"sw"===t?e.concat([o]):e},[]);(t=t.map(function(e,t){return{x:e/6|0,y:e%6,index:e}})).length&&this.showStickyWild(t)},t.prototype.showStickyWild=function(e){var t=this,o=this.reelController[0]._listItem.slice(1);e.map(function(e){return{index:e.index,slotItem:o[e.x][e.y]}}).forEach(function(e){if(!(t.stickyList.map(function(e){return e.index}).indexOf(e.index)>=0)){var o=new cc.Node("sticky");o.addComponent(cc.Sprite).spriteFrame=e.slotItem.mainItemSprite.spriteFrame;var n=new cc.Node("borderSticky");n.addComponent(cc.Sprite).spriteFrame=t.resourceController.getSprite(t.resourceController.spriteListName.subItem.wildBorder.split("/").pop());var i=t.stickyWildContainer.convertToWorldSpaceAR(cc.v2(0,0)),r=e.slotItem.node.convertToWorldSpaceAR(cc.v2(0,0));n.parent=t.stickyWildContainer,n.setPosition(r.sub(i)),o.parent=n,t.stickyList.push({index:e.index,node:n})}}),game.log(this.stickyList)},t.prototype.destroyStickyWild=function(){this.stickyList.forEach(function(e){e.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.node.destroy()})))}),this.stickyList=[]},t.prototype.handleBonus=function(e){this.playBonus(e.spinResult.score.sum[2])},t.prototype.playBonus=function(e){var t=e.mul,o=e.mulArr,n=e.w;return __awaiter(this,void 0,void 0,function(){var e,i,r;return __generator(this,function(a){switch(a.label){case 0:return e=cc.find("Canvas"),i=cc.instantiate(this.miniGame),(r=i.getComponent("MinigameController1"))._slotController=this,i.x=cc.winSize.width,i.opacity=0,i.zIndex=define.zIndex.MINIGAME,i.parent=e,[4,r.startMiniGame(t,o,n)];case 1:return a.sent(),i.parent=void 0,this.bonusNode=i,this.checkShowBonusDialog(),[2]}})})},__decorate([l(r.default)],t.prototype,"accumilatedBar",void 0),__decorate([l(cc.Label)],t.prototype,"coinBonusLabel",void 0),__decorate([l(cc.Integer)],t.prototype,"coinBonusLerp",void 0),__decorate([l(cc.Node)],t.prototype,"originalCoin",void 0),__decorate([l(cc.Node)],t.prototype,"stickyWildContainer",void 0),__decorate([l(cc.Prefab)],t.prototype,"miniGame",void 0),__decorate([l(n.default)],t.prototype,"resourceController",void 0),t=__decorate([c],t)}(i.default);o.default=u,cc._RF.pop()},{"../../../scripts/Components/CoinLabel":"CoinLabel","../../../scripts/Slots/SlotController":"SlotController","./AccumulatedBar1":"AccumulatedBar1","./ResourceController1":"ResourceController1"}],SlotController2:[function(e,t,o){"use strict";cc._RF.push(t,"fc160JMdmFJoLP26bXfNzO3","SlotController2"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ResourceController2"),i=e("../../../scripts/Slots/SlotController"),r=e("./AccumulatedBar2"),a=e("../../../scripts/Components/CoinLabel"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.accumilatedBar=null,t.coinBonusLabel=null,t.coinBonusLerp=5,t.stickyWildContainer=null,t.originalCoin=null,t.miniGame=null,t.particleCoinBonus=null,t.lightCoin=null,t.resourceController=null,t.coinBonus=0,t.coinBonusController=null,t.stickyList=[],t}return __extends(t,e),t.prototype.startSlot=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(o){switch(o.label){case 0:return this.coinBonusController=new a.default(this.coinBonusLabel,this.coinBonusLerp,"$"),e.prototype.startSlot.call(this),this.dataStatus.bonus?this.dataStatus.bonus.w?(this.bonus=!0,controller.ui.showModel(),game.log("start load bonus"),[4,this.playBonus(this.dataStatus.bonus)]):[3,2]:[3,2];case 1:o.sent(),controller.ui.hideModel(),o.label=2;case 2:return setTimeout(function(){t.accumilatedBar.updateProgress(t.dataStatus.collect.c/t.dataStatus.collect.tc),t.coinBonus=t.dataStatus.collect.w,t.coinBonusController.updateUserBalance(t.coinBonus,{lerpRatio:10}),t.dataStatus.freeSpin.c>0&&(setTimeout(function(){t.accumilatedBar.node.runAction(cc.fadeOut(.4))},200),t.handleStickyWild(t.dataStatus.lastmat))},200),this.dataStatus.bonus,[2]}})})},t.prototype.loadBorderRes=function(){var e=this;this.resourceController.getListItemBorder().forEach(function(t){var o={id:t.id,img:t.img};e._listBorderImg.push(o)})},t.prototype.getAnimationController=function(){this.animationController=this.node.getComponent("AnimationController")},t.prototype.handleCollectCoin=function(e){var t=this,o=e.features.collect;return new Promise(function(e,n){var i=[];t.reelController[0]._listItem.slice(1).forEach(function(e){e.forEach(function(e){"c"===e.id&&i.push(e)})}),i.length?(i.forEach(function(e){var o=new cc.Node("coin"),n=new cc.Node("coin"),i=t.originalCoin.parent.convertToWorldSpaceAR(cc.v2(0,0)),r=e.node.convertToWorldSpaceAR(cc.v2(0,0));o.addComponent(cc.Sprite),n.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=t.resourceController.getSprite(t.resourceController.spriteListName.subItem.coin.split("/").pop()),n.getComponent(cc.Sprite).spriteFrame=t.resourceController.getSprite(t.resourceController.spriteListName.item.c.split("/").pop()),e.mainItem.getComponent(cc.Sprite).spriteFrame=t.resourceController.getSprite(t.resourceController.spriteListName.subItem.coinGray.split("/").pop()),n.parent=e.node,n.setPosition(0,0),e.node.getComponentInChildren(cc.Label).node.zIndex=2,n.runAction(cc.sequence(cc.fadeOut(.6),cc.callFunc(function(){n.destroy(),o.parent=t.originalCoin.parent,o.setPosition(r.x-i.x,r.y-i.y+2),o.opacity=0,o.runAction(cc.fadeIn(.2))}),cc.callFunc(function(){o.runAction(cc.sequence(cc.scaleTo(.5,1.2),cc.callFunc(function(){o.runAction(cc.moveTo(.7,t.originalCoin.getPosition())),o.runAction(cc.sequence(cc.skewTo(.21,45,45),cc.skewTo(.21,0,0))),o.runAction(cc.scaleTo(.35,.6)),o.runAction(cc.sequence(cc.delayTime(.7),cc.scaleTo(.1,.55),cc.scaleTo(.1,.6),cc.delayTime(.1),cc.callFunc(function(){o.destroy()})))})))})))}),setTimeout(function(){t.accumilatedBar.updateProgress(o.c/o.tc),t.coinBonusController.updateUserBalance(o.w,{lerpRatio:10}),t.coinBonusController.coinLabel.node.runAction(cc.sequence(cc.callFunc(function(){t.lightCoin.getComponent(cc.Animation).play(),t.particleCoin()}),cc.scaleTo(.2,1.2),cc.scaleTo(.2,1))),e()},2e3)):setTimeout(function(){return e()},100)})},t.prototype.handleFreeSpin=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){return t.spinResult.freeSpin?(this.freeSpin=t.spinResult.freeSpin,this.accumilatedBar.node.opacity&&this.accumilatedBar.node.runAction(cc.fadeOut(.3))):0===this.accumilatedBar.node.opacity&&this.accumilatedBar.node.runAction(cc.fadeIn(.3)),e.prototype.handleFreeSpin.call(this,t),this.handleStickyWild(t.spinResult.mat[0]),t.freeSpin&&0==t.freeSpin.c&&this.destroyStickyWild(),[2]})})},t.prototype.handleStickyWild=function(e){var t=e.split(",").reduce(function(e,t,o){return"sw"===t?e.concat([o]):e},[]);(t=t.map(function(e,t){return{x:e/6|0,y:e%6,index:e}})).length&&this.showStickyWild(t)},t.prototype.showStickyWild=function(e){var t=this,o=this.reelController[0]._listItem.slice(1);e.map(function(e){return{index:e.index,slotItem:o[e.x][e.y]}}).forEach(function(e){if(!(t.stickyList.map(function(e){return e.index}).indexOf(e.index)>=0)){var o=new cc.Node("sticky");o.addComponent(cc.Sprite),o.getComponent(cc.Sprite).spriteFrame=e.slotItem.mainItemSprite.spriteFrame;var n=new cc.Node("borderSticky");n.addComponent(cc.Sprite),n.getComponent(cc.Sprite).spriteFrame=t.resourceController.getSprite(t.resourceController.spriteListName.subItem.wildBorder.split("/").pop());var i=t.stickyWildContainer.convertToWorldSpaceAR(cc.v2(0,0)),r=e.slotItem.node.convertToWorldSpaceAR(cc.v2(0,0));n.parent=t.stickyWildContainer,n.setPosition(r.sub(i)),o.parent=n,t.stickyList.push({index:e.index,node:n})}})},t.prototype.destroyStickyWild=function(){this.stickyList.forEach(function(e){e.node.runAction(cc.sequence(cc.fadeOut(.3),cc.callFunc(function(){e.node.destroy()})))}),this.stickyList=[]},t.prototype.handleBonus=function(e){this.playBonus(e.spinResult.score.sum[2])},t.prototype.playBonus=function(e){var t=e.mul,o=e.mulArr,n=e.w;return __awaiter(this,void 0,void 0,function(){var e,i,r;return __generator(this,function(a){switch(a.label){case 0:return e=cc.find("Canvas"),i=cc.instantiate(this.miniGame),(r=i.getComponent("MinigameController2"))._slotController=this,i.x=cc.winSize.width,i.opacity=0,i.zIndex=define.zIndex.MINIGAME,i.parent=e,view.screen.bonus=r,[4,r.startMiniGame(t,o,n)];case 1:return a.sent(),i.parent=void 0,this.bonusNode=i,this.checkShowBonusDialog(),[2]}})})},t.prototype.particleCoin=function(){var e=this;this.particleCoinBonus.active=!0,setTimeout(function(){e.particleCoinBonus.active=!1},1500)},__decorate([l(r.default)],t.prototype,"accumilatedBar",void 0),__decorate([l(cc.Label)],t.prototype,"coinBonusLabel",void 0),__decorate([l(cc.Integer)],t.prototype,"coinBonusLerp",void 0),__decorate([l(cc.Node)],t.prototype,"stickyWildContainer",void 0),__decorate([l(cc.Node)],t.prototype,"originalCoin",void 0),__decorate([l(cc.Prefab)],t.prototype,"miniGame",void 0),__decorate([l(cc.Node)],t.prototype,"particleCoinBonus",void 0),__decorate([l(cc.Node)],t.prototype,"lightCoin",void 0),__decorate([l(n.default)],t.prototype,"resourceController",void 0),t=__decorate([c],t)}(i.default);o.default=u,cc._RF.pop()},{"../../../scripts/Components/CoinLabel":"CoinLabel","../../../scripts/Slots/SlotController":"SlotController","./AccumulatedBar2":"AccumulatedBar2","./ResourceController2":"ResourceController2"}],SlotController3:[function(e,t,o){"use strict";cc._RF.push(t,"cece9ZRt9ZL/br9ZC/R4Bml","SlotController3"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=e("../../../scripts/Slots/SlotController"),s=e("./ResourceController3"),c=e("../../../scripts/Slots/Item"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.miniGamePrefab=null,t.resourceController=null,t.listItemSkeleton={b:"bonus",s:"scatter",w:"wild",0:"quabingo",1:"quacachua",2:"quaduahau",3:"quadua",4:"quaoi",5:"quathanglong",6:"conbo",7:"concho",8:"conde"},t}return __extends(t,e),t.prototype.startSlot=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e.prototype.startSlot.call(this),this.dataStatus.bonus?this.dataStatus.bonus.w?(this.bonus=!0,controller.ui.showModel(),[4,util.game.delay(200)]):[3,3]:[3,3];case 1:return t.sent(),game.log("start load bonus"),[4,this.playBonus(this.dataStatus.bonus)];case 2:t.sent(),controller.ui.hideModel(),t.label=3;case 3:return[2]}})})},t.prototype.loadItemRes=function(){var e=this,t=this.resourceController.skeletonList.item_spine;Object.keys(this.listItemSkeleton).forEach(function(o){var n=new c.default;n.setInfo(o,null,t),e._listItemData.push(n)})},t.prototype.playBonus=function(e){var t=e.c,o=e.w,n=e.arr;return __awaiter(this,void 0,void 0,function(){var e,i,r;return __generator(this,function(a){switch(a.label){case 0:return e=cc.find("Canvas"),i=cc.instantiate(this.miniGamePrefab),(r=i.getComponent("MinigameController3"))._slotController=this,i.x=cc.winSize.width,i.opacity=0,i.zIndex=define.zIndex.MINIGAME,i.parent=e,[4,r.startMiniGame(t,o,n)];case 1:return a.sent(),[4,util.game.delay(1500)];case 2:return a.sent(),i.parent=void 0,this.bonusNode=i,this.checkShowBonusDialog(),[2]}})})},t.prototype.handleBonus=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return controller.ui.showModel(),[4,this.playBonus(e.spinResult.score.sum[2])];case 1:return t.sent(),controller.ui.hideModel(),[2]}})})},__decorate([r(cc.Prefab)],t.prototype,"miniGamePrefab",void 0),__decorate([r(s.default)],t.prototype,"resourceController",void 0),t=__decorate([i],t)}(a.default);o.default=l,cc._RF.pop()},{"../../../scripts/Slots/Item":"Item","../../../scripts/Slots/SlotController":"SlotController","./ResourceController3":"ResourceController3"}],SlotController4:[function(e,t,o){"use strict";cc._RF.push(t,"7a7534/6fZKq6oRk2EwSkCp","SlotController4"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./ResourceController4"),i=e("../../../scripts/Slots/SlotController"),r=e("./AtributeStatic"),a=e("../../../scripts/Components/CoinLabel"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.minigamePrefab=null,t.betNode=null,t.itemsContainer=null,t.activeBet=null,t.lockBet=null,t.tableGold=null,t.resourceController=null,t.grandLabel=null,t.majorLabel=null,t.miniLabel=null,t.minorLabel=null,t._listItemSelectData=[],t._listItemSelectImg=[],t._betValue=0,t.betLevels=[],t.idEventBet="",t.jackpots=[],t.baseJP=[],t._listGoldItem=[],t.coinGrand=null,t.coinMajor=null,t.coinMinor=null,t.coinMini=null,t.betId=4,t.isSelect=!1,t.listJP=[],t}return __extends(t,e),t.prototype.startSlot=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e.prototype.startSlot.call(this),this.coinGrand=new a.default(this.grandLabel.getComponent(cc.Label),9),this.coinMajor=new a.default(this.majorLabel.getComponent(cc.Label),9),this.coinMinor=new a.default(this.minorLabel.getComponent(cc.Label),9),this.coinMini=new a.default(this.miniLabel.getComponent(cc.Label),9),this.getLableJackpot(this.currentBet,this.jackpots),this.getListItemGold(),this.updateActiveGold(this.dataStatus.lastBet),this.dataStatus.bonus?(this.bonus=!0,game.log("you get a bonus"),[4,this.playBonus(this.dataStatus.bonus)]):[3,2];case 1:return t.sent(),[3,5];case 2:return this.dataStatus.freeSpin.c>0?(this.betNode.active=!1,[3,5]):[3,3];case 3:return[4,this.showActiveBetNode(!0)];case 4:t.sent(),t.label=5;case 5:return[2]}})})},t.prototype.showBet=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return controller.ui.lockBar(),this.dataStatus.freeSpin.c>0?(this.activeBet.active=!1,this.lockBet.active=!0,this.betNode.active=!1,[3,3]):[3,1];case 1:return[4,util.game.delay(400)];case 2:e.sent(),this.showActiveBetNode(!0),e.label=3;case 3:return[2]}})})},t.prototype.showActiveBetNode=function(e){var t=this;e?controller.ui.lockBar():controller.ui.unlockBar(),this.betNode.opacity=0,this.betNode.active=e,this.betNode.runAction(cc.sequence([cc.scaleTo(0,.1),cc.callFunc(function(){t.betNode.opacity=255}),cc.scaleTo(.3,1)]))},t.prototype.getBetId=function(e,t){var o=this;this.betId=t,r.default.idBetSelect=this.betId.toString(),this.itemsContainer.children[t].children[1].addComponent(cc.Sprite),this.itemsContainer.children[t].children[1].getComponent(cc.Sprite).spriteFrame=this.resourceController.spriteList.find(function(e){return e.name==o.resourceController.spriteListName.borderBet[0].split("/").pop()}),this.itemsContainer.children[t].children[1].active=!0,this.itemsContainer.children.forEach(function(e,o){o!=t&&(e.children[1].active=!1)}),this.isSelect=!0,setTimeout(function(){return o.betNode.runAction(cc.sequence([cc.scaleTo(.2,.1),cc.callFunc(function(){o.betNode.active=!1,o.itemsContainer.children[t].children[1].active=!1})]))},500),this.activeBet.active=!0,this.lockBet.active=!1,controller.ui.unlockBar(),this.getCurrentBet(t),this.showActiveGoldItem(),this.updateActiveGold(this.betLevels[t])},t.prototype.getListItemGold=function(){this._listGoldItem=this.tableGold.children},t.prototype.showActiveGoldItem=function(){switch(this.betId){case 0:this._listGoldItem.forEach(function(e,t){e.name<"05"?e.opacity=128:e.opacity=255});break;case 1:this._listGoldItem.forEach(function(e){e.name<"04"?e.opacity=128:e.opacity=255});break;case 2:this._listGoldItem.forEach(function(e){e.name<"03"?e.opacity=128:e.opacity=255});break;case 3:this._listGoldItem.forEach(function(e){e.name<"02"?e.opacity=128:e.opacity=255});break;case 4:this._listGoldItem.forEach(function(e){e.opacity=255});break;default:return this._listGoldItem.forEach(function(e){e.opacity=255}),void game.log("default")}},t.prototype.playBonus=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,n;return __generator(this,function(i){switch(i.label){case 0:return r.default.idJackpot=e[e.length-1],t=cc.find("Canvas"),o=cc.instantiate(this.minigamePrefab),(n=o.getComponent("MinigameController4"))._slotController=this,o.x=cc.winSize.width,o.opacity=0,o.zIndex=define.zIndex.MINIGAME,o.parent=t,[4,n.startMiniGame(e,this.grandLabel,this.majorLabel,this.minorLabel,this.miniLabel)];case 1:return i.sent(),o.parent=void 0,this.bonusNode=o,this.checkShowBonusDialog(),[2]}})})},t.prototype.loadBorderRes=function(){var e=this;this.resourceController.getListItemBorder().forEach(function(t){var o={id:t.id,img:t.img};e._listBorderImg.push(o)})},t.prototype.importData=function(){this.betArray=this.dataStatus.betArr,this.betLevels=this.dataStatus.betLevels,this.jackpots=this.dataStatus.jackpots,this.currentBet=this.dataStatus.lastBet,this.baseJP=this.dataStatus.baseJP,this.bonus=this.dataStatus.bonus,view.bar.bottom.gameBar.updateInfo()},t.prototype.updateJackpot=function(e,t,o){return e*t+o},t.prototype.getLableJackpot=function(e,t){this.listJP=[this.updateJackpot(this.baseJP[0],e,t[0]),this.updateJackpot(this.baseJP[1],e,t[1]),this.updateJackpot(this.baseJP[2],e,t[2]),this.updateJackpot(this.baseJP[3],e,t[3])],this.grandLabel.string=util.string.formatMoney(this.listJP[0]),this.majorLabel.string=util.string.formatMoney(this.listJP[1]),this.minorLabel.string=util.string.formatMoney(this.listJP[2]),this.miniLabel.string=util.string.formatMoney(this.listJP[3]),this.coinGrand.updateUserBalance(this.listJP[0]),this.coinMajor.updateUserBalance(this.listJP[1]),this.coinMinor.updateUserBalance(this.listJP[2]),this.coinMini.updateUserBalance(this.listJP[3])},t.prototype.updateActiveGold=function(e){new r.default;e>=this.betLevels[4]?this.betId=4:e>=this.betLevels[3]?this.betId=3:e>=this.betLevels[2]?this.betId=2:e>=this.betLevels[1]?this.betId=1:this.betId=0,this.showActiveGoldItem(),view.bar.bottom.gameBar.updateInfo()},t.prototype.getCurrentBet=function(e){var t=this.betLevels[e];this.updateCurrentBet(t),view.bar.bottom.gameBar.updateInfo()},t.prototype.updateCurrentBet=function(e){this.currentBet=e,this.updateActiveGold(e),this.getLableJackpot(e,this.jackpots)},t.prototype.watchEvent=function(e){switch(this.lockBet.active=!0,this.activeBet.active=!1,e.spinResult.score.reward>0&&(e.spinResult.score.sum[1].c=1),e.type){case api.key.SLOT_SPIN:"string"==typeof e.spinResult.mat&&(e.spinResult.mat=[e.spinResult.mat]),this.dataSpin=e,this.isReceivedData=!0,this.reelController.forEach(function(t,o){t._listItem.forEach(function(t){t.forEach(function(t){t.getComponent("SlotItem").setMatrixEnd(e.spinResult.mat[o].split(","))})})}),this.isSpin||this.spin(e),this.lastWin=e.spinResult.score.reward,this.getLableJackpot(this.currentBet,this.dataSpin.features.jackpots)}this.updateStatus(e)},t.prototype.handleBonus=function(e){this.playBonus(e.spinResult.score.sum[2].arr)},t.prototype.handleCollectCoin=function(e){e.freeSpin.c>0||(this.activeBet.active=!0,this.lockBet.active=!1)},t.prototype.hideContent=function(){1==this.betNode.active&&(this.betNode.active=!1,this.isSelect=!1)},t.prototype.showContent=function(){var e=this;this.betNode.active=!this.isSelect,1==this.betNode.active&&this.betNode.runAction(cc.sequence([cc.scaleTo(0,.1),cc.callFunc(function(){e.betNode.opacity=255}),cc.scaleTo(.3,1)]))},__decorate([l(cc.Prefab)],t.prototype,"minigamePrefab",void 0),__decorate([l(cc.Node)],t.prototype,"betNode",void 0),__decorate([l(cc.Node)],t.prototype,"itemsContainer",void 0),__decorate([l(cc.Node)],t.prototype,"activeBet",void 0),__decorate([l(cc.Node)],t.prototype,"lockBet",void 0),__decorate([l(cc.Node)],t.prototype,"tableGold",void 0),__decorate([l(n.default)],t.prototype,"resourceController",void 0),__decorate([l(cc.Label)],t.prototype,"grandLabel",void 0),__decorate([l(cc.Label)],t.prototype,"majorLabel",void 0),__decorate([l(cc.Label)],t.prototype,"miniLabel",void 0),__decorate([l(cc.Label)],t.prototype,"minorLabel",void 0),t=__decorate([c],t)}(i.default);o.default=u,cc._RF.pop()},{"../../../scripts/Components/CoinLabel":"CoinLabel","../../../scripts/Slots/SlotController":"SlotController","./AtributeStatic":"AtributeStatic","./ResourceController4":"ResourceController4"}],SlotController5:[function(e,t,o){"use strict";cc._RF.push(t,"eaf93LzNJxMZpSfPcUbAmxZ","SlotController5"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=e("../../../scripts/Slots/SlotController"),s=e("./ResourceController5"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.miniGamePrefab=null,t.resourceController=null,t}return __extends(t,e),t.prototype.startSlot=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.prototype.startSlot.call(this)];case 1:return t.sent(),this.dataStatus.bonus?this.dataStatus.bonus.arr?(this.bonus=!0,controller.ui.showModel(),[4,util.game.delay(500)]):[3,4]:[3,4];case 2:return t.sent(),game.log("start load bonus"),[4,this.playBonus(this.dataStatus.bonus.arr,this.dataStatus.lastBet)];case 3:t.sent(),controller.ui.hideModel(),t.label=4;case 4:return[2]}})})},t.prototype.loadBorderRes=function(){var e=this;this.resourceController.getListItemBorder().forEach(function(t){var o={id:t.id,img:t.img};e._listBorderImg.push(o)})},t.prototype.playBonus=function(e,t){return __awaiter(this,void 0,void 0,function(){var o,n,i;return __generator(this,function(r){switch(r.label){case 0:return o=cc.find("Canvas"),n=cc.instantiate(this.miniGamePrefab),(i=n.getComponent("MinigameController5"))._slotController=this,n.x=cc.winSize.width,n.opacity=0,n.zIndex=define.zIndex.MINIGAME,n.parent=o,[4,i.startMiniGame(e,t)];case 1:return r.sent(),n.parent=void 0,this.bonusNode=n,this.checkShowBonusDialog(),[2]}})})},t.prototype.handleBonus=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return controller.ui.showModel(),[4,this.playBonus(e.spinResult.score.sum[2].arr,e.spinResult.totalBet)];case 1:return t.sent(),controller.ui.hideModel(),[2]}})})},__decorate([r(cc.Prefab)],t.prototype,"miniGamePrefab",void 0),__decorate([r(s.default)],t.prototype,"resourceController",void 0),t=__decorate([i],t)}(a.default);o.default=c,cc._RF.pop()},{"../../../scripts/Slots/SlotController":"SlotController","./ResourceController5":"ResourceController5"}],SlotController6:[function(e,t,o){"use strict";cc._RF.push(t,"2e376b7L2JH7KulVgAzoW8a","SlotController6"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=e("../../../scripts/Slots/SlotController"),s=e("./ResourceController6"),c=e("./Minigame/MinigameController6"),l=e("../../../scripts/Slots/LinesController"),u=e("../../../scripts/Slots/Item"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.miniGamePrefab=null,t.resourceController=null,t.denLong=null,t.originalBackground=null,t.bonusBackground=null,t.listItemSkeleton={b:"bonus",w:"wild",0:"ngocboi",1:"tuitien",2:"binhruou",3:"caitrong",4:"ngocbua",5:"khobau",6:"a",7:"k",8:"q",9:"j"},t}return __extends(t,e),t.prototype.startSlot=function(t){var o=this;if(t)return this.tableView.children.forEach(function(e){"LinesController"!=e.name&&e.destroy()}),void setTimeout(function(){e.prototype.startSlot.call(o)},0);this.dataStatus.freeReelGame&&!this.dataStatus.freeReelGame.userSpined&&(this.bonus=!0,this.playBonus(this.dataStatus.freeReelGame.gameCount,this.dataStatus.freeReelGame.stickyWildReels,this.dataStatus.freeReelGame.extraSpin)),this.originalBackground=this.resourceController.spriteList.find(function(e){return"bg_game_02"==e.name}),this.bonusBackground=this.resourceController.spriteList.find(function(e){return"bonus_game_bg"==e.name}),e.prototype.startSlot.call(this)},t.prototype.loadItemRes=function(){var e=this,t=this.resourceController.skeletonList.item_spine;Object.keys(this.listItemSkeleton).forEach(function(o){var n=new u.default;n.setInfo(o,null,t),e._listItemData.push(n)})},t.prototype.initState=function(){var t=this;e.prototype.initState.call(this),this.dataStatus.freeSpin.c>0&&this.dataStatus.freeReelGame.userSpined&&(game.log("init reel"),this.initReel(this.dataStatus.freeReelGame.gameCount)),this.reelController.forEach(function(e){return e.linesController.init(t)})},t.prototype.initReel=function(e){var t=this;switch(void 0===e&&(e=1),this.reelController=Array(e).fill(0).map(function(o,n){var i,r;if(n>0){var a=cc.instantiate(t.tableView.parent);if(a.parent=t.tableView.parent.parent,(i=a.getChildByName("table-view")).children.length)(r=i.getComponentInChildren(l.default)).node.parent=i;else{var s=new cc.Node("LinesController");s.parent=i,r=s.addComponent(l.default)}r.tableView=i}else i=t.tableView,r=t.node.getComponentInChildren(l.default);if(e>1){var c=t.reelController[0].tableView.parent.getChildByName("slot-background");c.getComponent(cc.Sprite).spriteFrame=t.bonusBackground,c.y=10,t.denLong.active=!1}return{tableView:i,linesController:r}}),e){case 1:this.reelController[0].tableView.parent.scale=1,this.reelController[0].tableView.parent.setPosition(0,15);break;case 2:this.reelController.forEach(function(e){return e.tableView.parent.scale=.55}),this.reelController[0].tableView.parent.setPosition(-250,10),this.reelController[1].tableView.parent.setPosition(250,10);break;case 3:this.reelController.forEach(function(e){return e.tableView.parent.scale=.43}),this.reelController[0].tableView.parent.setPosition(0,130),this.reelController[1].tableView.parent.setPosition(-200,-135),this.reelController[2].tableView.parent.setPosition(200,-135);break;case 4:this.reelController.forEach(function(e){return e.tableView.parent.scale=.41}),this.reelController[0].tableView.parent.setPosition(-190,140),this.reelController[1].tableView.parent.setPosition(190,140),this.reelController[2].tableView.parent.setPosition(-190,-135),this.reelController[3].tableView.parent.setPosition(190,-135)}},t.prototype.deleteSubReels=function(){this.reelController.forEach(function(e,t){0!=t&&(e.tableView.parent.destroy(),e.linesController.destroy())}),this.reelController=[this.reelController[0]],this.reelController[0].tableView.parent.scale=1,this.reelController[0].tableView.parent.setPosition(0,0);var e=this.reelController[0].tableView.parent.getChildByName("slot-background");e.getComponent(cc.Sprite).spriteFrame=this.originalBackground,e.y=0,this.denLong.active=!0,this.dataStatus.freeSpin=null},t.prototype.playBonus=function(e,t,o){var n=cc.find("Canvas"),i=cc.instantiate(this.miniGamePrefab),r=i.getComponent(c.default);r._slotController=this,i.x=cc.winSize.width,i.opacity=0,i.zIndex=define.zIndex.MINIGAME,i.parent=n,r.startMinigame(e,t,o),i.parent=void 0,this.bonusNode=i,this.checkShowBonusDialog(function(){r.setPosition()})},t.prototype.handleBonus=function(e){var t=e.features.freeReelGame;return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return controller.ui.showModel(),[4,this.playBonus(t.gameCount,t.stickyWildReels,t.extraSpin)];case 1:return e.sent(),controller.ui.hideModel(),this.isSpin=!1,[2]}})})},t.prototype.handleFreeSpin=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return[4,e.prototype.handleFreeSpin.call(this,t)];case 1:return o.sent(),(!t.freeSpin||t.freeSpin.c<1)&&this.deleteSubReels(),[2]}})})},t.prototype.watchEvent=function(t){t.features.freeReelGame&&t.features.freeReelGame.userSpined&&(t.spinResult.mat=t.features.freeReelGameResult.map(function(e){return e.matstr})),e.prototype.watchEvent.call(this,t)},__decorate([r(cc.Prefab)],t.prototype,"miniGamePrefab",void 0),__decorate([r(s.default)],t.prototype,"resourceController",void 0),__decorate([r(cc.Node)],t.prototype,"denLong",void 0),t=__decorate([i],t)}(a.default);o.default=p,cc._RF.pop()},{"../../../scripts/Slots/Item":"Item","../../../scripts/Slots/LinesController":"LinesController","../../../scripts/Slots/SlotController":"SlotController","./Minigame/MinigameController6":"MinigameController6","./ResourceController6":"ResourceController6"}],SlotController7:[function(e,t,o){"use strict";cc._RF.push(t,"ffc09fygINLyIuWrcreDebd","SlotController7"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=e("../../../scripts/Slots/SlotController"),s=e("./ResourceController7"),c=e("../../../scripts/Components/CoinLabel"),l=e("../../../scripts/Slots/Item"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.miniGamePrefab=null,t.resourceController=null,t.lbReward=[],t.review=null,t.activeReel=null,t.reelsColor=null,t.overlay=null,t.reel=null,t.Lockreels=null,t.rewardWin=null,t._listItem=[],t.reels=5,t.reward=[[12,18,50,250],[8,12,30,160],[6,9,25,125],[4,6,15,80],[3,5,12,60]],t.totalB=0,t.listItemSkeleton={k:"caikhien",s:"trungchim",w:"longchim",0:"thanhkiem",1:"conheongu",2:"chimmaudo",3:"khoibang",4:"conheongoc",5:"nine",6:"ten",7:"j",8:"q",9:"k",10:"a"},t}return __extends(t,e),t.prototype.startSlot=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e.prototype.startSlot.call(this),localStorage.getItem("review")?localStorage.setItem("review",""+(parseInt(localStorage.getItem("review"))+1)):localStorage.setItem("review","1"),parseInt(localStorage.getItem("review"))<4?[4,this.showReview()]:[3,2];case 1:return t.sent(),[3,4];case 2:return[4,this.showActiveReel()];case 3:t.sent(),t.label=4;case 4:return this.dataStatus.lastReels>0&&this.activeSpriteFrame(this.dataStatus.lastReels),this.dataStatus.bonus?(this.bonus=!0,controller.ui.showModel(),[4,util.game.delay(200)]):[3,7];case 5:return t.sent(),game.log("start load bonus"),[4,this.playBonus(this.dataStatus.bonus)];case 6:t.sent(),controller.ui.hideModel(),t.label=7;case 7:return this.rewardFormat(),[4,util.game.delay(400)];case 8:return t.sent(),[2]}})})},t.prototype.showReview=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.dataStatus.freeSpin.c>0?(this.reel.active=!1,this.Lockreels.active=!0,[3,3]):[3,1];case 1:return view.bar.bottom.lock(),[4,util.game.delay(400)];case 2:if(t.sent(),this.overlay.active=!0,this.review.opacity=0,this.review.active=!0,!this||!this.overlay||!this.review)return[2];this.review.runAction(cc.sequence([cc.scaleTo(0,.1),cc.callFunc(function(){return e.review.opacity=255}),cc.scaleTo(.3,1),cc.callFunc(function(){setTimeout(function(){view.screen.slot&&e.review&&e.review.runAction(cc.sequence([cc.fadeOut(.2),cc.callFunc(function(){e.review.active=!1,e.overlay.active=!1,e.showActiveReel()})]))},4e3)})])),t.label=3;case 3:return[2]}})})},t.prototype.loadItemRes=function(){var e=this,t=this.resourceController.skeletonList.item_spine;Object.keys(this.listItemSkeleton).forEach(function(o){var n=new l.default;n.setInfo(o,null,t),e._listItemData.push(n)})},t.prototype.watchEvent=function(t){this.reel.active=!1,this.Lockreels.active=!0,t.freeSpin.c>=0&&t.freeSpin.b>0&&(t.spinResult.newMat=t.spinResult.mat,t.spinResult.mat=t.features.oldMat),e.prototype.watchEvent.call(this,t)},t.prototype.listItemFormat=function(){var e=this;this._listItem=[[],[],[],[],[]],this.reelController.forEach(function(t){t._listItem.forEach(function(t){for(var o=0;o<5;o++)e._listItem[o].push(t[o])})})},t.prototype.showActiveReel=function(){var e=this;view.bar.bottom.lock(),this.overlay.active=!0,this.activeReel.opacity=0,this.activeReel.active=!0,this.activeReel.runAction(cc.sequence([cc.scaleTo(0,.1),cc.callFunc(function(){return e.activeReel.opacity=255}),cc.scaleTo(.3,1)]))},t.prototype.activeColumn=function(e,t){var o=this;this.reels=t,game.log("Sent "+this.reels),this.activeReel.runAction(cc.sequence([cc.scaleTo(.2,.1),cc.callFunc(function(){return o.activeReel.active=!1})])),this.activeSpriteFrame(t),view.bar.bottom.unlock(),this.overlay.active=!1},t.prototype.activeSpriteFrame=function(e){var t=this;this.reelsColor.getComponent(cc.Sprite).spriteFrame=this.resourceController.spriteList.find(function(o){return o.name==t.resourceController.spriteListName.reelColor[e].split("/").pop()}),this.reel.children[0].getComponent(cc.Sprite).spriteFrame=this.resourceController.spriteList.find(function(o){return o.name==t.resourceController.spriteListName.activeReels[e].split("/").pop()}),this.Lockreels.children[0].getComponent(cc.Sprite).spriteFrame=this.resourceController.spriteList.find(function(o){return o.name==t.resourceController.spriteListName.lockReels[e].split("/").pop()}),this.rewardFormat()},t.prototype.spin=function(e){if(this.currentBet>game.user.balance)return this.autoSpinTimes=0,void game.log("User do not have enough coin to spin ...");this.isSpin=!0,this.isReceivedData=!!e,e||api.sendGD({e:api.key.SLOT_SPIN,gtype:this.gameId,totalbet:this.currentBet,choosedReels:this.reels},function(e,t){game.log("callback",t)}),this.listItemFormat(),this.timeManager(),this.activeColumn(void 0,this.reels)},t.prototype.playBonus=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,n;return __generator(this,function(i){switch(i.label){case 0:return t=cc.find("Canvas"),o=cc.instantiate(this.miniGamePrefab),(n=o.getComponent("MinigameController7"))._slotController=this,o.x=cc.winSize.width,o.opacity=0,o.zIndex=define.zIndex.MINIGAME,o.parent=t,[4,n.startMiniGame(e)];case 1:return i.sent(),o.zIndex=3,o.parent=void 0,this.bonusNode=o,this.checkShowBonusDialog(),[2]}})})},t.prototype.updateCurrentBet=function(t){this.totalB=t,this.rewardFormat(),e.prototype.updateCurrentBet.call(this,t)},t.prototype.rewardFormat=function(){var e=this;0==this.totalB&&(this.totalB=this.dataStatus.lastBet),this.lbReward.forEach(function(t,o){t.string=util.string.formatMoney(e.reward[e.reels-1][o]*e.totalB)})},t.prototype.handleBonus=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return controller.ui.showModel(),[4,this.playBonus(e.spinResult.score.sum[2])];case 1:return t.sent(),controller.ui.hideModel(),[2]}})})},t.prototype.handleCollectCoin=function(e){e.freeSpin.c>0||(this.reel.active=!0,this.Lockreels.active=!1)},t.prototype.totalWin=function(){return __awaiter(this,void 0,void 0,function(){var e,t=this;return __generator(this,function(o){switch(o.label){case 0:return e=[],this.dataSpin.spinResult.score.sum[6].arr.forEach(function(t){"string"==typeof t.value&&"SUPPER"!=t.value&&"WHEEL"!=t.value&&1==t.valid&&e.push(t)}),this.dataSpin.spinResult.score.sum[0].w>0&&e.unshift({value:"MEGA",valid:!0}),e.forEach(function(o,n){return setTimeout(function(){view.screen.slot&&o&&t.showJackpots(o,e.length)},4500*n)}),[4,util.game.delay(4500*e.length)];case 1:return o.sent(),[2]}})})},t.prototype.showJackpots=function(e,t){return __awaiter(this,void 0,void 0,function(){var t,o,n,i=this;return __generator(this,function(r){switch(r.label){case 0:return[4,util.game.delay(2e3)];case 1:if(r.sent(),o={0:[253,168,83],1:[102,208,38],2:[57,189,252],3:[241,57,111]},n=(t=["MINI","MINOR","MAJOR","MEGA"]).indexOf(e.value),t.includes(e.value)){if(!t||!e)return[2];if(this.rewardWin.opacity=0,this.overlay.active=!0,this.rewardWin.active=!0,!view.screen.slot||!this.rewardWin||!this)return[2];this.rewardWin.runAction(cc.sequence([cc.scaleTo(0,.1),cc.callFunc(function(){i.rewardWin.children[0].color=cc.color(o[n][0],o[n][1],o[n][2]),i.rewardWin.children[2].getComponent(cc.Sprite).spriteFrame=i.resourceController.spriteList.find(function(t){return t.name==i.resourceController.spriteListName.reward[e.value].split("/").pop()}),i.coinController=new c.default(i.rewardWin.children[3].getComponent(cc.Label),8),i.rewardWin.children[3].addComponent(cc.LabelOutline),i.coinController.updateUserBalance(i.reward[i.reels-1][n]*i.totalB),setTimeout(function(){view.screen.slot&&(i.rewardWin.active=!1,i.overlay.active=!1)},4e3)}),cc.callFunc(function(){i.rewardWin.opacity=255}),cc.scaleTo(.3,1.1),cc.scaleTo(.1,1)]))}return[2]}})})},t.prototype.hideContent=function(){e.prototype.hideContent.call(this),view.bar.bottom.unlock()},t.prototype.showContent=function(){e.prototype.showContent.call(this),game.log("Show content",view.screen.slot.id),(this.activeReel.active||this.review.active)&&view.bar.bottom.lock()},__decorate([r(cc.Prefab)],t.prototype,"miniGamePrefab",void 0),__decorate([r(s.default)],t.prototype,"resourceController",void 0),__decorate([r(cc.Label)],t.prototype,"lbReward",void 0),__decorate([r(cc.Node)],t.prototype,"review",void 0),__decorate([r(cc.Node)],t.prototype,"activeReel",void 0),__decorate([r(cc.Node)],t.prototype,"reelsColor",void 0),__decorate([r(cc.Node)],t.prototype,"overlay",void 0),__decorate([r(cc.Node)],t.prototype,"reel",void 0),__decorate([r(cc.Node)],t.prototype,"Lockreels",void 0),__decorate([r(cc.Node)],t.prototype,"rewardWin",void 0),t=__decorate([i],t)}(a.default);o.default=u,cc._RF.pop()},{"../../../scripts/Components/CoinLabel":"CoinLabel","../../../scripts/Slots/Item":"Item","../../../scripts/Slots/SlotController":"SlotController","./ResourceController7":"ResourceController7"}],SlotController8:[function(e,t,o){"use strict";cc._RF.push(t,"f8b3dAjILRFLpr6beashjl8","SlotController8"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=e("../../../scripts/Slots/SlotController"),s=e("./ResourceController8"),c=e("../../../scripts/Slots/Item"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.miniGamePrefab=null,t.resourceController=null,t.listItemSkeleton={b:"bonus",s:"scatter",w:"wild",0:"somuoi",1:"j",2:"q",3:"k",4:"gieng",5:"noi",6:"bingo",7:"daulau"},t.indexSlide8=0,t}return __extends(t,e),t.prototype.startSlot=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,e.prototype.startSlot.call(this)];case 1:return t.sent(),this?(this.dataStatus.bonus&&this.dataStatus.bonus.arr&&(this.bonus=!0,controller.ui.showModel(),this.playBonus(this.dataStatus.bonus.arr,this.dataStatus.bonus.w,this.dataStatus.bonus.res),controller.ui.hideModel()),[2]):[2]}})})},t.prototype.loadItemRes=function(){var e=this;Object.keys(this.listItemSkeleton).forEach(function(t){var o=new c.default;o.setInfo(t,null,null),e._listItemData.push(o)})},t.prototype.playBonus=function(e,t,o){var n=cc.find("Canvas"),i=cc.instantiate(this.miniGamePrefab),r=i.getComponent("MinigameController8");r._slotController=this,i.x=cc.winSize.width,i.opacity=0,i.zIndex=define.zIndex.MINIGAME,i.parent=n,r&&(r.startMiniGame(e,t,o),i.parent=void 0,this.bonusNode=i,this.checkShowBonusDialog())},t.prototype.handleBonus=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.playBonus?(controller.ui.showModel(),[4,this.playBonus(e.spinResult.score.sum[2].arr,e.spinResult.score.sum[2].w,e.spinResult.score.sum[2].res)]):[2];case 1:return t.sent(),controller.ui.hideModel(),[2]}})})},__decorate([r(cc.Prefab)],t.prototype,"miniGamePrefab",void 0),__decorate([r(s.default)],t.prototype,"resourceController",void 0),t=__decorate([i],t)}(a.default);o.default=l,cc._RF.pop()},{"../../../scripts/Slots/Item":"Item","../../../scripts/Slots/SlotController":"SlotController","./ResourceController8":"ResourceController8"}],SlotController:[function(e,t,o){"use strict";cc._RF.push(t,"8694fkUlCRAJJzy6KdYvvZS","SlotController"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("./Item"),r=e("./AnimationController"),a=e("./SlotItem"),s=e("./LinesController"),c=e("../Define/DefineType"),l=cc._decorator,u=l.ccclass,p=l.property;(function(e){e[e.INTRO=0]="INTRO",e[e.BACKGROUND=1]="BACKGROUND",e[e.WIN=2]="WIN"})(n=o.SoundKey||(o.SoundKey={}));var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameId="",t.gameSizeType=1,t.tableView=null,t.itemSlot=null,t.IPadScale=1.2,t.payTable=void 0,t.reelController=[],t._listItemData=[],t._listBorderImg=[],t.listItemSkeleton={},t.betArray=[],t.lastWin=0,t.isAutoSpin=!1,t.autoSpinTimes=0,t.dataStatus=null,t.isSpin=!1,t.isReceivedData=!1,t.isReFresh=!1,t.dataSpin=null,t.freeSpin=0,t.bonus=!1,t.bonusNode=void 0,t.statusGame=null,t.spinDoneCallback={status:void 0,winType:void 0},t.resourceReady=!1,t}return __extends(t,e),t.prototype.checkResources=function(){return this.resourceReady=this.resourceController.checkData(),this.resourceReady},t.prototype.downloadResources=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.resourceController.startDownload(null,e)];case 1:return t.sent(),[2]}})})},t.prototype.getInfoAndResource=function(e){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Promise.all([this.getSlotResources(),this.getStatusGame()])];case 1:return t.sent(),this.importData(),this.loadItemRes(),this.loadBorderRes(),[3,3];case 2:return e=t.sent(),cc.log("Get data error",e),[3,3];case 3:return[2]}})})},t.prototype.getSlotResources=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.resourceController.loadResourcesFromDisk(null,function(e,t){cc.log(e+" / "+t)})];case 1:return e.sent(),[2]}})})},t.prototype.getStatusGame=function(e){var t=this;return new Promise(function(o,n){api.sendGD({e:api.key.SMINFO,gtype:e||t.gameId},function(e,i){e&&n(e),t.dataStatus=i,t.updateStatus(i),o(i)})})},t.prototype.startSlot=function(){this.initState(),this.initializeItem(),this.checkFreeSpin()},t.prototype.importData=function(){this.betArray=this.dataStatus.betArr,this.currentBet=this.dataStatus.lastBet,view.bar.bottom.gameBar.updateInfo()},t.prototype.loadItemRes=function(){var e=this;this.resourceController.getlistImgItem().forEach(function(t){var o=new i.default;o.setInfo(t.id,t.img),e._listItemData.push(o)})},t.prototype.loadBorderRes=function(){},t.prototype.loadItemSelectRes=function(){},t.prototype.initState=function(){var e=this;this.playSound(n.INTRO),this.animationController=this.node.getComponent(r.default);var t=cc.view.getFrameSize();t.width/t.height<1.5&&(this.node.scale*=this.IPadScale),this.reelController=[0].map(function(){return{tableView:e.tableView}}),this.reelController[0].linesController=this.node.getComponentInChildren(s.default),this.reelController[0].linesController.init(this)},t.prototype.initializeItem=function(){var e=this;this.gameSize=config.game.GAME_SIZE[this.gameSizeType],this.maxCol=this.gameSize.length,this.maxRow=Math.max.apply(Math,this.gameSize),this.reelController.forEach(function(t,o){for(var n=[],i=0;i<e.gameSize.length;i++)for(var r=0;r<e.gameSize[i]+1;r++){var a=e.getRandomItem(),s=e.instantiateSlotItem(a,i,r,o);n.push(s)}t._listItem=e.sortListItem(n)}),window.reel=this.reelController},t.prototype.getRandomItem=function(e){return this._listItemData[Math.floor(Math.random()*this._listItemData.length)]},t.prototype.instantiateSlotItem=function(e,t,o,n){void 0===n&&(n=0),this.distanceItemX=this.reelController[n].tableView.width/this.maxCol,this.distanceItemY=this.reelController[n].tableView.height/this.maxRow;var i=cc.instantiate(this.itemSlot);i.parent=this.reelController[n].tableView,i.setPosition((t+.5)*this.distanceItemX,(o+.5)*this.distanceItemY);var r=i.getComponent(a.default);return r.setItemInfo(e,t,o),this.dataStatus.lastmat&&(r.setMatrixEnd(this.dataStatus.lastmat.split(",")),r.setItemSprite(null)),i.active=!0,r},t.prototype.sortListItem=function(e){var t=[[]],o=3,n=4;return 2==this.gameSizeType&&(o=4,n=5),3==this.gameSizeType&&(o=4,n=5),e.forEach(function(e,i){var r=o-i%n;t[r]||(t[r]=[]),t[r].push(e)}),t},t.prototype.checkFreeSpin=function(){this.dataStatus.freeSpin.c>0&&(this.freeSpin=this.dataStatus.freeSpin.c,this.statusGame.freeSpin=this.freeSpin,view.bar.bottom.gameBar.updateStatus(this.statusGame),this.clickSpin())},t.prototype.watchEvent=function(e){switch(e.type){case api.key.SLOT_SPIN:"string"==typeof e.spinResult.mat&&(e.spinResult.mat=[e.spinResult.mat]),this.dataSpin=e,this.isReceivedData=!0,this.reelController.forEach(function(t,o){t._listItem.forEach(function(t){t.forEach(function(t){t.getComponent("SlotItem").setMatrixEnd(e.spinResult.mat[o].split(","))})})}),this.isSpin||this.spin(e),this.lastWin=e.spinResult.score.reward,this.updateStatus(e)}},t.prototype.timeManager=function(){return __awaiter(this,void 0,void 0,function(){var e,t,o,i,r,a,s,c,l=this;return __generator(this,function(u){switch(u.label){case 0:return u.trys.push([0,24,,25]),view.multi.loadContent(),this.isReFresh||(this.animationController&&this.animationController.refreshSlotAnimation(),view.bar.bottom.gameBar.resetWinAmount(),this.isReFresh=!0),this.reelController.forEach(function(e){return l.animationController.spinItems(e._listItem)}),this.playSound(n.BACKGROUND),this.freeSpin>0&&(this.freeSpin--,view.screen.slot&&this.gameId==view.screen.slot.SlotController.gameId&&(this.statusGame.freeSpin=this.freeSpin,view.bar.bottom.gameBar.updateStatus(this.statusGame))),this.reelController.map(function(e){return l.animationController.spinItems(e._listItem)}),[4,util.game.delay(3e3,this.node)];case 1:return u.sent(),this.isReceivedData&&this.dataSpin&&this.dataSpin.spinResult?(t=(e=this).dataSpin,o=e.dataSpin.spinResult,this.node&&this.handleCollectCoin?[4,this.handleCollectCoin(t)]:[2]):[3,23];case 2:return u.sent(),this.node&&this.animationController?[4,this.animationController.setAnimationData(t)]:[2];case 3:return u.sent(),this.node?!this.dataSpin.spinResult.score.winType||this.dataSpin.freeSpin.c||define.type[this.dataSpin.spinResult.score.winType]!=define.type.WIN_TYPE.BIGWIN&&define.type[this.dataSpin.spinResult.score.winType]!=define.type.WIN_TYPE.MEGAWIN?[3,5]:[4,this.showWinType(this.dataSpin.spinResult.score.winType,this.dataSpin.spinResult.score.reward)]:[2];case 4:u.sent(),u.label=5;case 5:return this.spinDoneCallback&&this.spinDoneCallback.status&&this.spinDoneCallback.status(),o.score.reward>0?(this.playSound(n.WIN),this.animationController.showWinAmount(),[4,this.animationController.showAllLines()]):[3,7];case 6:return u.sent(),[3,8];case 7:view.bar.bottom.gameBar.resetWinAmount(),u.label=8;case 8:return this.node?o.score.sum[2]&&(o.score.sum[2].w>0||o.score.sum[2].c>0)?[4,util.game.delay(500,this.node)]:[3,10]:[2];case 9:return u.sent(),this.node&&this.handleBonus?(game.log("You get a bonus"),this.bonus=!0,this.isSpin=!1,this.isReFresh=!1,this.handleBonus(t),[2]):[2];case 10:return this.node&&this.handleFreeSpin?[4,this.handleFreeSpin(t)]:[2];case 11:return u.sent(),this.isSpin=!1,this.isReFresh=!1,this.dataSpin.freeSpin.t>0&&0==this.dataSpin.freeSpin.c?(i="BIGWIN",r=this.dataSpin.freeSpin,a=r.tw,s=r.b,a/s>=50&&(i="MEGAWIN"),[4,this.showWinType(i,this.dataSpin.freeSpin.tw)]):[3,13];case 12:u.sent(),u.label=13;case 13:if(view.multi.loadContent(),!this.isAutoSpin&&view.screen.slot){if(t.spinResult.id!=view.screen.slot.SlotController.gameId)return[2];view.bar.bottom.gameBar.bottomBarEvent(define.type.BottomBar.active),view.bar.bottom.gameBar.updateSpinFrame(define.type.SpinButton.normal)}return this.isAutoSpin?this.autoSpinTimes>=0?[4,util.game.delay(200)]:[3,15]:[3,16];case 14:u.sent(),u.label=15;case 15:0==this.autoSpinTimes?(this.isAutoSpin=!1,setTimeout(function(){view.bar.bottom.gameBar.bottomBarEvent(define.type.BottomBar.active),view.bar.bottom.gameBar.updateSpinFrame(define.type.SpinButton.normal)},100)):(this.autoSpinTimes<0&&1==this.bonus&&view.bar.bottom.gameBar.updateSpinFrame(define.type.SpinButton.normal),this.autoSpin(this.autoSpinTimes)),u.label=16;case 16:if(0!=Object.keys(t.freeSpin).length)return[3,20];if(!(o.score.sum[1].c>0))return[3,20];u.label=17;case 17:return this.isSpin||this.isAutoSpin||!this.animationController?[3,20]:[4,this.animationController.showEachLine()];case 18:return u.sent(),[4,this.animationController.showAllLines(1)];case 19:return u.sent(),[3,17];case 20:return t.freeSpin&&t.freeSpin.c>0?(game.log("free spin",this.dataSpin.freeSpin),[4,util.game.delay(200)]):[3,22];case 21:u.sent(),this.clickSpin(),view.bar.bottom.gameBar.bottomBarEvent(define.type.BottomBar.lock),view.bar.bottom.gameBar.updateSpinFrame(define.type.SpinButton.stopNormalSpin),u.label=22;case 22:return[3,23];case 23:return[3,25];case 24:return c=u.sent(),this.isSpin=!1,this.isReFresh=!1,this.isAutoSpin=!1,game.log("Time manager error:",c),[3,25];case 25:return[2]}})})},t.prototype.autoSpin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.autoSpinTimes=e,this.isSpin?(this.isAutoSpin=!0,[2]):(game.log(this.autoSpinTimes),this.isAutoSpin=!0,[4,this.spin()]);case 1:return t.sent(),view.screen.slot&&view.screen.slot.SlotController&&this.autoSpinTimes==view.screen.slot.SlotController.autoSpinTimes&&view.bar.bottom.gameBar.updateAutoSpinTime(this.autoSpinTimes),this.autoSpinTimes--,[2]}})})},t.prototype.clickSpin=function(){if(view.bar.bottom.gameBar.autoBet.active&&view.bar.bottom.gameBar.hideAutoBet(),this.isAutoSpin)return this.isAutoSpin=!1,view.bar.bottom.gameBar.updateSpinFrame(define.type.SpinButton.normal),void(this.autoSpinTimes=0);this.isSpin||this.spin()},t.prototype.spin=function(e){if(tracking.send(tracking.event.SPIN_SLOT),this.isAutoSpin?view.screen.slot&&view.screen.slot.SlotController.autoSpinTimes>0&&view.bar.bottom.gameBar.bottomBarEvent(define.type.BottomBar.lock):view.bar.bottom.gameBar.bottomBarEvent(define.type.BottomBar.active),this.currentBet>game.user.balance)return this.autoSpinTimes=0,void game.log("User do not have enough coin to spin ...");this.isSpin=!0,this.isReceivedData=!!e,e||api.sendGD({e:api.key.SLOT_SPIN,gtype:this.gameId,totalbet:this.currentBet},function(e,t){game.log("callback",t)}),this.timeManager()},t.prototype.strMatrixToArray=function(e,t,o){void 0===t&&(t=5),void 0===o&&(o=3),e=e.split(",");for(var n=[],i=0;i<t;i++){for(var r=[],a=0;a<o;a++)r.push(e[(o-1-a)*t+i]);n.push(r)}return n},t.prototype.updateCurrentBet=function(e){this.currentBet=e},t.prototype.handleFreeSpin=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){if(view.screen.slot&&e.freeSpin.c>0&&!e.spinResult.score.freeSpin){if(e.spinResult.id!=view.screen.slot.SlotController.gameId)return[2];this.freeSpin=e.freeSpin.c,this.statusGame.freeSpin=this.freeSpin,view.bar.bottom.gameBar.updateStatus(this.statusGame)}else this.freeSpin=0;return[2]})})},t.prototype.checkAutoSpin=function(e){game.log(e.autoSpinTimes),e.autoSpinTimes>0?e.autoSpin(e.autoSpinTimes):view.bar.bottom.gameBar.updateSpinFrame(define.type.SpinButton.normal)},t.prototype.showPayTable=function(){this.payTable?controller.ui.showPopupPrefab(this.payTable):game.warn("SlotController","showPayTable","Slot "+this.gameId+" paytable prefab not exist")},t.prototype.hideContent=function(){},t.prototype.showContent=function(){},t.prototype.handleBonus=function(e){},t.prototype.checkShowBonusDialog=function(e){var t=this;this.bonus&&this.bonusNode&&view.screen.slot&&view.screen.slot.SlotController.gameId===this.gameId&&controller.ui.showDialog({title:"You got a bonus",type:define.type.DIALOG_TYPE.HIGH,allowClose:!1,name:"check_show_bonus_dialog",message:{message:"You got a bonus.\nPress OK to play"},buttons:[{title:"OK",theme:define.type.CLASS_THEME.INFO,callback:function(){view.screen.bonus=t.bonusNode,t.bonusNode.x=0,t.bonusNode.parent=controller.ui.canvas,t.bonusNode.runAction(cc.fadeIn(.5)),controller.ui.hideBar(),e&&e()}}]})},t.prototype.handleCollectCoin=function(e){},t.prototype.playSound=function(e){var t;switch(e){case n.INTRO:return t=this.resourceController.getAudio(this.resourceController.audioListName.intro),void controller.sound.playSound(t,{tag:this.gameId});case n.BACKGROUND:return t=this.resourceController.getAudio(this.resourceController.audioListName.background),void controller.sound.playSound(t,{tag:this.gameId});case n.WIN:return t=this.resourceController.getAudio(this.resourceController.audioListName.win),void controller.sound.playSound(t,{tag:this.gameId,volume:.5})}},t.prototype.updateStatus=function(e){var t=this,o=null;if("slotspin"===e.type){var n=e.spinResult.score;o={win:Math.round(n.reward),winType:n.winType&&c.WIN_TYPE[n.winType]?c.WIN_TYPE[n.winType]:c.WIN_TYPE.NORMAL,freeSpin:e.freeSpin&&e.freeSpin.c>0?e.freeSpin.c:n.freeSpin?n.freeSpin:0,isBonus:!(!n.sum[2]||!(n.sum[2].w>0||n.sum[2].c>0)),autoSpin:this.autoSpinTimes>0?this.autoSpinTimes:0},this.spinDoneCallback.status=function(){view.screen.slot&&view.screen.slot.SlotController.gameId===t.gameId&&view.bar.bottom.gameBar.updateStatus(o),view.bar.top.pushStatus(o,t.gameId)}}else o={win:0,winType:define.type.WIN_TYPE.NORMAL,freeSpin:e.freeSpin&&e.freeSpin.c>0?e.freeSpin.c:0,isBonus:!!e.bonus,autoSpin:this.autoSpinTimes>0?this.autoSpinTimes:0},view.bar.bottom.gameBar.updateStatus(o);this.statusGame=o},t.prototype.showWinType=function(e,t){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(n){switch(n.label){case 0:return view.screen.slot&&view.screen.slot.SlotController.gameId===this.gameId?(o=c.WIN_TYPE[e],[4,controller.ui.playPrefabAnimation("win",{type:o,coin:t})]):[2];case 1:return n.sent(),[2]}})})},__decorate([p(cc.String)],t.prototype,"gameId",void 0),__decorate([p(cc.Integer)],t.prototype,"gameSizeType",void 0),__decorate([p(cc.Node)],t.prototype,"tableView",void 0),__decorate([p(cc.Node)],t.prototype,"itemSlot",void 0),__decorate([p(cc.Float)],t.prototype,"IPadScale",void 0),__decorate([p(cc.Prefab)],t.prototype,"payTable",void 0),t=__decorate([u],t)}(cc.Component);o.default=d,cc._RF.pop()},{"../Define/DefineType":"DefineType","./AnimationController":"AnimationController","./Item":"Item","./LinesController":"LinesController","./SlotItem":"SlotItem"}],SlotItem1:[function(e,t,o){"use strict";cc._RF.push(t,"2f3e7JQJ5lPJav3AfWf9gNI","SlotItem1"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Slots/SlotItem"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slotsController=null,t}return __extends(t,e),t.prototype.setItemSprite=function(t,o){e.prototype.setItemSprite.call(this,t);var n=this.node.getComponentInChildren(cc.Label);n&&("c"==this.id?(this.node.children[2].active=!0,this.mainItemSprite.spriteFrame=this.slotsController.resourceController.getSprite("egypt-coin-3")):this.node.children[2].active=!1,this.slotsController.dataSpin?("c"==this.id&&(this.mainItemSprite.spriteFrame=this.slotsController.resourceController.getSprite("egypt-coin-2")),n.string="$"+this.slotsController.dataSpin.spinResult.totalBet/100):n.string="$"+this.slotsController.dataStatus.lastBet/100)},__decorate([a({override:!0})],t.prototype,"slotsController",void 0),t=__decorate([r],t)}(n.default);o.default=s,cc._RF.pop()},{"../../../scripts/Slots/SlotItem":"SlotItem"}],SlotItem2:[function(e,t,o){"use strict";cc._RF.push(t,"18b984gERFAQYDhHRd3FjKq","SlotItem2"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Slots/SlotItem"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slotsController=null,t}return __extends(t,e),t.prototype.setItemSprite=function(t,o){e.prototype.setItemSprite.call(this,t);var n=this.node.children[2].getComponent(cc.Label);"c"==this.id?(this.node.children[2].active=!0,this.mainItemSprite.spriteFrame=this.slotsController.resourceController.getSprite("game-dra-item-coin-gray-mon")):this.node.children[2].active=!1,this.slotsController.dataSpin?("c"==this.id&&(this.mainItemSprite.spriteFrame=this.slotsController.resourceController.getSprite("game-dra-item-coin-gold-mon")),n.string="$"+this.slotsController.dataSpin.spinResult.totalBet/100):n.string="$"+this.slotsController.dataStatus.lastBet/100},t.prototype.checkSpecialItem=function(e){return"7"==e||"8"==e||"9"==e||"w"==e||"sw"==e},__decorate([a({override:!0})],t.prototype,"slotsController",void 0),t=__decorate([r],t)}(n.default);o.default=s,cc._RF.pop()},{"../../../scripts/Slots/SlotItem":"SlotItem"}],SlotItem3:[function(e,t,o){"use strict";cc._RF.push(t,"a6d3exTRQhI6auP1LrWmYDA","SlotItem3"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([i],t)}(e("../../../scripts/Slots/SlotSkeleton").default));o.default=r,cc._RF.pop()},{"../../../scripts/Slots/SlotSkeleton":"SlotSkeleton"}],SlotItem4:[function(e,t,o){"use strict";cc._RF.push(t,"a73fbloCxtHDIET+yNuHXbr","SlotItem4"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../../scripts/Slots/SlotItem"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.borderWin=null,t.partical=null,t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.borderWin.active=!1},t.prototype.updateShowBorderWin=function(){var e=this;this.borderWin.active=!0,1==this.border.active&&(this.border.active=!1,setTimeout(function(){return e.border.active=!0},1400))},t.prototype.hideBorderWin=function(){this.borderWin.active=!1},t.prototype.checkSpecialItem=function(e){return"s"==e||"w"==e||"12"==e||"13"==e||"14"==e||"15"==e||"22"==e||"23"==e||"24"==e||"25"==e},t.prototype.playZoomAnimation=function(){e.prototype.playZoomAnimation.call(this),this.node.children[0].active=!0},t.prototype.stopZoomAnimation=function(){this&&view.screen.slot&&this.node&&(e.prototype.stopZoomAnimation.call(this),this.node.children[0].active=!1,this.node.children[0].stopAllActions(),this.node.stopAllActions())},__decorate([a(cc.Node)],t.prototype,"borderWin",void 0),__decorate([a(cc.Node)],t.prototype,"partical",void 0),t=__decorate([r],t)}(n.default);o.default=s,cc._RF.pop()},{"../../../scripts/Slots/SlotItem":"SlotItem"}],SlotItem5:[function(e,t,o){"use strict";cc._RF.push(t,"c69b03tvv9KQZLdNmcJcwHr","SlotItem5"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([i],t)}(e("../../../scripts/Slots/SlotItem").default));o.default=r,cc._RF.pop()},{"../../../scripts/Slots/SlotItem":"SlotItem"}],SlotItem6:[function(e,t,o){"use strict";cc._RF.push(t,"b28b2desdRKna+K1V1C4gvK","SlotItem6"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.setItemInfo=function(t,o,n){if(e.prototype.setItemInfo.call(this,t,o,n),this.slotsController.dataSpin&&this.slotsController.dataSpin.features.freeReelGame&&this.slotsController.dataSpin.features.freeReelGame.userSpined){var i=this.slotsController.dataStatus.freeReelGame.stickyWildReels;if(!i)return;i.indexOf(this.x+1)>=0&&this.checkStikyWild()}},t.prototype.setItemSprite=function(t){if(this.slotsController.dataSpin&&this.slotsController.dataSpin.features.freeReelGame&&this.slotsController.dataSpin.features.freeReelGame.userSpined&&this.slotsController.dataSpin.features.freeReelGame.stickyWildReels.indexOf(this.x+1)>=0)return void this.checkStikyWild();e.prototype.setItemSprite.call(this,t)},t.prototype.checkStikyWild=function(){this.id="w",this.setItemSkeleton("wild")},t=__decorate([i],t)}(e("../../../scripts/Slots/SlotSkeleton").default));o.default=r,cc._RF.pop()},{"../../../scripts/Slots/SlotSkeleton":"SlotSkeleton"}],SlotItem7:[function(e,t,o){"use strict";cc._RF.push(t,"f995aMrajBOQLo9kdlBnyOl","SlotItem7"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.slotsController=null,t.aniBorder=null,t.value=[.25,.5,.25,.5,.25,.5,.75,1,1.5,2,2.5,.75,1,1.5,2,2.5,.75,1,1.5,2,2.5,3,3.5,4,4.5,5,3,3.5,4,4.5,5,3,3.5,4,4.5,5,5.5,6,6.5,7,7.5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10,"MINI","MINI","MINI","MINI","MINI","MINOR","MINOR","MINOR","MAJOR","MAJOR","WHEEL","WHEEL","SUPPER"],t.listItemAni=["0","1","2","3","4"],t}return __extends(t,e),t.prototype.setItemSprite=function(t,o){return __awaiter(this,void 0,void 0,function(){var o,n,i,r,a=this;return __generator(this,function(s){switch(s.label){case 0:return e.prototype.setItemSprite.call(this,t),o=this.node.children[1].getComponent(cc.Label),n=this.value[Math.floor(0+Math.random()*this.value.length)],"k"==this.id?(this.node.children[1].active=!0,"number"==typeof n?(i=0,i=this.slotsController.dataSpin?this.slotsController.dataSpin.spinResult.totalBet:this.slotsController.dataStatus.lastBet,o.string=""+util.game.abbreviateNumber(n*i,0)):o.string=""+n):this.node.children[1].active=!1,this.slotsController.dataSpin?[4,util.game.delay(1e3)]:[3,2];case 1:if(s.sent(),!(view.screen.slot&&this&&this.slotsController&&this.slotsController.dataSpin))return[2];(r=this.slotsController.dataSpin.spinResult.score.sum[6].arr).forEach(function(e,t){var o=a.slotsController._listItem[e.position.col][e.position.row+1];"number"==typeof r[t].value?o.node.children[1].getComponent(cc.Label).string=""+util.game.abbreviateNumber(r[t].value*a.slotsController.dataSpin.spinResult.totalBet,0):o.node.children[1].getComponent(cc.Label).string=""+r[t].value}),s.label=2;case 2:return[2]}})})},t.prototype.playZoomAnimation=function(){e.prototype.playZoomAnimation.call(this),this.node.children[3].active=!0,this.listItemAni.includes(this.id)&&this.node.children[0].runAction(cc.repeatForever(cc.sequence([cc.fadeOut(.4),cc.fadeIn(.6)])))},t.prototype.stopZoomAnimation=function(){e.prototype.stopZoomAnimation.call(this),this.node.children[0].stopAllActions(),this.node.children[0].opacity=255,this.node.children[3].active=!1},__decorate([r({override:!0})],t.prototype,"slotsController",void 0),__decorate([r(cc.Node)],t.prototype,"aniBorder",void 0),t=__decorate([i],t)}(e("../../../scripts/Slots/SlotSkeleton").default);o.default=a,cc._RF.pop()},{"../../../scripts/Slots/SlotSkeleton":"SlotSkeleton"}],SlotItem8:[function(e,t,o){"use strict";cc._RF.push(t,"a076dq++lFHt5SZnwTBtVKG","SlotItem8"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=(n.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t=__decorate([i],t)}(e("../../../scripts/Slots/SlotSkeleton").default));o.default=r,cc._RF.pop()},{"../../../scripts/Slots/SlotSkeleton":"SlotSkeleton"}],SlotItem:[function(e,t,o){"use strict";cc._RF.push(t,"5fd32DWbaVC7rErwd21rsCa","SlotItem"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./SlotController"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainItemSprite=null,t.slotsControllerNode=null,t.border=null,t.zoomAni=null,t.a=.5,t.c=1900,t.maxCount=5,t.id="",t.x=0,t.y=0,t.count=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.isMove=!1,this.time=0,this.duration=0,this.y0=this.node.y,this.distance=0,this.slotsController=this.slotsControllerNode.getComponent(n.default),this.maxY=(this.slotsController.maxRow+.5)*this.slotsController.distanceItemY,this.minY=-.5*this.slotsController.distanceItemY,this.initZoomAnimation()},t.prototype.setItemInfo=function(e,t,o){if(this.id=e.id,this.mainItemSprite.spriteFrame=e.spritesFrame,this.x=t,this.y=o,this.slotsController._listBorderImg.length>0)if(this.checkSpecialItem(e.id)){var n=this.slotsController._listBorderImg.find(function(t){return t.id===e.id});this.border.active=!0,this.border.getComponent(cc.Sprite).spriteFrame=n.img}else this.border.active=!1},t.prototype.setItemSprite=function(e,t){var o=this,n=this.slotsController.getRandomItem();if(e)this.mainItemSprite.spriteFrame=n.spritesFrame,this.id=n.id;else if(null!=this.arrResult&&this.y<=this.slotsController.maxRow-1){var i=this.slotsController.maxCol*(this.slotsController.maxRow-this.y-1)+this.x;n=this.slotsController._listItemData.find(function(e){return e.id==o.arrResult[i]}),this.id=n.id,this.mainItemSprite.spriteFrame=n.spritesFrame}if(this.slotsController._listBorderImg.length>0)if(this.checkSpecialItem(n.id)){var r=this.slotsController._listBorderImg.find(function(e){return e.id===n.id});this.border.active=!0,this.border.getComponent(cc.Sprite).spriteFrame=r.img}else this.border.active=!1},t.prototype.checkSpecialItem=function(e){return"b"==e||"s"==e||"w"==e},t.prototype.move=function(){var e=this,t=this;this.node.runAction(cc.sequence(cc.moveTo(.3,cc.v2(this.node.x,(this.y+.6)*this.slotsController.distanceItemY)),cc.callFunc(function(){e.isMove=!0,e.time=0,e.y0=t.node.y,e.count=0})))},t.prototype.setMatrixEnd=function(e){this.arrResult=e},t.prototype.stop=function(){this.endingMove=!0},t.prototype.scaleAnim=function(e){var t=this,o=cc.scaleTo(.5,1.2);this.node.runAction(o),setTimeout(function(){var e=cc.scaleTo(.5,1);null!=t.node&&t.node.runAction(e)},500)},t.prototype.initZoomAnimation=function(){this.mainItem=this.node.children[1]||this.node,this.zoomAnimation=this.mainItem.addComponent(cc.Animation),this.zoomAni.speed=1.1,this.zoomAnimation.addClip(this.zoomAni)},t.prototype.playZoomAnimation=function(){this.zoomAnimation.play("ZoomItem")},t.prototype.stopZoomAnimation=function(){this.zoomAnimation&&(this.zoomAnimation.setCurrentTime(0),this.zoomAnimation.stop("ZoomItem"))},t.prototype.update=function(e){if(this.time+=e,this.duration+=e,1==this.isMove){if(this.node.y=this.y0-this.c*this.time,this.node.y<=this.minY){if(this.count++,!this.reallyStop){var t=this.minY-this.node.y;this.node.y=this.maxY-t,this.y0=this.node.y,this.time=0}this.setItemSprite(!0);var o=this.maxCount;this.count>=o&&(this.endingMove=!0,this.setItemSprite(!1),this.reallyStop=!0)}if(this.reallyStop&&this.node.y<=(this.y+.3)*this.slotsController.distanceItemY){this.node.y=(this.y+.3)*this.slotsController.distanceItemY,this.endingMove=!1,this.isMove=!1;var n=cc.moveTo(.2,cc.v2(this.node.x,(this.y+.5)*this.slotsController.distanceItemY)).easing(cc.easeBackOut());this.node.runAction(cc.sequence([n,cc.callFunc(function(){})])),this.reallyStop=!1}}},__decorate([a(cc.Sprite)],t.prototype,"mainItemSprite",void 0),__decorate([a(cc.Node)],t.prototype,"slotsControllerNode",void 0),__decorate([a(cc.Node)],t.prototype,"border",void 0),__decorate([a(cc.AnimationClip)],t.prototype,"zoomAni",void 0),__decorate([a],t.prototype,"a",void 0),__decorate([a],t.prototype,"c",void 0),__decorate([a],t.prototype,"maxCount",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./SlotController":"SlotController"}],SlotSkeleton:[function(e,t,o){"use strict";cc._RF.push(t,"86f79nJDm1CrrvlJ1GslRXC","SlotSkeleton"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainItemSke=null,t.listItemSkeleton={},t}return __extends(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.listItemSkeleton=this.slotsController.listItemSkeleton},t.prototype.setItemInfo=function(e,t,o){this.id=e.id,this.x=t,this.y=o;var n=Object.keys(this.listItemSkeleton);this.setItemSkeleton(this.listItemSkeleton[n[Math.random()*n.length|0]])},t.prototype.setItemSprite=function(e){var t=this;if(e)e=this.slotsController.getRandomItem(),this.setItemSkeleton(this.listItemSkeleton[e.id]),this.id=e.id;else if(e=this.slotsController.getRandomItem(),null!=this.arrResult){if(this.y<=this.slotsController.maxRow-1){var o=this.slotsController.maxCol*(this.slotsController.maxRow-this.y-1)+this.x;e=this.slotsController._listItemData.find(function(e){return e.id==t.arrResult[o]}),this.id=e.id,this.setItemSkeleton(this.listItemSkeleton[e.id])}}else this.setItemSkeleton(this.listItemSkeleton[e.id])},t.prototype.setItemSkeleton=function(e){this.mainItemSke.animation=e},t.prototype.initZoomAnimation=function(){},t.prototype.playZoomAnimation=function(){var e=this.mainItemSke.animation;this.mainItemSke.animation=e+"_run"},t.prototype.stopZoomAnimation=function(){if(this.mainItemSke){var e=this.mainItemSke.animation;this.mainItemSke.animation=e.includes("_run")?e.slice(0,e.length-4):e}},__decorate([r(sp.Skeleton)],t.prototype,"mainItemSke",void 0),t=__decorate([i],t)}(e("./SlotItem").default);o.default=a,cc._RF.pop()},{"./SlotItem":"SlotItem"}],SoundController:[function(e,t,o){"use strict";cc._RF.push(t,"ba032ooKTBJ14H9we97QPTJ","SoundController"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.sounds={},this.soundOn=!1,this.musicOn=!1,this.listSounds=[],this.buttonSFXName="click",this.popupSFXName="slide",this.dialogSFXName="pop"}return e.ins=function(){return this.instance||(this.instance=new e),this.instance},e.prototype.init=function(){null===cc.sys.localStorage.getItem(define.key.CONFIG_SOUND)&&(this.soundOn=!0,cc.sys.localStorage.setItem(define.key.CONFIG_SOUND,this.soundOn)),this.soundOn="true"===cc.sys.localStorage.getItem(define.key.CONFIG_SOUND),null===cc.sys.localStorage.getItem(define.key.CONFIG_MUSIC)&&(this.musicOn=!0,cc.sys.localStorage.setItem(define.key.CONFIG_MUSIC,this.musicOn)),this.musicOn="true"===cc.sys.localStorage.getItem(define.key.CONFIG_MUSIC),this.listSounds=[]},e.prototype.toggleSound=function(){this.soundOn="true"===cc.sys.localStorage.getItem(define.key.CONFIG_SOUND),this.setSoundStatus(!this.soundOn)},e.prototype.setSoundStatus=function(e){return this.soundOn=e,cc.sys.localStorage.setItem(define.key.CONFIG_SOUND,this.soundOn),this.soundOn||this.stopAllSounds(),game.log("SoundController","toggle sound","sound on: ",this.soundOn),this.soundOn},e.prototype.toggleMusic=function(){this.musicOn="true"===cc.sys.localStorage.getItem(define.key.CONFIG_MUSIC),this.setMusicStatus(!this.musicOn)},e.prototype.setMusicStatus=function(e){return this.musicOn=e,cc.sys.localStorage.setItem(define.key.CONFIG_MUSIC,this.musicOn),this.musicOn?this.playMusic():this.stopMusic(),game.log("SoundController","toggle music","music on: ",this.musicOn),this.musicOn},e.prototype.getSoundStatus=function(){return this.soundOn},e.prototype.getMusicStatus=function(){return this.musicOn},e.prototype.setMusicVolume=function(e){"number"!=typeof e||e<0||e>1?cc.warn("SoundController","setMusicVolume","volume must be number between 0 and 1",e):cc.audioEngine.setMusicVolume(e)},e.prototype.setSoundVolume=function(e){"number"!=typeof e||e<0||e>1?cc.warn("SoundController","setSoundVolume","volume must be number between 0 and 1",e):cc.audioEngine.setEffectsVolume(e)},e.prototype.getMusicVolume=function(){return cc.audioEngine.getMusicVolume()},e.prototype.getSoundVolume=function(){return cc.audioEngine.getEffectsVolume()},e.prototype.playMusic=function(e,t){if(this.musicOn){void 0===t&&(t=!0);var o=void 0;return"string"==typeof e?this.sounds&&this.sounds[e]?o=cc.audioEngine.playMusic(this.sounds[e],t):cc.warn("SoundController","playMusic","music "+e+" not defined in resource",this.sounds):this.sounds&&this.sounds.music&&(o=cc.audioEngine.playMusic(this.sounds.music,t)),o}},e.prototype.pauseMusic=function(){cc.audioEngine.pauseMusic()},e.prototype.resumeMusic=function(){this.musicOn&&cc.audioEngine.resumeMusic()},e.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},e.prototype.isMusicPlaying=function(){return cc.audioEngine.isMusicPlaying()},e.prototype.playSound=function(e,t){if(!e)return game.warn("Audio source is not available.");if(this.soundOn){t||(t={}),void 0===t.loop&&(t.loop=!1);var o=void 0,n="";return n=e instanceof cc.AudioClip?e.name:e,"string"==typeof e&&this.sounds&&this.sounds[n]?o=cc.audioEngine.playEffect(this.sounds[n],t.loop):e instanceof cc.AudioClip?o=cc.audioEngine.playEffect(e,t.loop):cc.warn("SoundController","playSound","sound "+n+" not defined in resource",this.sounds),cc.audioEngine.setVolume(o,t.volume||1),"number"==typeof o&&this.listSounds.push({name:n,id:o,tag:t.tag||"default"}),o}},e.prototype.setVolumeByTag=function(e,t){return!(t>1||t<0)&&(this.listSounds.forEach(function(o){o.tag===e&&cc.audioEngine.setVolume(o.id,t)}),!0)},e.prototype.disableAudioByTag=function(e){return this.setVolumeByTag(e,0)},e.prototype.pauseSound=function(e){for(var t=0,o=this.listSounds.filter(function(t){return t.name===e&&cc.audioEngine.getState(t.id)===cc.audioEngine.AudioState.PLAYING});t<o.length;t++){var n=o[t];cc.audioEngine.pauseEffect(n.id)}},e.prototype.pauseAllSounds=function(){cc.audioEngine.pauseAllEffects()},e.prototype.resumeSound=function(e){if(this.soundOn){var t=this.listSounds.find(function(t){return t.name===e&&cc.audioEngine.getState(t.id)===cc.audioEngine.AudioState.PAUSED});t&&cc.audioEngine.resumeEffect(t.id)}},e.prototype.resumeAllSounds=function(){this.soundOn&&cc.audioEngine.resumeAllEffects()},e.prototype.stopSound=function(e){if("string"==typeof e)for(var t=0,o=this.listSounds.filter(function(t){return t.name===e&&cc.audioEngine.getState(t.id)===cc.audioEngine.AudioState.PLAYING});t<o.length;t++){var n=o[t];cc.audioEngine.stopEffect(n.id)}else"number"==typeof e&&cc.audioEngine.stopEffect(e)},e.prototype.stopAllSounds=function(){cc.audioEngine.stopAllEffects()},e.prototype.isSoundsPlaying=function(e){var t=this.listSounds.filter(function(t){return t.name===e&&cc.audioEngine.getState(t.id)===cc.audioEngine.AudioState.PLAYING});return!!(t&&t.length&&t.length>0)},e.prototype.pauseAll=function(){this.pauseMusic(),this.pauseAllSounds()},e.prototype.resumeAll=function(){this.resumeMusic(),this.resumeAllSounds()},e.prototype.stopAll=function(){this.stopMusic(),this.stopAllSounds()},e.prototype.playButtonSFX=function(){this.isSoundsPlaying(this.popupSFXName)||this.isSoundsPlaying(this.dialogSFXName)||this.playSound(this.buttonSFXName)},e.prototype.stopButtonSFX=function(){this.stopSound(this.buttonSFXName)},e.prototype.playPopupSFX=function(){this.stopButtonSFX(),this.playSound(this.popupSFXName)},e.prototype.stopPopupSFX=function(){this.stopSound(this.popupSFXName)},e.prototype.playDialogSFX=function(){this.stopButtonSFX(),this.playSound(this.dialogSFXName)},e.prototype.stopDialogSFX=function(){this.stopSound(this.dialogSFXName)},e.instance=void 0,e}();o.default=n,cc._RF.pop()},{}],Store:[function(e,t,o){"use strict";cc._RF.push(t,"8d5df9Kfl1LNISDiv4sLJhx","Store"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Define/DefineKey"),i=function(){function e(){return this.eventList={},this.subUid=-1,this.key=n.store,e._instance=e._instance||this,e._instance.data=e._instance.data||{},e._instance}return e.prototype.register=function(e,t){var o=(++this.subUid).toString(),n=this.data[e];return this.eventList[e]?this.eventList[e].push({token:o,callback:t}):this.eventList[e]=[{token:o,callback:t}],n&&t&&t(n),o},e.prototype.unRegister=function(e){var t=this.eventList;Object.keys(t).forEach(function(o){if(t[o]){var n=t[o].findIndex(function(t){return t.token==e});if(!(n<0))return t[o].splice(n,1),!0}})},e.prototype.emit=function(e,t,o){if(!this.eventList[e])return!1;this.data[e]=t,this.eventList[e].forEach(function(e){e.callback(t,o)})},e}();o.default=new i,cc._RF.pop()},{"./Define/DefineKey":"DefineKey"}],StringUtil:[function(e,t,o){"use strict";cc._RF.push(t,"ba958kkuGVE/prrUc//BcIQ","StringUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){}return e.formatMoney=function(e,t){return void 0===t&&(t=","),Math.floor(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)},e.formatTime=function(t,o,n){void 0===o&&(o="h"),void 0===n&&(n=!1);var i="",r=t/1e3,a=Math.floor(r/86400);r%=86400;var s=Math.floor(r/3600);r%=3600;var c=Math.floor(r/60);return r=Math.floor(r%60),i+=a>0?e.zeroPad(a,2)+(n?"d:":":"):"d"===o?"00:":"",i+=s>0?e.zeroPad(s,2)+(n?"h:":":"):"d"===o||"h"===o?"00:":"",i+=c>0?e.zeroPad(c,2)+(n?"m:":":"):"d"===o||"h"===o||"m"===o?"00:":"",i+=r>0?e.zeroPad(r,2)+(n?"s":""):"d"===o||"h"===o||"m"===o||"s"===o?"00":""},e.zeroPad=function(e,t,o){o=o||"0";var n=e.toString()+"";return n.length>=t?n:new Array(t-n.length+1).join(o)+n},e}();o.default=n,cc._RF.pop()},{}],TopBarController:[function(e,t,o){"use strict";cc._RF.push(t,"388b1L76zZKf4od6mv6qXzi","TopBarController"),Object.defineProperty(o,"__esModule",{value:!0});var n,i=e("../Components/CoinLabel"),r=e("../Components/AccumulatedBar"),a=e("../Components/Avatar"),s=cc._decorator,c=s.ccclass,l=s.property;(function(e){e.NONE="NONE",e.HOME="HOME",e.GAME="GAME"})(n||(n={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tag="TopBarController",t.coinController=void 0,t.keyList=[],t.model=void 0,t.lbStatusTitle=void 0,t.lbStatus=void 0,t.avt=void 0,t.btnBack=void 0,t.lbCoin=void 0,t.barExp=void 0,t.lbLevel=void 0,t.nodeStatus=void 0,t.nodeBuyDeal=void 0,t.nodeBuyFull=void 0,t.lbDeal=void 0,t.menu=void 0,t.barType=n.NONE,t.lerpOn=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.model=this.node.getChildByName("model"),this.coinController=new i.default(this.lbCoin),this.initialize(),this.resgisterEvent(),this.lbStatusTitle=this.nodeStatus.getChildByName("title").getComponent(cc.Label),this.lbStatus=this.nodeStatus.getChildByName("status").getComponent(cc.Label)},t.prototype.initialize=function(){},t.prototype.resgisterEvent=function(){var e=this,t=store.register(store.key.UPDATE_USER_BALANCE,function(t,o){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){return this.lerpOn?(this.coinController.updateUserBalance(t,o),[2]):[2]})})});this.keyList.push(t);var o=store.register(store.key.UPDATE_USER_LEVEL,function(t,o){return __awaiter(e,void 0,void 0,function(){var e,o,n,i;return __generator(this,function(r){return this.lerpOn?(e=t.currentExp,o=t.requiredExp,n=t.currentLevel,i=e<=o?e/o:1,this.barExp.setProgress(i),this.lbLevel.string=n,[2]):[2]})})});this.keyList.push(o);var n=store.register(store.key.UPDATE_USER_AVATAR,function(){e.avt.setAvatar({facebookID:game.user.fbid})});this.keyList.push(n);var i=store.register(store.key.UPDATE_SHOP_DATA,function(t){var o=t[define.type.ESHOP.DEAL_SHOP];if(o&&new Date(o.expire)>util.game.date()&&!o.isTaken&&o.productId){var n=t[define.type.ESHOP.DEAL_SHOP];e.nodeBuyDeal.active=!0,e.nodeBuyFull.active=!1,e.lbDeal.node.stopAllActions(),e.lbDeal.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){if(e.lbDeal)if(new Date(n.expire)>util.game.date()){var t=new Date(n.expire).getTime()-util.game.date().getTime();e.lbDeal.string=util.string.formatTime(t)}else e.lbDeal.node.stopAllActions(),e.lbDeal.string="00:00:00",game.data.shop[define.type.ESHOP.DEAL_SHOP]=void 0,store.emit(store.key.UPDATE_SHOP_DATA,game.data.shop)}))))}else e.nodeBuyDeal.active=!1,e.nodeBuyFull.active=!0});this.keyList.push(i)},t.prototype.updateBarData=function(){this.coinController.updateUserBalance(game.user.balance);var e=game.user.level,t=e.currentExp,o=e.requiredExp,n=e.currentLevel,i=t<=o?t/o:1;this.barExp.setProgress(i),this.lbLevel.string=n.toString()},t.prototype.hide=function(e){var t=this;return void 0===e&&(e=!0),new Promise(function(o,n){e?(t.node.y=360,t.node.stopAllActions(),t.lock(),t.node.runAction(cc.sequence(cc.moveBy(.1,cc.v2(0,t.node.height)),cc.callFunc(function(){t.unlock(),o()})))):(t.node.y=360+t.node.height,t.node.stopAllActions(),t.unlock(),o())})},t.prototype.show=function(e){var t=this;return void 0===e&&(e=!0),new Promise(function(o,n){e?(t.node.y=360+t.node.height,t.node.stopAllActions(),t.lock(),t.node.runAction(cc.sequence(cc.moveBy(.2,cc.v2(0,-t.node.height)),cc.callFunc(function(){t.unlock(),o()})))):(t.node.y=360,t.node.stopAllActions(),t.unlock(),o())})},t.prototype.lock=function(){this.model.active=!0},t.prototype.unlock=function(){this.model.active=!1},t.prototype.updateView=function(){this.barType===n.HOME&&controller.ui.onView===define.type.VIEW.HOME||this.barType===n.GAME&&controller.ui.onView===define.type.VIEW.GAME||(controller.ui.onView===define.type.VIEW.GAME?(this.barType=n.GAME,this.updateViewGame()):(this.barType=n.HOME,this.updateViewHome()))},t.prototype.updateViewGame=function(){var e=cc.scaleTo(.25,0).easing(cc.easeBackIn());this.avt.node.runAction(e);var t=cc.sequence(cc.delayTime(e.getDuration()),cc.scaleTo(.15,1));this.btnBack.runAction(t)},t.prototype.updateViewHome=function(){var e=cc.scaleTo(.25,0).easing(cc.easeBackIn());this.btnBack.runAction(e);var t=cc.sequence(cc.delayTime(e.getDuration()),cc.scaleTo(.15,1));this.avt.node.runAction(t)},t.prototype.pushStatus=function(e,t){var o=this.lbStatus,n=this.lbStatusTitle,i=JSON.parse(JSON.stringify(e)),r=[];if(i.isBonus&&r.push({key:"isBonus",data:!0}),e.win&&i.winType===define.type.WIN_TYPE.BIGWIN&&r.push({key:"bigwin",data:e.win}),e.win&&i.winType===define.type.WIN_TYPE.MEGAWIN&&r.push({key:"megawin",data:e.win}),e.freeSpin&&r.push({key:"freeSpin",data:e.freeSpin}),e.win&&i.winType===define.type.WIN_TYPE.NORMAL&&r.push({key:"win",data:e.win}),e.autoSpin&&r.push({key:"autoSpin",data:e.autoSpin}),r.length){var a="Slot "+(Object.values(config.game.SMID).findIndex(function(e){return e===t})+1),s=function(e){var t=e.key,o=e.data;return"megawin"===t?"Mega Win: "+util.string.formatMoney(o):"bigwin"===t?"Big Win: "+util.string.formatMoney(o):"isBonus"===t?"You got bonus":"freeSpin"===t?"FreeSpin: "+o:"win"===t?"Win: "+util.string.formatMoney(o):"autoSpin"===t?"Auto spin: "+o:""};n.string!==a&&(n.node.stopAllActions(),n.node.runAction(cc.sequence(cc.moveBy(.15,cc.v2(0,20)),cc.callFunc(function(){n&&(n.string=a,n.node.y=37,n.node.opacity||(n.node.opacity=255))}),cc.moveTo(.15,cc.v2(0,17)),cc.delayTime(1)))),o.node.stopAllActions(),o.node.runAction(cc.repeat(cc.sequence(cc.moveBy(.15,cc.v2(0,-20)),cc.callFunc(function(){o&&(o.string=s(r[0]),o.node.y=-20,r=r.slice(1),o.node.opacity||(o.node.opacity=255))}),cc.moveTo(.15,cc.v2(0,-1.7)),cc.delayTime(1)),r.length))}},t.prototype.showMenu=function(){var e=this.menu.getChildByName("overlay"),t=this.menu.getChildByName("mask").getChildByName("bg"),o=t.getChildByName("payTable"),i=t.getChildByName("fullScreen"),r=t.getChildByName("rate");t.active=!0,o.active=this.barType==n.GAME,i.active=game.data.deviceOs==define.type.DEVICE_OS.WEB_PC,r.active=cc.sys.isNative,e.active=!0,t.y=0,t.opacity=0,t.stopAllActions(),t.runAction(effect.moveInBy({time:.4,direction:define.type.DIRECTION.UP,distance:t.height}));var a=this.node.getChildByName("btnMenu"),s=cc.scaleTo(.25,0).easing(cc.easeBackIn());a.runAction(s),this.node.getChildByName("btnClose").runAction(cc.sequence(cc.delayTime(s.getDuration()),cc.scaleTo(.15,1)))},t.prototype.hideMenu=function(){var e=this.menu.getChildByName("overlay"),t=this.menu.getChildByName("mask").getChildByName("bg");e.active=!1,t.stopAllActions(),t.runAction(effect.moveOutBy({time:.2,direction:define.type.DIRECTION.UP,distance:t.height,callback:function(){t&&(t.active=!1)}}));var o=this.node.getChildByName("btnClose"),n=cc.scaleTo(.25,0).easing(cc.easeBackIn());o.runAction(n),this.node.getChildByName("btnMenu").runAction(cc.sequence(cc.delayTime(n.getDuration()),cc.scaleTo(.15,1)))},t.prototype.onClickBuy=function(){game.log("TopBarController","onClickBuy"),game.log(this.tag,"onClickBuy"),controller.ui.showPopup("shop")},t.prototype.onClickDeal=function(){game.log(this.tag,"onClickDeal");var e=game.data.shop.DEAL_SHOP;!e||new Date(e.expire)<=util.game.date()||e.isTaken||!e.productId||controller.ui.showDialog({title:"Deal",type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:"Current value: "+e.displayInfo.currValue+"\nOld value: "+e.displayInfo.currValue+"\nPrice: "+e.displayInfo.price+"\nSale: "+e.displayInfo.salePercent},buttons:[{title:"Cancel",theme:define.type.CLASS_THEME.DANGER},{title:"OK",theme:define.type.CLASS_THEME.SUCCESS,callback:function(){var t={type:define.type.ESHOP.DEAL_SHOP,id:e.productId};platform.iap.itemBuying=t,tracking.send(tracking.event.IAP_PURCHASE_DEAL,t),platform.iap.purchaseByProductID(e.productId)}}]})},t.prototype.onClickMulti=function(){game.log("TopBarController","onClickMulti"),game.log(this.tag,"onClickMulti"),view.multi.toggleButton()},t.prototype.onClickMenu=function(){game.log("TopBarController","onClickMenu"),this.showMenu()},t.prototype.onClickBack=function(){game.log("TopBarController","onClickBack"),view.screen.slot&&(tracking.send(tracking.event.BACK_GAME),controller.ui.deleteSlot())},t.prototype.onClickFullScreen=function(){game.log("TopBarController","onClickFullScreen");var e=this.menu.getChildByName("mask").getChildByName("bg").getChildByName("fullScreen").getChildByName("text").getComponent(cc.Label),t=cc.screen;t.fullScreen()?t.exitFullScreen():t.requestFullScreen(),e.string=t.fullScreen()?"Fullscreen":"Minimize"},t.prototype.onClickPayTable=function(){game.log("TopBarController","onClickPayTable"),view.screen.slot&&view.screen.slot.SlotController&&view.screen.slot.SlotController.showPayTable()},t.prototype.onClickRateUs=function(){game.log("TopBarController","onClickRateUs"),tracking.send(tracking.event.RATE_GAME);var e="";game.data.deviceOs===define.type.DEVICE_OS.ANDROID_NAVITE?e=define.string.URL_STORE_ANDROID.replace("PACKAGE_NAME",game.data.packageName):game.data.deviceOs===define.type.DEVICE_OS.IOS_NAVITE&&(e=define.string.URL_STORE_IOS),platform.handle.openLink(e)},t.prototype.onClickShare=function(){game.log("TopBarController","onClickShare");if(cc.sys.isBrowser)platform.facebook.share({link:document.URL,title:"#gamehayvailoan"});else{var e=platform.handle.screenshot().path;platform.facebook.sharePhoto({title:"#gamehayvailoan",image:e})}},t.prototype.onClickSetting=function(){game.log("TopBarController","onClickSetting"),controller.ui.showPopup("setting")},t.prototype.onClickAbout=function(){game.log("TopBarController","onClickAbout")},t.prototype.onDestroy=function(){this.keyList.forEach(function(e){return store.unRegister(e)})},__decorate([l(a.default)],t.prototype,"avt",void 0),__decorate([l(cc.Node)],t.prototype,"btnBack",void 0),__decorate([l(cc.Label)],t.prototype,"lbCoin",void 0),__decorate([l(r.default)],t.prototype,"barExp",void 0),__decorate([l(cc.Label)],t.prototype,"lbLevel",void 0),__decorate([l(cc.Node)],t.prototype,"nodeStatus",void 0),__decorate([l(cc.Node)],t.prototype,"nodeBuyDeal",void 0),__decorate([l(cc.Node)],t.prototype,"nodeBuyFull",void 0),__decorate([l(cc.Label)],t.prototype,"lbDeal",void 0),__decorate([l(cc.Node)],t.prototype,"menu",void 0),t=__decorate([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../Components/AccumulatedBar":"AccumulatedBar","../Components/Avatar":"Avatar","../Components/CoinLabel":"CoinLabel"}],Tracking:[function(e,t,o){"use strict";cc._RF.push(t,"12ed9cBbf1OXK7zjE/tJG4B","Tracking"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Define/DefineKey"),i=function(){function e(){this.event=void 0}return e.ins=function(){return this.instance||(this.instance=new e,this.instance.event=n.track),this.instance},e.prototype.setUserID=function(e){try{game.logTracking("setUserID",e),platform.firebase.setUserID(e)}catch(e){game.error(e)}},e.prototype.send=function(e,t){try{game.logTracking("send",e,t);var o="unknow";game.data.deviceOs==define.type.DEVICE_OS.ANDROID_NAVITE?o="android":game.data.deviceOs==define.type.DEVICE_OS.IOS_NAVITE?o="ios":game.data.deviceOs==define.type.DEVICE_OS.WEB_MOBILE?o="webmobile":game.data.deviceOs==define.type.DEVICE_OS.WEB_PC&&(o="webpc");var n=game.data.versionGame,i=game.data.versionOS,r=game.data.deviceId;(t=t||{}).os=o,t.version=n,t.os_version=i,t.deviceID=r,platform.firebase.sendLogEvent(e.replace(/\./g,"_"),t),platform.facebook.sendLogEvent((o+"_"+n+"_"+e).replace(/\./g,"_"))}catch(e){game.error(e)}},e.prototype.purchase=function(e,t){try{game.logTracking("purchase",e,t),platform.facebook.sendLogPurchase(e,t)}catch(e){game.error(e)}},e.instance=void 0,e}();o.default=i,cc._RF.pop()},{"./Define/DefineKey":"DefineKey"}],UIController:[function(e,t,o){"use strict";cc._RF.push(t,"b5626ARq+VCVp5u2EAHN17N","UIController"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./Define/DefineType"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(){function e(){this.name="",this.prefab=void 0,this.componentName=""}return __decorate([a({tooltip:"Name of popup, to open popup by name, view can view instance of popup in view.popup[name]"})],e.prototype,"name",void 0),__decorate([a({type:cc.Prefab,tooltip:"Prefab of popup with popup name"})],e.prototype,"prefab",void 0),__decorate([a({tooltip:"Component name of popup prefab"})],e.prototype,"componentName",void 0),e=__decorate([r("PopupData")],e)}();o.PopupData=s;var c=function(){function e(){this.name="",this.prefab=void 0,this.componentName=""}return __decorate([a({tooltip:"Name of popup, to open popup by name, view can view instance of popup in view.popup[name]"})],e.prototype,"name",void 0),__decorate([a({type:cc.Prefab,tooltip:"Prefab of popup with popup name"})],e.prototype,"prefab",void 0),__decorate([a({tooltip:"Component name of popup prefab"})],e.prototype,"componentName",void 0),e=__decorate([r("AnimationPrefabData")],e)}();o.AnimationPrefabData=c;var l=function(){function e(){this.layout=null,this.data=[]}return __decorate([a(cc.Prefab)],e.prototype,"layout",void 0),__decorate([a([c])],e.prototype,"data",void 0),e=__decorate([r("AnimationPrefab")],e)}();o.AnimationPrefab=l;var u=function(){function e(){}return e=__decorate([r("Component")],e)}();o.Component=u;var p=function(){function e(){this.loadingScene=null,this.homeScene=null,this.gameScene=null,this.wheelGold=null,this.wheelSilver=null,this.dialog=null,this.shortLoading=null,this.animation=new l,this.component=new u,this.popupData=[]}return __decorate([a(cc.Prefab)],e.prototype,"loadingScene",void 0),__decorate([a(cc.Prefab)],e.prototype,"homeScene",void 0),__decorate([a(cc.Prefab)],e.prototype,"gameScene",void 0),__decorate([a(cc.Prefab)],e.prototype,"wheelGold",void 0),__decorate([a(cc.Prefab)],e.prototype,"wheelSilver",void 0),__decorate([a(cc.Prefab)],e.prototype,"dialog",void 0),__decorate([a(cc.Prefab)],e.prototype,"shortLoading",void 0),__decorate([a(l)],e.prototype,"animation",void 0),__decorate([a(u)],e.prototype,"component",void 0),__decorate([a({type:s})],e.prototype,"popupData",void 0),e=__decorate([r("GamePrefab")],e)}();o.GamePrefab=p;var d=function(){function e(){this.img=null,this.icon=null,this.prefab=null}return __decorate([a(cc.SpriteFrame)],e.prototype,"img",void 0),__decorate([a(cc.SpriteFrame)],e.prototype,"icon",void 0),__decorate([a(cc.Prefab)],e.prototype,"prefab",void 0),e=__decorate([r("SlotGameData")],e)}();o.SlotGameData=d;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=new p,t.slot=[],t.onView=null,t.canvas=null,t.animPromise=new Promise(function(e,t){e()}),t}return __extends(t,e),t.prototype.onLoad=function(){this.canvas=cc.director.getScene().getChildByName("Canvas"),this.initialize()},t.prototype.initialize=function(){cc.game.addPersistRootNode(this.node),view.multi.node.zIndex=define.zIndex.MULTI,view.bar.node.zIndex=define.zIndex.BAR,view.screen.model.zIndex=define.zIndex.MODEL;var e=cc.view.getFrameSize(),t=e.width/e.height;t>2?game.data.deviceKind=define.type.Device.IPHONEX:t<1.5&&(game.data.deviceKind=define.type.Device.IPAD)},t.prototype.openLoadingScene=function(){game.log("UIController","openLoadingScene"),view.screen.loading||(view.screen.loading=cc.instantiate(this.prefab.loadingScene).getComponent("LoadingScene"),view.screen.loading.node.zIndex=define.zIndex.HOME,view.screen.loading.node.parent=this.canvas)},t.prototype.openHomeScene=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return game.log("UIController","openHomeScene"),tracking.send(tracking.event.OPEN_HOME),view.screen.loading&&view.screen.loading.onRelease(),this.onView=n.VIEW.HOME,this.updateBar(),[4,this.showBar()];case 1:return e.sent(),view.screen.home||(view.screen.home=cc.instantiate(this.prefab.homeScene).getComponent("HomeScene"),view.screen.home.node.zIndex=define.zIndex.HOME,view.screen.home.node.parent=this.canvas),[2]}})})},t.prototype.openGame=function(e,t,o){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return game.log("UIController","openGame"),tracking.send(tracking.event.OPEN_GAME),view.screen.game?(util.game.showNode(view.screen.game.node,define.zIndex.GAME),view.screen.game.node.position=cc.v2(0,0)):(view.screen.game=cc.instantiate(this.prefab.gameScene).getComponent("GameScene"),view.screen.game.node.zIndex=define.zIndex.GAME,view.screen.game.node.parent=this.canvas),this.onView=n.VIEW.GAME,[4,this.openSlot(e,t)];case 1:return o.sent(),[2]}})})},t.prototype.resumeGame=function(){if(game.log("UIController","resumeGame"),view.screen.game){var e=view.screen.game,t=view.screen.slot.SlotNode;t.parent=e.node,t.active=!0,t.opacity=0,t.zIndex=0,t.runAction(cc.fadeIn(.5)),view.multi.loadContent(),this.onView=n.VIEW.GAME,this.updateBar()}else cc.warn("Please open game before open slot")},t.prototype.minimizeGameScene=function(){var e=this;if(tracking.send(tracking.event.MINIMIZE_GAME),game.log("UIController","minimizeGameScene"),view.screen.game){var t=view.screen.game;this.onView=n.VIEW.HOME,this.updateBar(),view.screen.slot.SlotNode.runAction(cc.sequence(cc.callFunc(function(){var e=view.multi;t.node.runAction(cc.scaleTo(.2,.1)),t.node.runAction(cc.moveTo(.3,cc.v2(e.node.x,e.node.y+e.content.height)))}),cc.delayTime(.3),cc.callFunc(function(){util.game.hideNode(t.node),t.node.position=cc.v2(cc.winSize.width,0),t.node.scale=1}),cc.delayTime(.01),cc.callFunc(function(){t.hideBg(.01)}),cc.delayTime(.01),cc.callFunc(function(){view.screen.slot.SlotController.hideContent(),util.game.hideNode(view.screen.slot.SlotNode),view.screen.slot=null,view.multi.loadContent(),e.unlockBar()})))}else cc.warn("Please open game before open slot")},t.prototype.openWheelBonus=function(e,t){if(game.log("UIController","openWheelBonus"),view.screen.wheelBonus)cc.warn("UIController","openWheelBonus","wheel bonus is opening");else{tracking.send(tracking.event.OPEN_WHEEL);var o=void 0,i="";if(e===n.WHEEL_BONUS.GOLD)o=this.prefab.wheelGold,i="WheelGold";else{if(e!==n.WHEEL_BONUS.SILVER)return game.log(e+" wasn't defined in type");o=this.prefab.wheelSilver,i="WheelSilver"}view.screen.wheelBonus=cc.instantiate(o).getComponent(i),view.screen.wheelBonus.init(t),view.screen.wheelBonus.node.parent=this.canvas,view.screen.wheelBonus.node.zIndex=define.zIndex.GAME,this.hideBar()}},t.prototype.closeWheelBonus=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return game.log("UIController","closeWheelBonus"),(e=view.screen.wheelBonus)?[4,e.onClose()]:[2];case 1:return t.sent(),e&&e.node&&e.node.destroy(),view.screen.wheelBonus=void 0,controller.ui.showBar(),[2]}})})},t.prototype.openSlot=function(e,t){return __awaiter(this,void 0,void 0,function(){var o,i,r,a,s;return __generator(this,function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),o=Date.now(),game.log("START"),game.log("UIController","openSlot"),view.screen.game?(i=view.slot[t])?(this.resumeSlot(i.uuid,i.id),[2]):(view.screen.game.btnMini&&(view.screen.game.btnMini.node.scale=0),[4,this.instantiateSlot(t)]):(cc.warn("Please open game before open slot"),[2]);case 1:return r=c.sent(),game.log("INTANTIATED SLOT",Date.now()-o),r.SlotController.checkResources()?[3,3]:(this.onView=n.VIEW.HOME,util.game.hideNode(view.screen.game.node),view.screen.game.hideBg(.01),a=e.initDownloadProgress(),[4,r.SlotController.downloadResources(a)]);case 2:return c.sent(),e.removeDownloadProgress(),[2];case 3:return game.log("OPEN SHORT",Date.now()-o),this.openShortLoading(),game.log("OPEN SHORT DONE",Date.now()-o),view.slot[t]=r,view.screen.slot=r,[4,r.SlotController.getInfoAndResource()];case 4:return c.sent(),game.log("CLOSE SHORT",Date.now()-o),this.closeShortLoading(),this.updateBar(),view.screen.game.loadBgSlot(t),util.game.showNode(this.node,define.zIndex.GAME),this.node.position=cc.v2(0,0),view.screen.game.onOpen(),tracking.send(tracking.event.OPEN_SLOT.replace("SMID",view.screen.slot.gameId)),[3,6];case 5:return s=c.sent(),cc.log("open slot fail",s),[2];case 6:return[2]}})})},t.prototype.resumeSlot=function(e,t){return __awaiter(this,void 0,void 0,function(){var o,n,i=this;return __generator(this,function(r){switch(r.label){case 0:return game.log("UIController","resumeSlot"),view.screen.game?(o=view.screen.game,util.game.hideNode(o.node),view.screen.slot=Object.values(view.slot).find(function(t){return t&&t.uuid==e}),(n=view.screen.slot.SlotController.statusGame)&&view.bar.bottom.gameBar.updateStatus(n),[4,o.loadBgSlot(t)]):(cc.warn("Please open game before open slot"),[2]);case 1:return r.sent(),o.bigBg.node.runAction(cc.sequence([cc.moveBy(.01,cc.v2(0,o.bigBg.node.height*(1===game.data.deviceKind?1.5:1.2))).easing(cc.easeSineOut()),cc.callFunc(function(){view.bar.bottom.gameBar.updateInfo(),i.resumeGame(),o.onResume()}),cc.delayTime(.2),cc.callFunc(function(){view.screen.slot.SlotController.showContent(),view.screen.slot.SlotController.checkShowBonusDialog(),tracking.send(tracking.event.OPEN_SLOT.replace("SMID",view.screen.slot.gameId))})])),[2]}})})},t.prototype.switchSlot=function(e,t){if(game.log("UIController","switchSlot"),view.screen.game){var o=view.screen.game,n=Object.values(view.slot).find(function(t){return t&&t.uuid==e});o.bigBg.node.active=!0,o.bigBg.spriteFrame=n.SlotController.resourceController.getSprite("bg-big"),util.game.hideNode(view.screen.slot.SlotNode),view.screen.slot=n,util.game.showNode(view.screen.slot.SlotNode),view.bar.bottom.gameBar.updateInfo(),view.screen.game.node.position=cc.v2(0,0),view.screen.slot.SlotNode.opacity=0,view.screen.slot.SlotNode.runAction(cc.fadeIn(.5)),view.screen.slot.SlotController.showContent(),view.screen.slot.SlotController.checkShowBonusDialog();var i=view.screen.slot.SlotController.statusGame;i&&view.bar.bottom.gameBar.updateStatus(i),tracking.send(tracking.event.OPEN_SLOT.replace("SMID",view.screen.slot.gameId))}else cc.warn("Please open game before open slot")},t.prototype.deleteSlot=function(e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return game.log("UIController","deleteSlot"),view.screen.game?(!e||view.screen.slot&&e===view.screen.slot.id?(e=view.screen.slot.id,this.onView=n.VIEW.HOME,view.slot[e]&&(view.slot[e]=void 0),view.screen.slot.SlotController.hideContent(),view.screen.game.onClose()):view.slot[e]&&(view.slot[e].SlotNode.destroy(),null,view.slot[e]&&(view.slot[e]=void 0),view.multi.loadContent()),[2]):(cc.warn("Please open game before open slot"),[2])})})},t.prototype.instantiateSlot=function(e){return __awaiter(this,void 0,void 0,function(){var t,o,n,i,r;return __generator(this,function(a){return view.screen.game?(t=view.screen.game,null==(o=this.slot[e-1].prefab).name?[2]:(n=cc.instantiate(o),i=n.getComponent("SlotController"),r={id:e,gameId:i.gameId,uuid:util.game.generateUUID(),name:"Slot "+e,SlotNode:n,SlotController:i},n.opacity=0,n.parent=t.center,[2,r])):(cc.warn("Please open game before open slot"),[2])})})},t.prototype.hideBar=function(e){return void 0===e&&(e=!0),__awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return game.log("UIController","hideBar"),[4,Promise.all([view.bar.top.hide(e),view.bar.bottom.hide(e)])];case 1:return t.sent(),[2]}})})},t.prototype.showBar=function(e){return void 0===e&&(e=!0),__awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return game.log("UIController","showBar"),[4,Promise.all([view.bar.top.show(e),view.bar.bottom.show(e)])];case 1:return t.sent(),[2]}})})},t.prototype.lockBar=function(){game.log("UIController","lockBar"),view.bar.top.lock(),view.bar.bottom.lock()},t.prototype.unlockBar=function(){game.log("UIController","unlockBar"),view.bar.top.unlock(),view.bar.bottom.unlock()},t.prototype.updateBar=function(){game.log("UIController","updateBar"),view.bar.top.updateView(),view.bar.bottom.updateView()},t.prototype.showModel=function(){game.log("UIController","showModel"),view.screen.model.active=!0,view.screen.model.zIndex=define.zIndex.MODEL},t.prototype.hideModel=function(){game.log("UIController","hideModel"),view.screen.model.active=!1,view.screen.model.zIndex=0},t.prototype.showPopup=function(e,t){tracking.send(tracking.event.POPUP_POPUPNAME_OPEN.replace("POPUPNAME",e));var o=view.popup[e];if(o)o.isOpen||o.reOpen(t);else{var n=this.prefab.popupData.find(function(t){return t.name===e});n?((o=cc.instantiate(n.prefab).getComponent(n.componentName)).popupName=e,o.node.x=0,o.node.y=0,o.node.parent=this.canvas,o.init(t)):cc.warn("UIController","showPopup","Can't find popup name "+e)}return o},t.prototype.showPopupPrefab=function(e,t){var o=view.popup[e.popupName];return o?o.isOpen||o.reOpen(t):((o=cc.instantiate(e).getComponent("BasePopup")).node.x=0,o.node.y=0,o.node.parent=this.canvas,o.init(t)),o},t.prototype.closePopup=function(e){var t=view.popup[e];t?t.onClose():cc.warn("UIController","closePopup","Can't find popup name "+e)},t.prototype.showDialog=function(e){if(e&&e.name&&view.dialog[e.name])game.log("UIController","showDialog","popup existed");else{var t=cc.instantiate(this.prefab.dialog).getComponent("Dialog");t.init(e),t.node.x=0,t.node.y=0,t.node.parent=e.parent||this.canvas;var o=e.name?e.name:util.game.generateUUID();view.dialog[o]=t}},t.prototype.closeDialog=function(e){var t=view.dialog[e];t?t.onClose():cc.warn("UIController","closeDialog","Can't find dialog name "+e)},t.prototype.playAnimation=function(e){return __awaiter(this,void 0,void 0,function(){var t,o=this;return __generator(this,function(n){switch(n.label){case 0:return t=this.animPromise,this.animPromise=new Promise(function(n,i){return __awaiter(o,void 0,void 0,function(){var o;return __generator(this,function(i){switch(i.label){case 0:return[4,t];case 1:return i.sent(),o=cc.instantiate(this.prefab.animation.layout).getComponent("EffectLayout"),view.animation=o.node,o.node.parent=this.canvas,o.node.zIndex=define.zIndex.EFFECT,o.init(e),[4,o.play()];case 2:return i.sent(),n(),[2]}})})}),[4,this.animPromise];case 1:return n.sent(),[2]}})})},t.prototype.playPrefabAnimation=function(e,t){return __awaiter(this,void 0,void 0,function(){var o,n,i=this;return __generator(this,function(r){switch(r.label){case 0:return game.log("UIController","playPrefabAnimation",e,t),o=this.animPromise,(n=this.prefab.animation.data.find(function(t){return t.name==e}))?this.animPromise=new Promise(function(e,r){return __awaiter(i,void 0,void 0,function(){var i;return __generator(this,function(r){switch(r.label){case 0:return[4,o];case 1:return r.sent(),i=cc.instantiate(n.prefab).getComponent(n.componentName),view.animation=i.node,i.node.parent=this.canvas,i.node.zIndex=define.zIndex.EFFECT,i.init(t),[4,i.play()];case 2:return r.sent(),e(),[2]}})})}):game.log("UIController","playPrefabAnimation","play custom animation",e),[4,this.animPromise];case 1:return r.sent(),[2]}})})},t.prototype.openShortLoading=function(){view.progress||(view.progress=cc.instantiate(this.prefab.shortLoading),view.progress.parent=this.canvas,view.progress.zIndex=define.zIndex.SHORT_LOADING,view.progress.opacity=0,view.progress.runAction(cc.fadeIn(.1)))},t.prototype.closeShortLoading=function(){view.progress&&view.progress.runAction(cc.sequence([cc.fadeOut(.1),cc.callFunc(function(){view.progress.destroy(),view.progress=void 0})]))},__decorate([a(p)],t.prototype,"prefab",void 0),__decorate([a([d])],t.prototype,"slot",void 0),t=__decorate([r],t)}(cc.Component);o.default=h,cc._RF.pop()},{"./Define/DefineType":"DefineType"}],UserInfoController:[function(e,t,o){"use strict";cc._RF.push(t,"0983ea9pZtEF4fD8mosgb6y","UserInfoController"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Components/CoinLabel"),i=cc._decorator,r=i.ccclass,a=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinLabel=null,t.userLevel=null,t.userName=null,t.userClan=null,t.coinController=null,t._eventList=[],t}return __extends(t,e),t.prototype.onLoad=function(){this.initialize(),this.resgisterEvent()},t.prototype.initialize=function(){this.coinController=new n.default(this.coinLabel)},t.prototype.resgisterEvent=function(){this._eventList=[store.register(store.key.UPDATE_USER_BALANCE,this.updateUserBalance.bind(this))]},t.prototype.updateUserBalance=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){return this.coinController.updateUserBalance(e,t),[2]})})},t.prototype.onDestroy=function(){this._eventList.forEach(function(e){return store.unRegister(e)})},__decorate([a(cc.Label)],t.prototype,"coinLabel",void 0),__decorate([a(cc.Label)],t.prototype,"userLevel",void 0),__decorate([a(cc.Label)],t.prototype,"userName",void 0),__decorate([a(cc.Label)],t.prototype,"userClan",void 0),t=__decorate([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../Components/CoinLabel":"CoinLabel"}],WebAdmob:[function(e,t,o){"use strict";cc._RF.push(t,"03862IC0gBJ77UNq3s5/iwm","WebAdmob"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="WebAdmob",this.isBannerShow=!1}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){game.warn(this.tag,"init method not implemented.")},e.prototype.cache=function(){game.warn(this.tag,"cache method not implemented.")},e.prototype.showBanner=function(){game.warn(this.tag,"showBanner method not implemented.")},e.prototype.hideBanner=function(){game.warn(this.tag,"hideBanner method not implemented.")},e.prototype.getBannerHeight=function(){return game.warn(this.tag,"getBannerHeight method not implemented."),0},e.prototype.getBannerWidth=function(){return game.warn(this.tag,"getBannerWidth method not implemented."),0},e.prototype.isShowBanner=function(){return game.warn(this.tag,"isShowBanner method not implemented."),!1},e.prototype.isAvailableBanner=function(){return game.warn(this.tag,"isAvailableBanner method not implemented."),!1},e.prototype.showInterstitial=function(){game.warn(this.tag,"showInterstitial method not implemented.")},e.prototype.isAvailableInterstitial=function(){return game.warn(this.tag,"isAvailableInterstitial method not implemented."),!1},e.prototype.showRewarded=function(){game.warn(this.tag,"showRewarded method not implemented.")},e.prototype.isAvailableRewarded=function(){return game.warn(this.tag,"isAvailableRewarded method not implemented."),!1},e.prototype.listenner=function(e){game.warn(this.tag,"listenner method not implemented.")},e.prototype.bannerListenner=function(e){game.warn(this.tag,"bannerListenner method not implemented.")},e.prototype.interstitialListenner=function(e){game.warn(this.tag,"interstitialListenner method not implemented.")},e.prototype.rewardedListenner=function(e){game.warn(this.tag,"rewardedListenner method not implemented.")},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],WebFacebook:[function(e,t,o){"use strict";cc._RF.push(t,"47a36XhT7BE5YPjstQExNqA","WebFacebook"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="WebFacebook",this.isLogin=!1,this.userID="",this.accessToken="",this.loginCallback=void 0}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){game.log(this.tag,"facebook","init"),window.fbAsyncInit=function(){FB.init({appId:"2695783060451481",autoLogAppEvents:!0,xfbml:!0,version:"v3.2"}),FB.AppEvents.setAppVersion(game.data.versionGame)};var e="facebook-jssdk",t=document.getElementsByTagName("script")[0];if(document.getElementById(e))return!0;var o=document.createElement("script");return o.id=e,o.src="https://connect.facebook.net/en_US/sdk.js",t.parentNode.insertBefore(o,t),!0},e.prototype.login=function(){var e=this;return game.log(this.tag,"facebook","login"),tracking.send(tracking.event.FACEBOOK_LOGIN_CLICK),new Promise(function(t,o){FB.login(function(e){"connected"===e.status?this&&(this.isLogin=!0,this.accessToken=e.authResponse.accessToken,this.userID=e.authResponse.userID,this.listenner({type:define.type.FACEBOOK_LISTENNER.LOGIN,isLogin:!0,msg:""})):game.log("The person is not logged into this app or we are unable to tell.")}.bind(e),{scope:"public_profile, email"}),e.loginCallback=function(){t(platform.facebook.getAccessToken())}})},e.prototype.logout=function(){game.log(this.tag,"facebook","logout"),FB.logout(),this.isLogin=!1},e.prototype.isLoggedIn=function(){var e=this.isLogin;return game.log(this.tag,"facebook","is login",e),e},e.prototype.getUserID=function(){var e=this.userID;return game.log(this.tag,"facebook","userId: ",e),FB.getUserID()},e.prototype.getAccessToken=function(){var e=this.accessToken;return game.log(this.tag,"facebook","tokken: ",e),FB.getAccessToken()},e.prototype.shareHandle=function(e){if(e&&e.type){tracking.send(tracking.event.FACEBOOK_SHARE_CLICK);e.image,e.type;var t=e.link,o=e.text,n=e.title;game.log(this.tag,"facebook","share handle",e),FB.ui({method:"share",href:t,hashtag:n,quote:o},function(e){"error_message"===e?this.listenner({type:define.type.FACEBOOK_LISTENNER.SHARED_FAILED,data:{}}):e?this.listenner({type:define.type.FACEBOOK_LISTENNER.SHARED_SUCCESS,data:e}):this.listenner({type:define.type.FACEBOOK_LISTENNER.SHARED_CANCEL})}.bind(this))}},e.prototype.share=function(e){this.shareHandle(__assign({type:"link"},e))},e.prototype.sharePhoto=function(e){this.shareHandle(__assign({type:"photo"},e))},e.prototype.sendLogEvent=function(e,t){if("undefined"==typeof FB)return game.log(this.tag,"sendLogEvent","facebook wasn't init");game.log(this.tag,"facebook","send log event",e,t),void 0===t?FB.AppEvents.logEvent(e):FB.AppEvents.logEvent(e,t)},e.prototype.sendLogPurchase=function(e,t){game.log(this.tag,"facebook","send log purchase",e,t),FB.AppEvents.logPurchase(e,t)},e.prototype.openGroup=function(){game.log(this.tag,"facebook","openGroup"),platform.handle.openLink(define.string.URL_GROUP.replace("GROUPID",game.data.groupFB))},e.prototype.openFanpage=function(){game.log(this.tag,"facebook","openFanpage"),platform.handle.openLink(define.string.URL_FANPAGE.replace("PAGEID",game.data.fanpage))},e.prototype.listenner=function(e){var t=this;if(e&&e.type)switch(e.type){case define.type.FACEBOOK_LISTENNER.LOGIN:game.log(this.tag,"facebook listenner","LOGIN","isLogin: "+e.isLogin+" - msg: "+e.msg);var o=cc.sys.localStorage.getItem(define.key.local.LOGIN_DATA.replace("IP",api.HOST))||JSON.stringify({expires:void 0,token:"",type:0,uid:0});JSON.parse(o).type!==define.type.LOGIN_TYPE.FACEBOOK?api.sendGD({e:"connectFB",accessToken:platform.facebook.getAccessToken()},function(e,o){if(e)return game.error(e);var n=function(e){api.getToken({type:define.type.LOGIN_TYPE.FACEBOOK,data:platform.facebook.getAccessToken()}).then(function(t){var o={expires:t.expires,token:t.token,type:define.type.LOGIN_TYPE.FACEBOOK,uid:t.uid};cc.sys.localStorage.setItem(define.key.local.LOGIN_DATA.replace("IP",api.HOST),JSON.stringify(o)),e&&e()})};switch(o.code){case 402:game.log(t.tag,"Login FB success","need merge facebook",o),controller.ui.showDialog({title:"Account already exists",name:"facebook_accout_exists",message:{message:o.message},buttons:[{title:"Cancel",theme:define.type.CLASS_THEME.DANGER},{title:"OK",theme:define.type.CLASS_THEME.SUCCESS,callback:function(){api.sendGD({e:"confirmMergeFB",uid:game.user.id},function(e,o){if(e)return game.error(e);"success"===o?(game.log(t.tag,"Login FB success","merge facebook success"),n(function(){cc.game.restart()})):game.error("Cai nay chua lam")})}},{title:"Another\nAccount",theme:define.type.CLASS_THEME.SUCCESS,callback:function(){t.isLogin=!1,FB.logout(function(e){t.login()})}}]});break;case 401:game.log(t.tag,"Login FB success","facebook loged"),controller.ui.showDialog({title:"Alert",name:"facebook_accout_logged",message:{message:"Your account has been logged on this device"},buttons:[{title:"Confirm",theme:define.type.CLASS_THEME.DANGER}]});break;default:controller.ui.showDialog({title:"Messaage",name:"facebook_success",message:{message:"Loggin facebook success"},buttons:[{title:"OK",theme:define.type.CLASS_THEME.SUCCESS}]}),n(function(){t.loginCallback&&t.loginCallback()}),game.user.fbid=platform.facebook.getUserID(),store.emit(store.key.UPDATE_USER_AVATAR,"")}}):this.loginCallback&&this.loginCallback();break;case define.type.FACEBOOK_LISTENNER.API:game.log(this.tag,"facebook listenner","API","tag: "+e.tag+" - data: "+e.data);break;case define.type.FACEBOOK_LISTENNER.SHARED_SUCCESS:game.log(this.tag,"facebook listenner","SHARED_SUCCESS","data: "+e.data),tracking.send(tracking.event.FACEBOOK_SHARE_SUCCESS);break;case define.type.FACEBOOK_LISTENNER.SHARED_FAILED:game.log(this.tag,"facebook listenner","SHARED_FAILED","data: "+e.data),tracking.send(tracking.event.FACEBOOK_SHARE_FAILED);break;case define.type.FACEBOOK_LISTENNER.SHARED_CANCEL:game.log(this.tag,"facebook listenner","SHARED_CANCEL"),tracking.send(tracking.event.FACEBOOK_SHARE_CANCELED);break;case define.type.FACEBOOK_LISTENNER.PERMISSON:game.log(this.tag,"facebook listenner","LOGIN","isLogin: "+e.isLogin+" - msg: "+e.msg);break;case define.type.FACEBOOK_LISTENNER.FETCHFRIENDS:game.log(this.tag,"facebook listenner","FETCHFRIENDS");break;case define.type.FACEBOOK_LISTENNER.REQUESTINVITABLEFRIENDS:game.log(this.tag,"facebook listenner","REQUESTINVITABLEFRIENDS");break;case define.type.FACEBOOK_LISTENNER.INVITEFRIENDSWITHINVITEIDSRESULT:game.log(this.tag,"facebook listenner","INVITEFRIENDSWITHINVITEIDSRESULT");break;case define.type.FACEBOOK_LISTENNER.INVITEFRIENDSRESULT:game.log(this.tag,"facebook listenner","INVITEFRIENDSRESULT");break;case define.type.FACEBOOK_LISTENNER.GETUSERINFO:game.log(this.tag,"facebook listenner","GETUSERINFO");break;case define.type.FACEBOOK_LISTENNER.REQUESTGIFTRESULT:game.log(this.tag,"facebook listenner","REQUESTGIFTRESULT");break;case define.type.FACEBOOK_LISTENNER.SENDGIFTRESULT:game.log(this.tag,"facebook listenner","SENDGIFTRESULT");break;default:game.log(this.tag,"facebook listenner","UNKNOW")}},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],WebFirebase:[function(e,t,o){"use strict";cc._RF.push(t,"a4e22IfrqNGxZweA8enIzCo","WebFirebase"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="WebFirebase"}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){game.log(this.tag,"firebase","init");var e="firebase-jssdk",t=document.getElementsByTagName("script")[0];if(!document.getElementById(e)){var o=document.createElement("script");o.id=e,o.src="https://www.gstatic.com/firebasejs/6.3.5/firebase-app.js",t.parentNode.insertBefore(o,t);var n=function(){setTimeout(function(){if("function"!=typeof window.firebase)n();else{window.firebase.initializeApp({apiKey:"AIzaSyDqGlZbdfRM0krQxR2JSNys3eiRls9LtYQ",authDomain:"slotpro-fb650.firebaseapp.com",databaseURL:"https://slotpro-fb650.firebaseio.com",projectId:"slotpro-fb650",storageBucket:"",messagingSenderId:"634306148939",appId:"1:634306148939:web:1a69baefffe991dc"})}},2e3)};return n(),!0}},e.prototype.sendLogEvent=function(e,t){},e.prototype.getVersion=function(){return game.warn(this.tag,"getVersion method not implemented."),""},e.prototype.setUserProperty=function(e,t){game.warn(this.tag,"setUserProperty method not implemented.")},e.prototype.setUserID=function(e){game.warn(this.tag,"setUserID method not implemented.")},e.prototype.setScreenName=function(e,t){game.warn(this.tag,"setScreenName method not implemented.")},e.prototype.resetAnalyticsData=function(){game.warn(this.tag,"resetAnalyticsData method not implemented.")},e.prototype.setAnalyticsCollectionEnabled=function(e){game.warn(this.tag,"setAnalyticsCollectionEnabled method not implemented.")},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],WebHandle:[function(e,t,o){"use strict";cc._RF.push(t,"8ac8eHg8sVLvqoru3uKEe9e","WebHandle"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../../Define/DefineKey"),i=function(){function e(){this.tag="WebHandle",this.package="com.sloto.mania",this.version="1.0"}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.showMessageBox=function(e,t){if("string"==typeof e||"string"==typeof t)return alert(t),game.log(this.tag,"handle","show message box",!0),!0},e.prototype.getDeviceId=function(){var e=cc.sys.localStorage.getItem(n.local.DEVICE_ID);return e||(e=util.game.generateUUID()),cc.sys.localStorage.setItem(n.local.DEVICE_ID,e),game.log(this.tag,"handle","get device id",e),e},e.prototype.getPackageName=function(){return this.package},e.prototype.getVersionGame=function(){return this.version},e.prototype.getCountryCode=function(){return""},e.prototype.getOSVersion=function(){return cc.sys.osVersion},e.prototype.isConnecting=function(){return!0},e.prototype.checkAppInstall=function(e){return game.warn("Method not implemented."),!0},e.prototype.setWakeLock=function(e){game.warn("Method not implemented.")},e.prototype.openLink=function(e){e&&"string"==typeof e?cc.sys.openURL(e):game.error(this.tag,"handle","url is not useable")},e.prototype.screenshot=function(){var e=new cc.Node;e.parent=cc.director.getScene(),e.x=.5*cc.winSize.width,e.y=.5*cc.winSize.height;var t=e.addComponent(cc.Camera);t.cullingMask=4294967295;var o=new cc.RenderTexture,n=cc.game._renderContext;o.initWithSize(cc.visibleRect.width,cc.visibleRect.height,n.STENCIL_INDEX8),t.targetTexture=o,t.render();var i=o.readPixels(),r=document.createElement("canvas"),a=r.getContext("2d");r.width=o.width,r.height=o.height;for(var s=4*r.width,c=new Uint8Array(i.length),l=0;l<r.height;l++)for(var u=(d=r.height-1-l)*r.width*4,p=0;p<s;p++)c[l*s+p]=i[u+p];for(l=0;l<r.height;l++){var d=r.height-1-l,h=a.createImageData(r.width,1);for(u=d*r.width*4,p=0;p<s;p++)h.data[p]=c[u+p];a.putImageData(h,0,l)}var m=r.toDataURL("image/jpeg"),f=document.createElement("img");return f.src=m,e.destroy(),game.log(this.tag,"screenshot","save in path",f.src),{texture:o,path:f.src}},e.prototype.getWritablePath=function(e){return game.warn("Method not implemented."),""},e.prototype.saveImageData=function(e){game.warn("Method not implemented.")},e.intance=null,e}();o.default=i,cc._RF.pop()},{"../../Define/DefineKey":"DefineKey"}],WebIap:[function(e,t,o){"use strict";cc._RF.push(t,"b135dkgEKJAwI22dvit4hcg","WebIap"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="WebIap",this.listenner={onInitialized:function(e){game.log("platform.iap","iap listenner","on initialized","success: "+JSON.stringify(e))},onSuccess:function(e){tracking.send(tracking.event.IAP_PURCHASE_SUCCESS,this.itemBuying),tracking.purchase(e.id,e.priceValue),game.log("platform.iap","iap listenner","on success","product: "+JSON.stringify(e)),game.log("platform.iap","iap listenner","send game data"),this.itemBuying.type===define.type.ESHOP.GENERAL_SHOP?api.sendGD({e:define.key.api.BUY_SHOP_ITEM,method:"IAP_ANDROID",itemId:this.itemBuying.id,receipt:JSON.parse(e.receipt)},function(e,t){game.log("platform.iap","iap listenner","receive data",e,JSON.stringify(t)),t.megaWheel&&(view.popup.shop&&view.popup.shop.onClose(),game.data.megaWheel=t.megaWheel,view.screen.wheelBonus?(view.screen.wheelBonus.init(),view.screen.wheelBonus.onSpin()):controller.ui.openWheelBonus(define.type.WHEEL_BONUS.GOLD));var o=void 0,n="";e?(1==e&&(e="Error"),n=e):(o="Thank you",n="Your purchase was successful"),controller.ui.showDialog({title:o,type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:n},buttons:[{title:"OK",theme:e?define.type.CLASS_THEME.DANGER:define.type.CLASS_THEME.SUCCESS}]})}):this.itemBuying.type===define.type.ESHOP.MEGA_WHEEL?api.sendGD({e:"buyMegaWheel",method:"IAP_ANDROID",receipt:JSON.parse(e.receipt)},function(e,t){if(e)return 1==e&&(e="Error"),void controller.ui.showDialog({title:"Message",type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:e},buttons:[{title:"OK",theme:define.type.CLASS_THEME.DANGER}]});t&&t.status&&t.megaWheel&&(game.data.megaWheel={array:t.megaWheel.array,result:t.megaWheel.result},view.screen.wheelBonus?(view.screen.wheelBonus.init(),view.screen.wheelBonus.onSpin()):controller.ui.openWheelBonus(define.type.WHEEL_BONUS.GOLD))}):this.itemBuying.type===define.type.ESHOP.DEAL_SHOP&&api.sendGD({e:define.key.api.BUY_DEAL_SHOP,method:"IAP_ANDROID",receipt:JSON.parse(e.receipt)},function(e,t){if(1==e&&(e="Error"),controller.ui.showDialog({title:"Message",type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:e},buttons:[{title:"OK",theme:define.type.CLASS_THEME.DANGER}]}),t){game.data.shop[define.type.ESHOP.DEAL_SHOP]=void 0,store.emit(store.key.UPDATE_SHOP_DATA,game.data.shop);controller.ui.showDialog({title:"Thank you",type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:"Your purchase was successful"},buttons:[{title:"OK",theme:e?define.type.CLASS_THEME.DANGER:define.type.CLASS_THEME.SUCCESS}]})}})}.bind(this),onFailure:function(e,t){tracking.send(tracking.event.IAP_PURCHASE_FAILED),game.error("platform.iap","iap listenner","on failure","product: "+JSON.stringify(e)+" - msg: "+JSON.stringify(t)),controller.ui.showDialog({type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:"Purchase failure"},buttons:[{title:"OK",theme:define.type.CLASS_THEME.DANGER}]})},onCanceled:function(e){tracking.send(tracking.event.IAP_PURCHASE_CANCELED),game.warn("platform.iap","iap listenner","on canceled","product: "+JSON.stringify(e)),controller.ui.showDialog({type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:"Purchase canceled"},buttons:[{title:"OK",theme:define.type.CLASS_THEME.DANGER}]})},onRestored:function(e){tracking.send(tracking.event.IAP_PURCHASE_RESTORED),game.log("platform.iap","iap listenner","on restored","product: "+JSON.stringify(e))},onRestoreComplete:function(e,t){tracking.send(tracking.event.IAP_PURCHASE_RESTOR_COMPLETED),game.log("platform.iap","iap listenner","on restore complete","ok: "+JSON.stringify(e)+" - msg: "+JSON.stringify(t))},onProductRequestSuccess:function(e){game.log("platform.iap","iap listenner","on product request success","product: "+JSON.stringify(e));for(var t=0;t<e.length;t++);},onProductRequestFailure:function(e){game.log("platform.iap","iap listenner","on product request failure","msg: "+JSON.stringify(e))},onShouldAddStorePayment:function(e){game.log("platform.iap","iap listenner","on should add store payment","productName: "+JSON.stringify(e))},onFetchStorePromotionOrder:function(e,t){game.log("platform.iap","iap listenner","on fetch store promotion order","productNames: "+JSON.stringify(e)+" - error: "+JSON.stringify(t))},onFetchStorePromotionVisibility:function(e,t,o){game.log("platform.iap","iap listenner","on fetch store promotion visibility","productName: "+JSON.stringify(e)+" - visibility: "+JSON.stringify(t)+" - error: "+JSON.stringify(o))},onUpdateStorePromotionOrder:function(e){game.log("platform.iap","iap listenner","on update store promotion order","error: "+JSON.stringify(e))},onUpdateStorePromotionVisibility:function(e){game.log("platform.iap","iap listenner","on update store promotion visibility","error: "+JSON.stringify(e))},onPurchaseHistory:function(e){game.log("platform.iap","iap listenner","on purchase history","purchase: "+JSON.stringify(e))},onConsumed:function(e,t){game.log("platform.iap","iap listenner","on consumed","p: "+JSON.stringify(e)+") - error: "+JSON.stringify(t))},onDeferred:function(e){game.log("platform.iap","iap listenner","on deferred","p: "+JSON.stringify(e))}}}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){game.warn(this.tag,"init method not implemented.")},e.prototype.setDebug=function(e){game.warn(this.tag,"setDebug method not implemented.")},e.prototype.purchase=function(e){tracking.send(tracking.event.IAP_PURCHASE_CLICK,{pack:e}),config.setup.testIAP&&this.purchaseTest(e),game.warn(this.tag,"purchase method not implemented.")},e.prototype.purchaseByProductID=function(e){var t=Object.values(define.key.iap.web).find(function(t){return t.id==e});t?this.purchase(t.name):game.warn(this.tag,"purchaseByProductID","item wasn't defined")},e.prototype.purchaseTest=function(e){var t=this,o=Object.values(define.key.iap.web).find(function(t){return t.name==e});if(!o)return game.warn(this.tag,"purchaseByProductID","item wasn't defined");api.sendGD({e:"deleteReceipt",orderId:JSON.parse(o.test.receipt).orderId},function(e,n){game.log(e,n),t.listenner.onSuccess(o.test)})},e.prototype.refresh=function(){game.warn(this.tag,"refresh method not implemented.")},e.prototype.restore=function(){game.warn(this.tag,"restore method not implemented.")},e.prototype.removeListener=function(){game.warn(this.tag,"removeListener method not implemented.")},e.prototype.enableUserSideVerification=function(){game.warn(this.tag,"enableUserSideVerification method not implemented.")},e.prototype.isAutoFinishTransaction=function(){return game.warn(this.tag,"isAutoFinishTransaction method not implemented."),!1},e.prototype.setAutoFinishTransaction=function(e){game.warn(this.tag,"setAutoFinishTransaction method not implemented.")},e.prototype.finishTransaction=function(e){game.warn(this.tag,"finishTransaction method not implemented.")},e.prototype.fetchStorePromotionOrder=function(){game.warn(this.tag,"fetchStorePromotionOrder method not implemented.")},e.prototype.updateStorePromotionOrder=function(e){game.warn(this.tag,"updateStorePromotionOrder method not implemented.")},e.prototype.fetchStorePromotionVisibility=function(e){game.warn(this.tag,"fetchStorePromotionVisibility method not implemented.")},e.prototype.updateStorePromotionVisibility=function(e,t){game.warn(this.tag,"updateStorePromotionVisibility method not implemented.")},e.prototype.getPurchaseHistory=function(){game.warn(this.tag,"getPurchaseHistory method not implemented.")},e.prototype.getInitializedErrMsg=function(){game.warn(this.tag,"getInitializedErrMsg method not implemented.")},e.prototype.requestUpdateTransaction=function(){game.warn(this.tag,"requestUpdateTransaction method not implemented.")},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],WebOnesignal:[function(e,t,o){"use strict";cc._RF.push(t,"3e05dpZBRFPqoKIBTF2VZHL","WebOnesignal"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this.tag="WebOnesignal"}return e.getIns=function(){return this.intance||(this.intance=new e),this.intance},e.prototype.init=function(){game.log(this.tag,"init"),window.OneSignal=window.OneSignal||[];var e="onesignal-jssdk",t=document.getElementsByTagName("script")[0];if(!document.getElementById(e)){var o=document.createElement("script");o.id=e,o.src="https://cdn.onesignal.com/sdks/OneSignalSDK.js",t.parentNode.insertBefore(o,t);var n=function(){window.OneSignal.push(function(){window.OneSignal.init({appId:"c2e17187-f1a7-4933-84dd-0182ddd5faa8",autoResubscribe:!0,allowLocalhostAsSecureOrigin:!0,notifyButton:{enable:!0}})}),setTimeout(function(){"function"!=typeof window.OneSignal&&n()},2e3)};n()}},e.prototype.registerPushNotifications=function(){game.log(this.tag,"onesignal","register push notification"),window.OneSignal.showNativePrompt()},e.prototype.sendTag=function(e,t){game.log(this.tag,"onesignal","send tag","key: "+e+" - value: "+t),window.OneSignal.sendTag(e,t)},e.prototype.getTags=function(){game.log(this.tag,"onesignal","get tags"),window.OneSignal.getTags()},e.prototype.deleteTag=function(e){game.log(this.tag,"onesignal","delete tag","key: "+e),window.OneSignal.deleteTag(e)},e.prototype.setEmail=function(e){game.log(this.tag,"onesignal","set email","email: "+e),window.OneSignal.setEmail(e)},e.prototype.idsAvailable=function(){game.log(this.tag,"onesignal","ids avaiable"),window.OneSignal.isPushNotificationsEnabled()},e.prototype.enableInAppAlertNotification=function(e){game.log(this.tag,"onesignal","in app alert notification","enable: "+e)},e.prototype.setSubscription=function(e){game.log(this.tag,"onesignal","set subscription","enable: "+e),window.OneSignal.setSubscription(e)},e.prototype.postNotification=function(e){game.log(this.tag,"onesignal","post notification","json: "+e)},e.intance=null,e}();o.default=n,cc._RF.pop()},{}],WheelBonus:[function(e,t,o){"use strict";cc._RF.push(t,"c971aFRCxlDkL9PfVJH+TzS","WheelBonus"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Components/WheelComp"),i=e("../Components/CoinLabel"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wheel=void 0,t.bg=void 0,t.nodeModel=void 0,t.nodeTable=void 0,t.nodeLight=void 0,t.lbReward=void 0,t.btnClose=void 0,t.coinControl=void 0,t.data={result:0,items:[]},t.isOnReward=!1,t.isSpinning=!1,t}return __extends(t,e),t.prototype.onLoad=function(){this.initialize()},t.prototype.start=function(){this.onOpen()},t.prototype.initialize=function(){var e=this;this.wheel.node.opacity=0,this.nodeModel.opacity=0,this.nodeTable.opacity=0,this.btnClose.node.opacity=0,this.btnClose.node.scale=0,this.bg.opacity=0,this.bg.setContentSize(cc.winSize),this.coinControl=new i.default(this.lbReward,0,"","COIN"),this.flicker(.3),this.wheel.setEndSpinCallback(function(){e.flicker(.3),e.onReward(),e.isSpinning=!1})},t.prototype.init=function(e){"number"==typeof e.result&&(this.data.result=e.result),this.data.items=e.items,this.wheel.init({result:e.result,items:e.items})},t.prototype.setResult=function(e){"number"==typeof e&&this.wheel.setResult(e)},t.prototype.onSpin=function(){this.isSpinning=!0,this.btnClose.node.runAction(effect.bouceOut()),this.resetReward(),this.wheel.spin(),this.flicker(.1),this.wheel.flicker(.1)},t.prototype.onOpen=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},t.prototype.onClose=function(){},t.prototype.onReward=function(){var e=this.data;this.wheel.unLock(),this.isOnReward=!0,this.coinControl.updateUserBalance(e.items[e.result]);var t=this.nodeTable.getChildByName("sub"),o=this.nodeTable.getChildByName("main");t.stopAllActions(),t.runAction(cc.moveTo(.4,cc.v2(0,-100)).easing(cc.easeIn(.7))),o.stopAllActions(),o.runAction(cc.moveTo(.4,cc.v2(0,67)).easing(cc.easeIn(.7)))},t.prototype.resetReward=function(){this.isOnReward=!1,this.coinControl.updateUserBalance(0);var e=this.nodeTable.getChildByName("sub"),t=this.nodeTable.getChildByName("main");e.stopAllActions(),e.runAction(cc.moveTo(.4,cc.v2(0,0)).easing(cc.easeOut(.7))),t.stopAllActions(),t.runAction(cc.moveTo(.4,cc.v2(0,0)).easing(cc.easeOut(.7)))},t.prototype.flicker=function(e){if(this.nodeLight){var t=this.nodeLight.getChildByName("light1"),o=this.nodeLight.getChildByName("light2");this.nodeLight.stopAllActions(),this.nodeLight.runAction(cc.repeatForever(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.active=!t.active,o.active=!o.active}))))}},t.prototype.onClickSpin=function(){this.onSpin()},t.prototype.onClickCollect=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.isOnReward?(game.log("WheelBonus","onClickCollect"),[4,new Promise(function(t,o){api.sendGD({e:api.key.GET_DAILY_BONUS_REWARD,type:define.type.EDailyBonus.FREE_WHEEL},function(o,n){o||n.status&&(e.isOnReward=!1,store.emit(store.key.UPDATE_USER_BALANCE,n.userBalance),game.data.dailyBonus.freeWheel.isTaken=!0,store.emit(store.key.DAILYBONUS,game.data.dailyBonus),t())})})]):(cc.warn("WheelBonus","onClickCollect","Wheel still rotate"),[2]);case 1:return t.sent(),[2]}})})},t.prototype.onClickClose=function(){if(this.isOnReward||this.isSpinning){var e="";return this.isOnReward&&(e="You must receive the reward before exit"),this.isSpinning&&(e="You cannot exit the game when the wheel is spinning"),void controller.ui.showDialog({title:"Message",type:define.type.DIALOG_TYPE.HIGH,name:"wheel_msg",message:{message:e},buttons:[{title:"OK",theme:define.type.CLASS_THEME.INFO}]})}controller.ui.closeWheelBonus()},__decorate([s(n.default)],t.prototype,"wheel",void 0),__decorate([s(cc.Node)],t.prototype,"bg",void 0),__decorate([s(cc.Node)],t.prototype,"nodeModel",void 0),__decorate([s(cc.Node)],t.prototype,"nodeTable",void 0),__decorate([s(cc.Node)],t.prototype,"nodeLight",void 0),__decorate([s(cc.Label)],t.prototype,"lbReward",void 0),__decorate([s(cc.Button)],t.prototype,"btnClose",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../Components/CoinLabel":"CoinLabel","../Components/WheelComp":"WheelComp"}],WheelComp:[function(e,t,o){"use strict";cc._RF.push(t,"9e5acvPfHtCTZIjh0Qu3VGO","WheelComp"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,r=n.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btnSpin=void 0,t.nodeLight=void 0,t.nodeLight1=void 0,t.nodeLight2=void 0,t.nodeWheel=void 0,t.nodeTrans=void 0,t.nodeArrow=void 0,t.timeAutoStop=2e3,t.maxVelocity=400,t.accel=100,t.items=[],t.rigWheel=void 0,t.onSpin=!1,t.lockSpin=!1,t.startAngle=0,t.resultNum=void 0,t.endSpinCallBack=void 0,t}return __extends(t,e),t.prototype.onLoad=function(){var e=cc.director.getPhysicsManager();e.enabled=!0,e.gravity=cc.v2(0,-100),this.rigWheel=this.nodeWheel.getComponent(cc.RigidBody),this.flicker(.3)},t.prototype.init=function(e){var t=e.result,o=e.items;if(!o||"number"==typeof t&&(t<0||t>=o.length))cc.warn("Input error",t,o);else{var n=this.nodeWheel.getChildByName("item").children.map(function(e){return e.getComponent(cc.Label)});n.length===o.length?(this.items=o,n.forEach(function(e,t){e.string=util.string.formatMoney(o[t])}),"number"==typeof t&&(this.resultNum=t)):cc.warn("Size of items data != size of label items of prefab")}},t.prototype.setResult=function(e){"number"==typeof e&&(this.resultNum=e)},t.prototype.flicker=function(e){var t=this;this.nodeLight.stopAllActions(),this.nodeLight.runAction(cc.repeatForever(cc.sequence(cc.delayTime(e),cc.callFunc(function(){t.nodeLight1.active=!t.nodeLight1.active,t.nodeLight2.active=!t.nodeLight2.active}))))},t.prototype.spin=function(){var e=this;game.log("WheelBonus","onClickSpin"),this.lockSpin||(this.onSpin=!this.onSpin,this.lock(),this.onSpin&&(this.node.stopAllActions(),this.nodeTrans.stopAllActions(),this.nodeWheel.stopAllActions(),this.rigWheel.angularVelocity=0,this.nodeTrans.active=!1,this.nodeTrans.opacity=0,this.node.runAction(cc.sequence(cc.delayTime(this.timeAutoStop/1e3),cc.callFunc(function(){e&&e.node&&e.onSpin&&(e.onSpin=!1)})))))},t.prototype.lock=function(){this.lockSpin=!0},t.prototype.unLock=function(){this.lockSpin=!1},t.prototype.getItemNum=function(){if(this.items&&this.items.length){var e=this.getItemAng();return Math.abs(Math.floor(e*this.items.length/360))}},t.prototype.getItemAng=function(e){return void 0===e?this.nodeWheel.rotation%360-this.startAngle:this.items&&this.items.length?360-e*(360/this.items.length):void 0},t.prototype.setEndSpinCallback=function(e){this.endSpinCallBack=e},t.prototype.update=function(e){var t=this;if(this.onSpin)Math.abs(this.rigWheel.angularVelocity)<this.maxVelocity?this.rigWheel.angularVelocity+=this.accel*e:this.lockSpin&&(this.btnSpin.node.color=cc.color(255,255,255));else{if(Math.abs(this.rigWheel.angularVelocity)>200)this.rigWheel.angularVelocity-=this.accel*e;else if(this.rigWheel.angularVelocity>0&&this.items&&this.items.length){var o=this.resultNum,n=this.getItemNum(),i=360/this.items.length,r=720+(o>=n?o-n:this.items.length-n+o)*i-(this.nodeWheel.rotation%24>12?12:0);this.rigWheel.angularVelocity=0;var a=r/150;this.nodeWheel.runAction(cc.rotateBy(r/150,r).easing(cc.easeSineOut())),this.nodeTrans.active=!0,this.nodeTrans.opacity=0,this.nodeTrans.rotation=this.getItemAng(this.resultNum),this.nodeTrans.runAction(cc.sequence(cc.delayTime(.7*a),cc.fadeIn(.3*a))),this.node.runAction(cc.sequence(cc.delayTime(a),cc.callFunc(function(){t&&t.node&&(t.flicker(.3),t.endSpinCallBack&&t.endSpinCallBack())})))}}},__decorate([r(cc.Button)],t.prototype,"btnSpin",void 0),__decorate([r(cc.Node)],t.prototype,"nodeLight",void 0),__decorate([r(cc.Node)],t.prototype,"nodeLight1",void 0),__decorate([r(cc.Node)],t.prototype,"nodeLight2",void 0),__decorate([r(cc.Node)],t.prototype,"nodeWheel",void 0),__decorate([r(cc.Node)],t.prototype,"nodeTrans",void 0),__decorate([r(cc.Node)],t.prototype,"nodeArrow",void 0),__decorate([r],t.prototype,"timeAutoStop",void 0),__decorate([r],t.prototype,"maxVelocity",void 0),__decorate([r],t.prototype,"accel",void 0),t=__decorate([i],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],WheelGold:[function(e,t,o){"use strict";cc._RF.push(t,"13c74Jx+xNEbYOCOUaSqnBp","WheelGold"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./WheelBonus"),i=e("../Define/DefineType"),r=e("../Components/CoinLabel"),a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shopItem=void 0,t.key=[],t}return __extends(t,e),t.prototype.start=function(){this.registerStore(),e.prototype.start.call(this)},t.prototype.init=function(){"number"==typeof game.data.megaWheel.result&&(this.data.result=game.data.megaWheel.result,this.wheel.setResult(game.data.megaWheel.result),this.btnClose.node.runAction(effect.bouceOut())),this.registerStore(),this.updateButtonSpin()},t.prototype.registerStore=function(){var e=this,t=store.register(store.key.UPDATE_SHOP_DATA,function(t){e.wheel.btnSpin.node.getChildByName("text").getComponent(cc.Label).string="$"+t.MEGA_WHEEL.price.toFixed(2);var o=t[i.ESHOP.MEGA_WHEEL];e.shopItem={price:o.price,type:i.ESHOP.MEGA_WHEEL,productId:o.productId}});this.key.push(t);var o=store.register(store.key.UPDATE_MEGAWHEEL_DATA,function(t){t.array&&(e.data.items=t.array,e.wheel.init({items:t.array}))});this.key.push(o)},t.prototype.initialize=function(){var e=this;this.wheel.node.opacity=0,this.nodeModel.opacity=0,this.nodeTable.opacity=0,this.btnClose.node.opacity=0,this.btnClose.node.scale=0,this.bg.opacity=0,this.bg.setContentSize(cc.winSize),this.coinControl=new r.default(this.lbReward,0,"","\nCOIN"),this.flicker(.3),this.wheel.setEndSpinCallback(function(){e.flicker(.3),e.onReward(),e.isSpinning=!1})},t.prototype.onOpen=function(){return __awaiter(this,void 0,void 0,function(){var e,t,o=this;return __generator(this,function(n){switch(n.label){case 0:return e=.3,t=1,[4,new Promise(function(t,n){o.bg.y=-cc.winSize.height,o.bg.opacity=255,o.bg.runAction(cc.sequence(cc.moveTo(e,cc.v2(0,0)).easing(cc.easeIn(.7)),cc.callFunc(function(){t()})))})];case 1:return n.sent(),this&&this.node?this.nodeModel?(this.nodeModel.runAction(effect.moveInBy({time:t,direction:define.type.DIRECTION.LEFT,distance:300})),this.nodeTable?(this.nodeTable.runAction(effect.moveInBy({time:t,direction:define.type.DIRECTION.RIGHT,distance:300})),this.wheel?(this.wheel.node.opacity=0,this.wheel.node.runAction(cc.fadeIn(t)),[4,new Promise(function(e,n){o.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){e()})))})]):[2]):[2]):[2]:[2];case 2:return n.sent(),[4,new Promise(function(e,t){o.btnClose&&"number"!=typeof game.data.megaWheel.result?o.btnClose.node.runAction(effect.bouceIn({callback:function(){e()}})):e()})];case 3:return n.sent(),[2]}})})},t.prototype.onClose=function(){var e=this;return this.bg.runAction(cc.sequence(cc.delayTime(.5),cc.moveTo(.2,cc.v2(0,-cc.winSize.height)).easing(cc.easeOut(.7)))),this.nodeModel.runAction(effect.moveOutBy({time:.5,direction:define.type.DIRECTION.LEFT,distance:300})),this.nodeTable.runAction(effect.moveOutBy({time:.5,direction:define.type.DIRECTION.RIGHT,distance:300})),this.wheel.node.runAction(cc.fadeOut(.5)),this.btnClose.node.runAction(effect.bouceOut()),new Promise(function(t,o){e.node.runAction(cc.sequence(cc.delayTime(.7),cc.callFunc(function(){t()})))})},t.prototype.updateButtonSpin=function(){var e=this.wheel.btnSpin,t=e.node.getChildByName("title"),o=e.node.getChildByName("text");"number"==typeof game.data.megaWheel.result?(t.y=0,o.opacity=0):(t.y=18,o.opacity=255)},t.prototype.showDialogClose=function(){var e=this;controller.ui.showDialog({title:"Mega Wheel",type:define.type.DIALOG_TYPE.HIGH,name:"iap_msg",message:{message:"All wedges are worth X20 the mega bonus!\n Win up to 400,000 Coins\nFor only "+this.shopItem.price.toFixed(2)+"$"},buttons:[{title:"Spin Now",theme:define.type.CLASS_THEME.SUCCESS},{title:"Quit",theme:define.type.CLASS_THEME.DANGER,callback:function(){e.onClickClose()}}]})},t.prototype.onClickCollect=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.isOnReward?(game.log("WheelBonus","onClickCollect"),[4,new Promise(function(t,o){api.sendGD({e:api.key.GET_MEGA_WHEEL_REWARD,type:define.type.EDailyBonus.FREE_WHEEL},function(o,n){if(!o&&n.status){n.coin;e.isOnReward=!1,game.data.megaWheel.result=null,e.updateButtonSpin(),t()}})})]):(cc.warn("WheelBonus","onClickCollect","Wheel still rotate"),[2]);case 1:return t.sent(),[4,new Promise(function(t,o){e.coinControl.updateUserBalance(0);var n=e.nodeTable.getChildByName("sub"),i=e.nodeTable.getChildByName("main");n.stopAllActions(),n.runAction(cc.moveTo(.4,cc.v2(0,0)).easing(cc.easeIn(.7))),i.stopAllActions(),i.runAction(cc.moveTo(.4,cc.v2(0,0)).easing(cc.easeIn(.7))),e.node.runAction(effect.delay({time:.4,callback:function(){t()}}))})];case 2:return t.sent(),[4,new Promise(function(t,o){e.btnClose&&e.btnClose.node.runAction(effect.bouceIn({callback:function(){t()}}))})];case 3:return t.sent(),[2]}})})},t.prototype.onClickSpin=function(){this.isOnReward||this.isSpinning?game.log("WheelSilver","onClickSpin","can't spin on this time"):"number"!=typeof game.data.megaWheel.result?(platform.iap.itemBuying=this.shopItem,tracking.send(tracking.event.IAP_PURCHASE_WHEEL,this.shopItem),platform.iap.purchaseByProductID(this.shopItem.productId)):(void 0===this.wheel.resultNum&&this.wheel.setResult(game.data.megaWheel.result),this.onSpin())},t.prototype.onClickClose=function(){"number"!=typeof game.data.megaWheel.result&&e.prototype.onClickClose.call(this)},t.prototype.onDestroy=function(){this.key.forEach(function(e){store.unRegister(e)})},t=__decorate([s],t)}(n.default));o.default=c,cc._RF.pop()},{"../Components/CoinLabel":"CoinLabel","../Define/DefineType":"DefineType","./WheelBonus":"WheelBonus"}],WheelSilver:[function(e,t,o){"use strict";cc._RF.push(t,"32dd9SAg39PbbK9Br7jyUCl","WheelSilver"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("./WheelBonus"),i=e("../Components/CoinLabel"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodeLogo=void 0,t.btnCollect=void 0,t.spfCollectActive=void 0,t.spfCollectInactive=void 0,t}return __extends(t,e),t.prototype.initialize=function(){var e=this;this.wheel.node.opacity=0,this.nodeModel.opacity=0,this.nodeTable.opacity=0,this.nodeLogo.opacity=0,this.btnCollect.node.opacity=0,this.btnClose.node.opacity=0,this.btnClose.node.scale=0,this.bg.opacity=0,this.bg.setContentSize(cc.winSize),this.coinControl=new i.default(this.lbReward,0,""," COIN"),this.wheel.setEndSpinCallback(function(){e.onReward(),e.btnClose.node.runAction(effect.bouceOut())})},t.prototype.onOpen=function(){return __awaiter(this,void 0,void 0,function(){var e,t,o=this;return __generator(this,function(n){switch(n.label){case 0:return e=.3,t=1,[4,new Promise(function(t,n){o.bg.y=-cc.winSize.height,o.bg.opacity=255,o.bg.runAction(cc.sequence(cc.moveTo(e,cc.v2(0,0)).easing(cc.easeIn(.7)),cc.callFunc(function(){t()})))})];case 1:return n.sent(),this&&this.node?this.nodeModel?(this.nodeModel.runAction(effect.moveInBy({time:t,direction:define.type.DIRECTION.LEFT,distance:300})),this.nodeTable?(this.nodeTable.runAction(cc.sequence(cc.delayTime(t),effect.moveInBy({time:.25,easing:!1,direction:define.type.DIRECTION.LEFT,distance:300}))),this.nodeLogo?(this.nodeLogo.runAction(effect.bouceIn()),this.btnCollect?(this.btnCollect.node.runAction(effect.bouceIn()),this.wheel?(this.wheel.node.opacity=0,this.wheel.node.runAction(cc.fadeIn(t)),[4,new Promise(function(e,n){o.node.runAction(cc.sequence(cc.delayTime(t),cc.callFunc(function(){e()})))})]):[2]):[2]):[2]):[2]):[2]:[2];case 2:return n.sent(),[4,new Promise(function(e,t){o.btnClose?o.btnClose.node.runAction(effect.bouceIn({callback:function(){e()}})):e()})];case 3:return n.sent(),[2]}})})},t.prototype.onClose=function(){var e=this;return this.bg.runAction(cc.sequence(cc.delayTime(.75),cc.moveTo(.2,cc.v2(0,-cc.winSize.height)).easing(cc.easeOut(.7)))),this.nodeModel.runAction(cc.sequence(cc.delayTime(.25),effect.moveOutBy({time:.5,direction:define.type.DIRECTION.LEFT,distance:300}))),this.nodeTable.runAction(effect.moveOutBy({time:.25,easing:!1,direction:define.type.DIRECTION.LEFT,distance:300})),this.wheel.node.runAction(cc.sequence(cc.delayTime(.25),cc.fadeOut(.5))),this.nodeLogo.runAction(cc.sequence(cc.delayTime(.25),effect.bouceOut())),this.btnCollect.node.runAction(cc.sequence(cc.delayTime(.25),effect.bouceOut())),this.btnClose.node.runAction(effect.bouceOut()),new Promise(function(t,o){e.node.runAction(cc.sequence(cc.delayTime(.95),cc.callFunc(function(){t()})))})},t.prototype.onReward=function(){var e=this.data;this.wheel.unLock(),this.isOnReward=!0,this.coinControl.updateUserBalance(e.items[e.result]),this.btnCollect.getComponent(cc.Sprite).spriteFrame=this.spfCollectActive},t.prototype.resetReward=function(){this.isOnReward=!1,this.coinControl.updateUserBalance(0),this.btnCollect.getComponent(cc.Sprite).spriteFrame=this.spfCollectInactive},t.prototype.onClickSpin=function(){this.isOnReward||this.isSpinning||game.data.dailyBonus.freeWheel.isTaken?game.log("WheelSilver","onClickSpin","can't spin on this time"):this.onSpin()},t.prototype.onClickCollect=function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return this.isOnReward?(game.log("WheelBonus","onClickCollect"),[4,new Promise(function(t,o){api.sendGD({e:api.key.GET_DAILY_BONUS_REWARD,type:define.type.EDailyBonus.FREE_WHEEL},function(o,n){o||n.status&&(e.isOnReward=!1,store.emit(store.key.UPDATE_USER_BALANCE,n.userBalance),game.data.dailyBonus.freeWheel.isTaken=!0,store.emit(store.key.DAILYBONUS,game.data.dailyBonus),t())})})]):(cc.warn("WheelBonus","onClickCollect","Wheel still rotate"),[2]);case 1:return t.sent(),[4,controller.ui.closeWheelBonus()];case 2:return t.sent(),[4,controller.ui.openWheelBonus(define.type.WHEEL_BONUS.GOLD)];case 3:return t.sent(),[2]}})})},__decorate([s(cc.Node)],t.prototype,"nodeLogo",void 0),__decorate([s(cc.Button)],t.prototype,"btnCollect",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"spfCollectActive",void 0),__decorate([s(cc.SpriteFrame)],t.prototype,"spfCollectInactive",void 0),t=__decorate([a],t)}(n.default);o.default=c,cc._RF.pop()},{"../Components/CoinLabel":"CoinLabel","./WheelBonus":"WheelBonus"}],WinAnimation:[function(e,t,o){"use strict";cc._RF.push(t,"d5ddbfIaTVOiqo/5lHuc5A8","WinAnimation"),Object.defineProperty(o,"__esModule",{value:!0});var n=e("../Components/CoinLabel"),i=e("../Define/DefineType"),r=cc._decorator,a=r.ccclass,s=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lbCoin=void 0,t.skeletonDataBigWin=null,t.skeletonDataMegaWin=null,t.coinController=void 0,t.effectLayout=void 0,t.data={type:i.WIN_TYPE.NORMAL,coin:2e6},t}return __extends(t,e),t.prototype.init=function(e){this.data=e},t.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.coinController=new n.default(this.lbCoin),this.effectLayout=this.getComponent("EffectLayout"),this.lbCoin.node.opacity=0,this.data.type==i.WIN_TYPE.BIGWIN&&(this.effectLayout.animData.skeletonData=this.skeletonDataBigWin,this.effectLayout.animData.animation="bigwin"),this.data.type==i.WIN_TYPE.MEGAWIN&&(this.effectLayout.animData.skeletonData=this.skeletonDataMegaWin,this.effectLayout.animData.animation="megawin"),[4,this.onOpen()];case 1:return e.sent(),[4,this.onClose()];case 2:return e.sent(),[2]}})})},t.prototype.onOpen=function(){var e=this;return Promise.all([new Promise(function(t,o){e.effectLayout.onOpen().then(function(){t()})}),new Promise(function(t,o){e.lbCoin.node.runAction(effect.bouceIn({time:.3,callback:function(){e.coinController&&e.coinController.updateUserBalance(e.data.coin,{subfix:" $"}),e.effectLayout&&e.effectLayout.coin.play(),t()}}))})])},t.prototype.onClose=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return e=[this.lbCoin.node],[4,Promise.all(e.map(function(e,t){return new Promise(function(o,n){e?e.runAction(effect.bouceOut({time:.3+.15*t,callback:function(){o()}})):o()})}))];case 1:return t.sent(),this.effectLayout?[4,this.effectLayout.onClose()]:[3,3];case 2:t.sent(),t.label=3;case 3:return this.node&&this.onRelease(),[2]}})})},t.prototype.onRelease=function(){this.effectLayout.onRelease()},__decorate([s(cc.Label)],t.prototype,"lbCoin",void 0),__decorate([s(sp.SkeletonData)],t.prototype,"skeletonDataBigWin",void 0),__decorate([s(sp.SkeletonData)],t.prototype,"skeletonDataMegaWin",void 0),t=__decorate([a],t)}(cc.Component);o.default=c,cc._RF.pop()},{"../Components/CoinLabel":"CoinLabel","../Define/DefineType":"DefineType"}],auth:[function(e,t,o){"use strict";cc._RF.push(t,"a2a548X5aVKa73+sUjHuuhj","auth"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){this._internalStorage={},this.isLocalStorageEnabled=this._checkLocalStorageEnabled()}return e.prototype._checkLocalStorageEnabled=function(){var e;try{cc.sys.localStorage,cc.sys.localStorage.setItem("__scLocalStorageTest",1),cc.sys.localStorage.removeItem("__scLocalStorageTest")}catch(t){e=t}return!e},e.prototype.saveToken=function(e,t,o,n){this.isLocalStorageEnabled&&cc.sys.localStorage?cc.sys.localStorage.setItem(e,t):this._internalStorage[e]=t,n&&n(null,t)},e.prototype.removeToken=function(e,t){var o;this.loadToken(e,function(e,t){o=t}),this.isLocalStorageEnabled&&cc.sys.localStorage?cc.sys.localStorage.removeItem(e):delete this._internalStorage[e],t&&t(null,o)},e.prototype.loadToken=function(e,t){t(null,this.isLocalStorageEnabled&&cc.sys.localStorage?cc.sys.localStorage.getItem(e):this._internalStorage[e]||null)},e}();o.AuthEngine=n,cc._RF.pop()},{}]},{},["AccumulatedBar1","AnimationController1","MinigameController1","ResourceMinigame1","ResourceController1","SlotController1","SlotItem1","AccumulatedBar2","AnimationController2","MinigameController2","ResourceMinigame2","ResourceController2","SlotController2","SlotItem2","AnimationController3","ItemSkeleton","MinigameController3","ResourceMinigame3","ResourceController3","SlotController3","SlotItem3","AnimationController4","AtributeStatic","ResourceController4","SlotController4","SlotItem4","MinigameController4","ResourceMinigame4","AnimationController5","MinigameController5","ResourceMiniGame5","ResourceController5","SlotController5","SlotItem5","AnimationController6","MinigameController6","ResourceMiniGame6","ResourceController6","SlotController6","SlotItem6","AnimationController7","MinigameController7","ResourceMiniGame7","ResourceController7","SlotController7","SlotItem7","AnimationController8","MinigameController8","ResourceMiniGame8","ResourceController8","SlotController8","SlotItem8","CoinAnimation","DailyRewardAnimation","ItemAnimation","LevelUpAnimation","WinAnimation","Api","BottomBarController","BottomGameBarController","BottomHomeBarController","MultiScene","TopBarController","BasePopup","AccumulatedBar","Avatar","CoinLabel","WheelComp","DefineColor","DefineInterface","DefineKey","DefineString","DefineType","DefineZIndex","Dialog","DownloadCtr","Effect","EffectLayout","GameConfig","GameDefine","GameScene","HomeScene","ItemGame","UserInfoController","LoadingScene","Main","PlatformController","AndroidAdmob","AndroidFacebook","AndroidFirebase","AndroidHandle","AndroidIap","AndroidOnesignal","IOSAdmob","IOSFacebook","IOSFireBase","IOSHandle","IOSIap","IOSOnesignal","WebAdmob","WebFacebook","WebFirebase","WebHandle","WebIap","WebOnesignal","PopupDailyQuest","PopupSetting","PopupShop","AutoFitCanvas","ImageScale","MarginWithIphoneX","AnimationController","Item","LinesController","PayTable","PayTableResource","ResourceController","ResourcePrefab","SlotController","SlotItem","SlotSkeleton","SoundController","Store","Tracking","UIController","GameUtil","StringUtil","WheelBonus","WheelGold","WheelSilver","auth"]);